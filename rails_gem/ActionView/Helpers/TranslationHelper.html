<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActionView::Helpers::TranslationHelper &mdash; Rails-5.0.2</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActionView::Helpers::TranslationHelper",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
        <a href='../../../index.html'>Home</a> &raquo; 
        <a href='../../index.html'>Rails-5.0.2</a> &raquo; 
        <a href='../../_index.html#alpha_T'>Index (T)</a> &raquo; 
        <a href="../../ActionView.html" title="ActionView (module)">ActionView</a> &raquo; 
        <a class='nodoc' href="../Helpers.html" title="ActionView::Helpers (module)">Helpers</a> &raquo; 
        <span class='title'><a id='t2_doc_top' href='#'>TranslationHelper&nbsp;&#x25B2;</a></span>
      </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActionView::Helpers::TranslationHelper</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="../../ActionDispatch/DebugExceptions/DebugView.html" title="ActionDispatch::DebugExceptions::DebugView (class)">::ActionDispatch::DebugExceptions::DebugView</a>,
          <a href="../Base.html" title="ActionView::Base (class)">::ActionView::Base</a>,
          <a class='nodoc' href="../Helpers.html" title="ActionView::Helpers (module)">::ActionView::Helpers</a>,
          <a href="../TestCase.html" title="ActionView::TestCase (class)">::ActionView::TestCase</a>,
          <a href="../TestCase/Behavior.html" title="ActionView::TestCase::Behavior (module)">::ActionView::TestCase::Behavior</a>
      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">::ActiveSupport::Concern</a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a>,
          <a href="OutputSafetyHelper.html" title="ActionView::Helpers::OutputSafetyHelper (module)">OutputSafetyHelper</a>,
          <a href="CaptureHelper.html" title="ActionView::Helpers::CaptureHelper (module)">CaptureHelper</a>
        </div>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/v5.0.2/actionview/lib/action_view/helpers/translation_helper.rb#L8'>actionview/lib/action_view/helpers/translation_helper.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
  <h3 class='inherited'><a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a> - Included</h3>
  <p  class='inherited'>
    <a href="TagHelper.html#BOOLEAN_ATTRIBUTES-constant" title="ActionView::Helpers::TagHelper::BOOLEAN_ATTRIBUTES (constant)">BOOLEAN_ATTRIBUTES</a>, 
    <a href="TagHelper.html#PRE_CONTENT_STRINGS-constant" title="ActionView::Helpers::TagHelper::PRE_CONTENT_STRINGS (constant)">PRE_CONTENT_STRINGS</a>, 
    <a href="TagHelper.html#TAG_PREFIXES-constant" title="ActionView::Helpers::TagHelper::TAG_PREFIXES (constant)">TAG_PREFIXES</a>
  </p>
</div>

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">::ActiveSupport::Concern</a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../../ActiveSupport/Concern.html#append_features-instance_method" title="ActiveSupport::Concern#append_features (method)">append_features</a>,
        <a class='i_m ' href="../../ActiveSupport/Concern.html#class_methods-instance_method" title="ActiveSupport::Concern#class_methods (method)">class_methods</a>,
        <a class='i_m ' href="../../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">included</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>
        

<h2 class='h2_sum' id='instance_Method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#l-instance_method" title="#l (instance method)">#<strong>l</strong>(*args)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#localize-instance_method" title="ActionView::Helpers::TranslationHelper#localize (method)">#localize</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#localize-instance_method" title="#localize (instance method)">#<strong>localize</strong>(*args)  </a>
      (also: #l)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Delegates to <code>I18n.localize</code> with no additional functionality.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#t-instance_method" title="#t (instance method)">#<strong>t</strong>(key, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#translate-instance_method" title="ActionView::Helpers::TranslationHelper#translate (method)">#translate</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#translate-instance_method" title="#translate (instance method)">#<strong>translate</strong>(key, options = {})  </a>
      (also: #t)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Delegates to <code>I18n#translate</code> but also performs three additional functions.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#cdata_section-instance_method" title="ActionView::Helpers::TagHelper#cdata_section (method)">#cdata_section</a></td>
      <td><div class='inline'><p>Returns a CDATA section with the given <code>content</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#content_tag-instance_method" title="ActionView::Helpers::TagHelper#content_tag (method)">#content_tag</a></td>
      <td><div class='inline'><p>Returns an HTML block tag of type <code>name</code> surrounding the <code>content</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#escape_once-instance_method" title="ActionView::Helpers::TagHelper#escape_once (method)">#escape_once</a></td>
      <td><div class='inline'><p>Returns an escaped version of <code>html</code> without affecting existing escaped
entities.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#tag-instance_method" title="ActionView::Helpers::TagHelper#tag (method)">#tag</a></td>
      <td><div class='inline'><p>Returns an empty HTML tag of type <code>name</code> which by default is XHTML
compliant.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="OutputSafetyHelper.html" title="ActionView::Helpers::OutputSafetyHelper (module)">OutputSafetyHelper</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="OutputSafetyHelper.html#raw-instance_method" title="ActionView::Helpers::OutputSafetyHelper#raw (method)">#raw</a></td>
      <td><div class='inline'><p>This method outputs without escaping a string.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="OutputSafetyHelper.html#safe_join-instance_method" title="ActionView::Helpers::OutputSafetyHelper#safe_join (method)">#safe_join</a></td>
      <td><div class='inline'><p>This method returns an HTML safe string similar to what <code>Array#join</code> would
return.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="OutputSafetyHelper.html#to_sentence-instance_method" title="ActionView::Helpers::OutputSafetyHelper#to_sentence (method)">#to_sentence</a></td>
      <td><div class='inline'><p>Converts the array to a comma-separated sentence where the last element is
joined by the connector word.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="CaptureHelper.html" title="ActionView::Helpers::CaptureHelper (module)">CaptureHelper</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#capture-instance_method" title="ActionView::Helpers::CaptureHelper#capture (method)">#capture</a></td>
      <td><div class='inline'><p>The capture method extracts part of a template as a <a href="../../String.html" title="String (class)">::String</a> object.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#content_for-instance_method" title="ActionView::Helpers::CaptureHelper#content_for (method)">#content_for</a></td>
      <td><div class='inline'><p>Calling content_for stores a block of markup in an identifier for later
use.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#content_for%3F-instance_method" title="ActionView::Helpers::CaptureHelper#content_for? (method)">#content_for?</a></td>
      <td><div class='inline'><p>content_for? checks whether any content has been captured yet using
`content_for`.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#provide-instance_method" title="ActionView::Helpers::CaptureHelper#provide (method)">#provide</a></td>
      <td><div class='inline'><p>The same as <code>content_for</code> but when used with streaming flushes straight
back to the layout.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>
<h2 class='y_details'>DSL Calls</h2>
<section class='method_details first' id="included-dslcall">
<h3 class='signature'><strong>included</strong></h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v5.0.2/actionview/lib/action_view/helpers/translation_helper.rb#L13-L16'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


13
14
15
16</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/translation_helper.rb', line 13</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_included'>included</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_mattr_accessor'>mattr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_debug_missing_translation'>debug_missing_translation</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_debug_missing_translation'>debug_missing_translation</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="l-instance_method">
  <h3 class='signature  first'>
    #<strong>l</strong>(*args)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#localize-instance_method" title="ActionView::Helpers::TranslationHelper#localize (method)">#localize</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v5.0.2/actionview/lib/action_view/helpers/translation_helper.rb#L120-L120'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


120</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/translation_helper.rb', line 120</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_l'>l</span> <span class='symbeg'>:</span><span class='id identifier rubyid_localize'>localize</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="localize-instance_method">
  <h3 class='signature '>
    #<strong>localize</strong>(*args)  
    <span class='aliases'>Also known as: <span class='names'>#l</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Delegates to <code>I18n.localize</code> with no additional functionality.</p>

<p>See <a
href="http://rubydoc.info/github/svenfuchs/i18n/master/I18n/Backend/Base:localize">rubydoc.info/github/svenfuchs/i18n/master/I18n/Backend/Base:localize</a>
for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v5.0.2/actionview/lib/action_view/helpers/translation_helper.rb#L117-L119'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


117
118
119</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/translation_helper.rb', line 117</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_localize'>localize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='const'><a href="../../I18n.html" title="I18n (module)">I18n</a></span><span class='period'>.</span><span class='id identifier rubyid_localize'>localize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="t-instance_method">
  <h3 class='signature '>
    #<strong>t</strong>(key, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#translate-instance_method" title="ActionView::Helpers::TranslationHelper#translate (method)">#translate</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v5.0.2/actionview/lib/action_view/helpers/translation_helper.rb#L111-L111'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


111</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/translation_helper.rb', line 111</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_t'>t</span> <span class='symbeg'>:</span><span class='id identifier rubyid_translate'>translate</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="translate-instance_method">
  <h3 class='signature '>
    #<strong>translate</strong>(key, options = {})  
    <span class='aliases'>Also known as: <span class='names'>#t</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Delegates to <code>I18n#translate</code> but also performs three additional functions.</p>

<p>First, it will ensure that any thrown <code>MissingTranslation</code> messages will be
rendered as inline spans that:</p>
<ul><li>
<p>Have a <code>translation-missing</code> class applied</p>
</li><li>
<p>Contain the missing key as the value of the <code>title</code> attribute</p>
</li><li>
<p>Have a titleized version of the last key segment as text</p>
</li></ul>

<p>For example, the value returned for the missing translation key
<code>&quot;blog.post.title&quot;</code> will be:</p>

<pre class="code ruby"><code class="ruby">&lt;span
  class=&quot;translation_missing&quot;
  title=&quot;translation missing: en.blog.post.title&quot;&gt;Title&lt;/span&gt;</code></pre>

<p>This allows for views to display rather reasonable strings while still
giving developers a way to find missing translations.</p>

<p>If you would prefer missing translations to raise an error, you can opt out
of span-wrapping behavior globally by setting
<code>ActionView::Base.raise_on_missing_translations = true</code> or
individually by passing <code>raise: true</code> as an option to
<code>translate</code>.</p>

<p>Second, if the key starts with a period <code>translate</code> will scope
the key by the current partial. Calling
<code>translate(&quot;.foo&quot;)</code> from the
<code>people/index.html.erb</code> template is equivalent to calling
<code>translate(&quot;people.index.foo&quot;)</code>. This makes it less
repetitive to translate many keys within the same partial and provides a
convention to scope keys consistently.</p>

<p>Third, the translation will be marked as <code>html_safe</code> if the key has the
suffix "_html" or the last element of the key is "html". Calling
<code>translate(&quot;footer_html&quot;)</code> or
<code>translate(&quot;footer.html&quot;)</code> will return an HTML safe
string that won&#39;t be escaped by other HTML helper methods. This naming
convention helps to identify translations that include HTML tags so that
you know what kind of output to expect when you call translate in a
template and translators know which keys they can provide HTML values for.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v5.0.2/actionview/lib/action_view/helpers/translation_helper.rb#L59-L110'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/translation_helper.rb', line 59</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_translate'>translate</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid_has_default'>has_default</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_remaining_defaults'>remaining_defaults</span> <span class='op'>=</span> <span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_has_default'>has_default</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_remaining_defaults'>remaining_defaults</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_remaining_defaults'>remaining_defaults</span>
  <span class='kw'>end</span>

  <span class='comment'># If the user has explicitly decided to NOT raise errors, pass that option to I18n.
</span>  <span class='comment'># Otherwise, tell I18n to raise an exception, which we rescue further in this method.
</span>  <span class='comment'># Note: `raise_error` refers to us re-raising the error in this method. I18n is forced to raise by default.
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_raise'>raise</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_raise_error'>raise_error</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_i18n_raise'>i18n_raise</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise_error'>raise_error</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_raise'>raise</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'><a href="../../ActionView.html" title="ActionView (module)">ActionView</a></span><span class='op'>::</span><span class='const'><a href="../Base.html" title="ActionView::Base (class)">Base</a></span><span class='period'>.</span><span class='id identifier rubyid_raise_on_missing_translations'><a href="../Base.html#raise_on_missing_translations-class_method" title="ActionView::Base.raise_on_missing_translations (method)">raise_on_missing_translations</a></span>
    <span class='id identifier rubyid_i18n_raise'>i18n_raise</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_html_safe_translation_key?'>html_safe_translation_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_html_safe_options'>html_safe_options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_except'>except</span><span class='lparen'>(</span><span class='op'>*</span><span class='const'><a href="../../I18n.html" title="I18n (module)">I18n</a></span><span class='op'>::</span><span class='const'>RESERVED_KEYS</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_count'>count</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><a href="../../Numeric.html" title="Numeric (class)">Numeric</a></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_html_safe_options'>html_safe_options</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'><a href="../../ERB.html" title="ERB (class)">ERB</a></span><span class='op'>::</span><span class='const'><a href="../../ERB/Util.html" title="ERB::Util (module)">Util</a></span><span class='period'>.</span><span class='id identifier rubyid_html_escape'><a href="../../ERB/Util.html#html_escape-class_method" title="ERB::Util.html_escape (method)">html_escape</a></span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_translation'>translation</span> <span class='op'>=</span> <span class='const'><a href="../../I18n.html" title="I18n (module)">I18n</a></span><span class='period'>.</span><span class='id identifier rubyid_translate'>translate</span><span class='lparen'>(</span><span class='id identifier rubyid_scope_key_by_partial'>scope_key_by_partial</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_html_safe_options'>html_safe_options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='label'>raise:</span> <span class='id identifier rubyid_i18n_raise'>i18n_raise</span><span class='rparen'>)</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_translation'>translation</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_html_safe'>html_safe</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_translation'>translation</span><span class='period'>.</span><span class='id identifier rubyid_html_safe'>html_safe</span> <span class='op'>:</span> <span class='id identifier rubyid_translation'>translation</span>
  <span class='kw'>else</span>
    <span class='const'><a href="../../I18n.html" title="I18n (module)">I18n</a></span><span class='period'>.</span><span class='id identifier rubyid_translate'>translate</span><span class='lparen'>(</span><span class='id identifier rubyid_scope_key_by_partial'>scope_key_by_partial</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='label'>raise:</span> <span class='id identifier rubyid_i18n_raise'>i18n_raise</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'><a href="../../I18n.html" title="I18n (module)">I18n</a></span><span class='op'>::</span><span class='const'>MissingTranslationData</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_remaining_defaults'>remaining_defaults</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='id identifier rubyid_translate'>translate</span> <span class='id identifier rubyid_remaining_defaults'>remaining_defaults</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='label'>default:</span> <span class='id identifier rubyid_remaining_defaults'>remaining_defaults</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span> <span class='kw'>if</span> <span class='id identifier rubyid_raise_error'>raise_error</span>

    <span class='id identifier rubyid_keys'>keys</span> <span class='op'>=</span> <span class='const'><a href="../../I18n.html" title="I18n (module)">I18n</a></span><span class='period'>.</span><span class='id identifier rubyid_normalize_keys'>normalize_keys</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_locale'>locale</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_scope'>scope</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_title'>title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>translation missing: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_interpolations'>interpolations</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_except'>except</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_scope'>scope</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_interpolations'>interpolations</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
      <span class='id identifier rubyid_title'>title</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_interpolations'>interpolations</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_k'>k</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='const'><a href="../../ERB.html" title="ERB (class)">ERB</a></span><span class='op'>::</span><span class='const'><a href="../../ERB/Util.html" title="ERB::Util (module)">Util</a></span><span class='period'>.</span><span class='id identifier rubyid_html_escape'><a href="../../ERB/Util.html#html_escape-class_method" title="ERB::Util.html_escape (method)">html_escape</a></span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_title'>title</span> <span class='kw'>unless</span> <span class='const'><a href="../../ActionView.html" title="ActionView (module)">ActionView</a></span><span class='op'>::</span><span class='const'><a href="../Base.html" title="ActionView::Base (class)">Base</a></span><span class='period'>.</span><span class='id identifier rubyid_debug_missing_translation'><a href="../Helpers.html#debug_missing_translation-class_method" title="ActionView::Helpers.debug_missing_translation (method)">debug_missing_translation</a></span>

    <span class='id identifier rubyid_content_tag'>content_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>span</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_titleize'>titleize</span><span class='comma'>,</span> <span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>translation_missing</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>title:</span> <span class='id identifier rubyid_title'>title</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.8 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.9.0 (ruby-2.5.0p-1)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>