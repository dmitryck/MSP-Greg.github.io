<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: String &mdash; Core Ruby-2.5.0 dev</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "String",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
        <a href='../../index.html'>Home</a> &raquo; 
        <a href='../index.html'>Ruby-2.5.0</a> &raquo; 
        <a href='index.html'>Core</a> &raquo; 
        <a href='_index.html#alpha_S'>Index (S)</a> &raquo; 
        <span class='title'><a id='t2_doc_top' href='#'>String&nbsp;&#x25B2;</a></span>
      </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: String</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="Comparable.html" title="Comparable (module)">::Comparable</a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L10041'>string.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/trunk/complex.c#L1912'>complex.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/trunk/encoding.c#L991'>encoding.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/trunk/pack.c#L1868'>pack.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/trunk/rational.c#L2507'>rational.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/trunk/symbol.c#L660'>symbol.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/trunk/transcode.c#L2875'>transcode.c</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>A <code>String</code> object holds and manipulates an arbitrary sequence of
bytes, typically representing characters. <code>String</code> objects may
be created using <a href="#new-class_method" title="String.new (method)">.new</a> or as literals.</p>

<p>Because of aliasing issues, users of strings should be aware of the methods
that modify the contents of a <code>String</code> object.  Typically,
methods with names ending in "!&#39;&#39; modify their receiver, while
those without a "!&#39;&#39; return a new <code>String</code>.  However,
there are exceptions, such as <a href="#[]=-instance_method" title="String#[]= (method)">#[]=</a>.</p>

  </div>
</div>
</div>        

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(str = &quot;&quot;)  &#x21d2; String </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new string object containing a copy of <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#try_convert-class_method" title="try_convert (class method)">.<strong>try_convert</strong>(obj)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Try to convert <em>obj</em> into a <code>String</code>, using to_str
method.</p></div>
    </div>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='instance_Attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#ascii_only%3F-instance_method" title="#ascii_only? (instance method)">#<strong>ascii_only?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true for a string which has only ASCII characters.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">#<strong>empty?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <em>str</em> has a length of zero.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#valid_encoding%3F-instance_method" title="#valid_encoding? (instance method)">#<strong>valid_encoding?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true for a string which is encoded correctly.</p></div>
    </div>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='instance_Method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#%25-instance_method" title="#% (instance method)">#<strong>%</strong>(arg)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Format---Uses <em>str</em> as a format specification, and returns the
result of applying it to <em>arg</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#*-instance_method" title="#* (instance method)">#<strong>*</strong>(integer)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Copy --- Returns a new <code>String</code> containing <code>integer</code> copies of
the receiver.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#%2B-instance_method" title="#+ (instance method)">#<strong>+</strong>(other_str)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Concatenation---Returns a new <code>String</code> containing <em>other_str</em>
concatenated to <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#%2B@-instance_method" title="#+ (instance method)">#<strong>+</strong>  &#x21d2; str (mutable) </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If the string is frozen, then return duplicated mutable string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#-@-instance_method" title="#- (instance method)">#<strong>-</strong>  &#x21d2; str (frozen) </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If the string is frozen, then return the string itself.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(integer)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Append---Concatenates the given object to <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#<=>-instance_method" title="#&lt;=&gt; (instance method)">#<strong>&lt;=&gt;</strong>(other_string)  &#x21d2; 1, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Comparison---Returns -1, 0, +1 or nil depending on whether <code>string</code> is less
than, equal to, or greater than <code>other_string</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(obj)  &#x21d2; Boolean </a>
      (also: #===)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Equality---Returns whether <code>str</code> == <code>obj</code>, similar to <code>Object#==</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#===-instance_method" title="#=== (instance method)">#<strong>===</strong>(obj)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#==-instance_method" title="String#== (method)">#==</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#=~-instance_method" title="#=~ (instance method)">#<strong>=~</strong>(obj)  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Match---If <em>obj</em> is a <a href="Regexp.html" title="Regexp (class)">::Regexp</a>, use it as a pattern to match against
<em>str</em>,and returns the position the match starts, or <code>nil</code> if there
is no match.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(index)  &#x21d2; String<sup>?</sup> </a>
      (also: #slice)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Element Reference --- If passed a single <a href="#index-instance_method" title="String#index (method)">#index</a>, returns a substring of
one character at that index.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]=-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>(integer, new_str)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Element Assignment---Replaces some or all of the content of <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#b-instance_method" title="#b (instance method)">#<strong>b</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copied string whose encoding is ASCII-8BIT.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bytes-instance_method" title="#bytes (instance method)">#<strong>bytes</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of bytes in <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bytesize-instance_method" title="#bytesize (instance method)">#<strong>bytesize</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the length of <code>str</code> in bytes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#byteslice-instance_method" title="#byteslice (instance method)">#<strong>byteslice</strong>(integer)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Byte Reference---If passed a single <a href="Integer.html" title="Integer (class)">::Integer</a>, returns a substring of one
byte at that position.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#capitalize-instance_method" title="#capitalize (instance method)">#<strong>capitalize</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with the first character converted to
uppercase and the remainder to lowercase.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#capitalize!-instance_method" title="#capitalize! (instance method)">#<strong>capitalize!</strong>  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Modifies <em>str</em> by converting the first character to uppercase and
the remainder to lowercase.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#casecmp-instance_method" title="#casecmp (instance method)">#<strong>casecmp</strong>(other_str)  &#x21d2; 1, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Case-insensitive version of <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#casecmp%3F-instance_method" title="#casecmp? (instance method)">#<strong>casecmp?</strong>(other_str)  &#x21d2; true, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if str and other_other_str are equal after Unicode case
folding, false if they are not equal, and nil if other_str is not a string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#center-instance_method" title="#center (instance method)">#<strong>center</strong>(width, padstr = &#39; &#39;)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Centers <code>str</code> in <code>width</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chars-instance_method" title="#chars (instance method)">#<strong>chars</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of characters in <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chomp-instance_method" title="#chomp (instance method)">#<strong>chomp</strong>(separator = $/)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new <code>String</code> with the given record separator removed from the end
of <em>str</em> (if present).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chomp!-instance_method" title="#chomp! (instance method)">#<strong>chomp!</strong>(separator = $/)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Modifies <em>str</em> in place as described for <a href="#chomp-instance_method" title="String#chomp (method)">#chomp</a>, returning
<em>str</em>, or <code>nil</code> if no modifications were made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chop-instance_method" title="#chop (instance method)">#<strong>chop</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new <code>String</code> with the last character removed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chop!-instance_method" title="#chop! (instance method)">#<strong>chop!</strong>  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Processes <em>str</em> as for <a href="#chop-instance_method" title="String#chop (method)">#chop</a>, returning <em>str</em>, or
<code>nil</code> if <em>str</em> is the empty string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chr-instance_method" title="#chr (instance method)">#<strong>chr</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a one-character string at the beginning of the string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#clear-instance_method" title="#clear (instance method)">#<strong>clear</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Makes string empty.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#codepoints-instance_method" title="#codepoints (instance method)">#<strong>codepoints</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of the <a href="Integer.html" title="Integer (class)">::Integer</a> ordinals of the characters in
<em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#concat-instance_method" title="#concat (instance method)">#<strong>concat</strong>(integer1, integer2, ...)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Append---Concatenates the given object to <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#count-instance_method" title="#count (instance method)">#<strong>count</strong>([other_str])  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Each <code>other_str</code> parameter defines a set of characters to count.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#crypt-instance_method" title="#crypt (instance method)">#<strong>crypt</strong>(salt_str)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Applies a one-way cryptographic hash to <em>str</em> by invoking the
standard library function <code>crypt(3)</code> with the given salt string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>([other_str])  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with all characters in the intersection of
its arguments deleted.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete!-instance_method" title="#delete! (instance method)">#<strong>delete!</strong>([other_str])  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Performs a <a href="#delete-instance_method" title="String#delete (method)">#delete</a> operation in place, returning <em>str</em>, or <code>nil</code> if
<em>str</em> was not modified.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#downcase-instance_method" title="#downcase (instance method)">#<strong>downcase</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with all uppercase letters replaced with
their lowercase counterparts.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#downcase!-instance_method" title="#downcase! (instance method)">#<strong>downcase!</strong>  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Downcases the contents of <em>str</em>, returning <code>nil</code> if no changes were
made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dump-instance_method" title="#dump (instance method)">#<strong>dump</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Produces a version of <code>str</code> with all non-printing characters replaced by
<code>\nnn</code> notation and all special characters escaped.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_byte-instance_method" title="#each_byte (instance method)">#<strong>each_byte</strong> {|integer| ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Passes each byte in <em>str</em> to the given block, or returns an
enumerator if no block is given.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_char-instance_method" title="#each_char (instance method)">#<strong>each_char</strong> {|cstr| ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Passes each character in <em>str</em> to the given block, or returns an
enumerator if no block is given.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_codepoint-instance_method" title="#each_codepoint (instance method)">#<strong>each_codepoint</strong> {|integer| ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Passes the <a href="Integer.html" title="Integer (class)">::Integer</a> ordinal of each character in <em>str</em>, also known
as a <em>codepoint</em> when applied to Unicode strings to the given block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_line-instance_method" title="#each_line (instance method)">#<strong>each_line</strong>(separator = $/) {|substr| ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Splits <em>str</em> using the supplied parameter as the record separator
(<code>$/</code> by default), passing each substring in turn to the
supplied block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#encode-instance_method" title="#encode (instance method)">#<strong>encode</strong>(encoding[, options])  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The first form returns a copy of <code>str</code> transcoded to encoding <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#encode!-instance_method" title="#encode! (instance method)">#<strong>encode!</strong>(encoding[, options])  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The first form transcodes the contents of <em>str</em> from str.encoding to
<a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#encoding-instance_method" title="#encoding (instance method)">#<strong>encoding</strong>  &#x21d2; Encoding </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="Regexp.html#encoding-instance_method" title="Regexp#encoding (method)">Regexp#encoding</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#end_with%3F-instance_method" title="#end_with? (instance method)">#<strong>end_with?</strong>([suffixes])  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if <code>str</code> ends with one of the <code>suffixes</code> given.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(other)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Two strings are equal if they have the same length and content.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#force_encoding-instance_method" title="#force_encoding (instance method)">#<strong>force_encoding</strong>(encoding)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Changes the encoding to <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a> and returns self.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#freeze-instance_method" title="#freeze (instance method)">#<strong>freeze</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#getbyte-instance_method" title="#getbyte (instance method)">#<strong>getbyte</strong>(index)  &#x21d2; 0 .. 255 </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>returns the <em>index</em>th byte as an integer.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#gsub-instance_method" title="#gsub (instance method)">#<strong>gsub</strong>(pattern, replacement)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with the <em>all</em> occurrences of
<em>pattern</em> substituted for the second argument.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#gsub!-instance_method" title="#gsub! (instance method)">#<strong>gsub!</strong>(pattern, replacement)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Performs the substitutions of <a href="#gsub-instance_method" title="String#gsub (method)">#gsub</a> in place, returning
<em>str</em>, or <code>nil</code> if no substitutions were performed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return a hash based on the string&#39;s length, content and encoding.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#hex-instance_method" title="#hex (instance method)">#<strong>hex</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Treats leading characters from <em>str</em> as a string of hexadecimal
digits (with an optional sign and an optional <code>0x</code>) and returns
the corresponding number.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#include%3F-instance_method" title="#include? (instance method)">#<strong>include?</strong>(other_str)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <em>str</em> contains the given string or character.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#index-instance_method" title="#index (instance method)">#<strong>index</strong>(substring[, offset])  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the index of the first occurrence of the given <em>substring</em>
or pattern (<em>regexp</em>) in <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#initialize_copy-instance_method" title="#initialize_copy (instance method)">#<strong>initialize_copy</strong>(other_str)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#replace-instance_method" title="String#replace (method)">#replace</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#insert-instance_method" title="#insert (instance method)">#<strong>insert</strong>(index, other_str)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Inserts <em>other_str</em> before the character at the given
<em>index</em>, modifying <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a printable version of <em>str</em>, surrounded by quote marks,
with special characters escaped.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#intern-instance_method" title="#intern (instance method)">#<strong>intern</strong>  &#x21d2; Symbol </a>
      (also: #to_sym)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <a href="Symbol.html" title="Symbol (class)">::Symbol</a> corresponding to <em>str</em>, creating the symbol if
it did not previously exist.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#length-instance_method" title="#length (instance method)">#<strong>length</strong>  &#x21d2; Integer </a>
      (also: #size)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the character length of <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lines-instance_method" title="#lines (instance method)">#<strong>lines</strong>(separator = $/)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of lines in <em>str</em> split using the supplied record
separator (<code>$/</code> by default).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ljust-instance_method" title="#ljust (instance method)">#<strong>ljust</strong>(integer, padstr = &#39; &#39;)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If <em>integer</em> is greater than the length of <em>str</em>, returns a
new <code>String</code> of length <em>integer</em> with <em>str</em> left justified
and padded with <em>padstr</em>; otherwise, returns <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lstrip-instance_method" title="#lstrip (instance method)">#<strong>lstrip</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with leading whitespace removed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lstrip!-instance_method" title="#lstrip! (instance method)">#<strong>lstrip!</strong>  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes leading whitespace from <em>str</em>, returning <code>nil</code> if no change
was made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#match-instance_method" title="#match (instance method)">#<strong>match</strong>(pattern)  &#x21d2; MatchData<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts <em>pattern</em> to a <a href="Regexp.html" title="Regexp (class)">::Regexp</a> (if it isn&#39;t already one), then
invokes its <code>match</code> method on <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#match%3F-instance_method" title="#match? (instance method)">#<strong>match?</strong>(pattern)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts <em>pattern</em> to a <a href="Regexp.html" title="Regexp (class)">::Regexp</a> (if it isn&#39;t already one), then
returns a <code>true</code> or <code>false</code> indicates whether the regexp is matched
<em>str</em> or not without updating <code>$~</code> and other related
variables.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#next-instance_method" title="#next (instance method)">#<strong>next</strong>  &#x21d2; String </a>
      (also: #succ)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the successor to <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#next!-instance_method" title="#next! (instance method)">#<strong>next!</strong>  &#x21d2; String </a>
      (also: #succ!)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Equivalent to <a href="#succ-instance_method" title="String#succ (method)">#succ</a>, but modifies the receiver in place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#oct-instance_method" title="#oct (instance method)">#<strong>oct</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Treats leading characters of <em>str</em> as a string of octal digits (with
an optional sign) and returns the corresponding number.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ord-instance_method" title="#ord (instance method)">#<strong>ord</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the <a href="Integer.html" title="Integer (class)">::Integer</a> ordinal of a one-character string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#partition-instance_method" title="#partition (instance method)">#<strong>partition</strong>(sep)  &#x21d2; Array, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Searches <em>sep</em> or pattern (<em>regexp</em>) in the string and
returns the part before it, the match, and the part after it.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#prepend-instance_method" title="#prepend (instance method)">#<strong>prepend</strong>(other_str1, other_str2, ...)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Prepend---Prepend the given strings to <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#replace-instance_method" title="#replace (instance method)">#<strong>replace</strong>(other_str)  &#x21d2; String </a>
      (also: #initialize_copy)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Replaces the contents and taintedness of <em>str</em> with the
corresponding values in <em>other_str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reverse-instance_method" title="#reverse (instance method)">#<strong>reverse</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new string with the characters from <em>str</em> in reverse
order.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reverse!-instance_method" title="#reverse! (instance method)">#<strong>reverse!</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Reverses <em>str</em> in place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rindex-instance_method" title="#rindex (instance method)">#<strong>rindex</strong>(substring[, integer])  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the index of the last occurrence of the given <em>substring</em> or
pattern (<em>regexp</em>) in <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rjust-instance_method" title="#rjust (instance method)">#<strong>rjust</strong>(integer, padstr = &#39; &#39;)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If <em>integer</em> is greater than the length of <em>str</em>, returns a
new <code>String</code> of length <em>integer</em> with <em>str</em> right justified
and padded with <em>padstr</em>; otherwise, returns <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rpartition-instance_method" title="#rpartition (instance method)">#<strong>rpartition</strong>(sep)  &#x21d2; Array, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Searches <em>sep</em> or pattern (<em>regexp</em>) in the string from the
end of the string, and returns the part before it, the match, and the part
after it.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rstrip-instance_method" title="#rstrip (instance method)">#<strong>rstrip</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with trailing whitespace removed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rstrip!-instance_method" title="#rstrip! (instance method)">#<strong>rstrip!</strong>  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes trailing whitespace from <em>str</em>, returning <code>nil</code> if no change
was made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scan-instance_method" title="#scan (instance method)">#<strong>scan</strong>(pattern)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Both forms iterate through <em>str</em>, matching the pattern (which may be
a <a href="Regexp.html" title="Regexp (class)">::Regexp</a> or a <code>String</code>).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scrub-instance_method" title="#scrub (instance method)">#<strong>scrub</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If the string is invalid byte sequence then replace invalid bytes with
given replacement character, else returns self.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scrub!-instance_method" title="#scrub! (instance method)">#<strong>scrub!</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If the string is invalid byte sequence then replace invalid bytes with
given replacement character, else returns self.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#setbyte-instance_method" title="#setbyte (instance method)">#<strong>setbyte</strong>(index, integer)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>modifies the <em>index</em>th byte as <em>integer</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#length-instance_method" title="String#length (method)">#length</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#slice-instance_method" title="#slice (instance method)">#<strong>slice</strong>(index)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#[]-instance_method" title="String#[] (method)">#[]</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#slice!-instance_method" title="#slice! (instance method)">#<strong>slice!</strong>(integer)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Deletes the specified portion from <em>str</em>, and returns the portion
deleted.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#split-instance_method" title="#split (instance method)">#<strong>split</strong>(pattern = nil, [limit])  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Divides <em>str</em> into substrings based on a delimiter, returning an
array of these substrings.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#squeeze-instance_method" title="#squeeze (instance method)">#<strong>squeeze</strong>([other_str])  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Builds a set of characters from the <em>other_str</em> parameter(s) using
the procedure described for <a href="#count-instance_method" title="String#count (method)">#count</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#squeeze!-instance_method" title="#squeeze! (instance method)">#<strong>squeeze!</strong>([other_str])  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Squeezes <em>str</em> in place, returning either <em>str</em>, or <code>nil</code> if
no changes were made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#start_with%3F-instance_method" title="#start_with? (instance method)">#<strong>start_with?</strong>([prefixes])  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if <code>str</code> starts with one of the <code>prefixes</code> given.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#strip-instance_method" title="#strip (instance method)">#<strong>strip</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with leading and trailing whitespace
removed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#strip!-instance_method" title="#strip! (instance method)">#<strong>strip!</strong>  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes leading and trailing whitespace from <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sub-instance_method" title="#sub (instance method)">#<strong>sub</strong>(pattern, replacement)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>str</code> with the <em>first</em> occurrence of <code>pattern</code>
replaced by the second argument.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sub!-instance_method" title="#sub! (instance method)">#<strong>sub!</strong>(pattern, replacement)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Performs the same substitution as <a href="#sub-instance_method" title="String#sub (method)">#sub</a> in-place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#succ-instance_method" title="#succ (instance method)">#<strong>succ</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#next-instance_method" title="String#next (method)">#next</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#succ!-instance_method" title="#succ! (instance method)">#<strong>succ!</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#next!-instance_method" title="String#next! (method)">#next!</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sum-instance_method" title="#sum (instance method)">#<strong>sum</strong>(n = 16)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a basic <em>n</em>-bit checksum of the characters in <em>str</em>,
where <em>n</em> is the optional <a href="Integer.html" title="Integer (class)">::Integer</a> parameter, defaulting to 16.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#swapcase-instance_method" title="#swapcase (instance method)">#<strong>swapcase</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with uppercase alphabetic characters
converted to lowercase and lowercase characters converted to uppercase.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#swapcase!-instance_method" title="#swapcase! (instance method)">#<strong>swapcase!</strong>  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Equivalent to <a href="#swapcase-instance_method" title="String#swapcase (method)">#swapcase</a>, but modifies the receiver in place,
returning <em>str</em>, or <code>nil</code> if no changes were made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_c-instance_method" title="#to_c (instance method)">#<strong>to_c</strong>  &#x21d2; Complex </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a complex which denotes the string form.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_f-instance_method" title="#to_f (instance method)">#<strong>to_f</strong>  &#x21d2; Float </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the result of interpreting leading characters in <em>str</em> as a
floating point number.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_i-instance_method" title="#to_i (instance method)">#<strong>to_i</strong>(base = 10)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the result of interpreting leading characters in <em>str</em> as an
integer base <em>base</em> (between 2 and 36).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_r-instance_method" title="#to_r (instance method)">#<strong>to_r</strong>  &#x21d2; Rational </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a rational which denotes the string form.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
      (also: #to_str)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_str-instance_method" title="#to_str (instance method)">#<strong>to_str</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#to_s-instance_method" title="String#to_s (method)">#to_s</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_sym-instance_method" title="#to_sym (instance method)">#<strong>to_sym</strong>  &#x21d2; Symbol </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#intern-instance_method" title="String#intern (method)">#intern</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tr-instance_method" title="#tr (instance method)">#<strong>tr</strong>(from_str, to_str)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>str</code> with the characters in <code>from_str</code> replaced by the
corresponding characters in <a href="#to_str-instance_method" title="String#to_str (method)">#to_str</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tr!-instance_method" title="#tr! (instance method)">#<strong>tr!</strong>(from_str, to_str)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Translates <em>str</em> in place, using the same rules as <a href="#tr-instance_method" title="String#tr (method)">#tr</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tr_s-instance_method" title="#tr_s (instance method)">#<strong>tr_s</strong>(from_str, to_str)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Processes a copy of <em>str</em> as described under <a href="#tr-instance_method" title="String#tr (method)">#tr</a>, then
removes duplicate characters in regions that were affected by the
translation.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tr_s!-instance_method" title="#tr_s! (instance method)">#<strong>tr_s!</strong>(from_str, to_str)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Performs <a href="#tr_s-instance_method" title="String#tr_s (method)">#tr_s</a> processing on <em>str</em> in place, returning
<em>str</em>, or <code>nil</code> if no changes were made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unpack-instance_method" title="#unpack (instance method)">#<strong>unpack</strong>(format)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Decodes <em>str</em> (which may contain binary data) according to the
format string, returning an array of each value extracted.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unpack1-instance_method" title="#unpack1 (instance method)">#<strong>unpack1</strong>(format)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Decodes <em>str</em> (which may contain binary data) according to the
format string, returning the first value extracted.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#upcase-instance_method" title="#upcase (instance method)">#<strong>upcase</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with all lowercase letters replaced with
their uppercase counterparts.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#upcase!-instance_method" title="#upcase! (instance method)">#<strong>upcase!</strong>  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Upcases the contents of <em>str</em>, returning <code>nil</code> if no changes were
made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#upto-instance_method" title="#upto (instance method)">#<strong>upto</strong>(other_str, exclusive = false) {|s| ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Iterates through successive values, starting at <em>str</em> and ending at
<em>other_str</em> inclusive, passing each value in turn to the block.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="Comparable.html" title="Comparable (module)">::Comparable</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#<-instance_method" title="Comparable#&lt; (method)">#<</a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver&#39;s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method,
returning true if it returns -1.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#<=-instance_method" title="Comparable#&lt;= (method)">#<=</a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver&#39;s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method,
returning true if it returns -1 or 0.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#==-instance_method" title="Comparable#== (method)">#==</a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver&#39;s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method,
returning true if it returns 0.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#>-instance_method" title="Comparable#&gt; (method)">#></a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver&#39;s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method,
returning true if it returns 1.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#>=-instance_method" title="Comparable#&gt;= (method)">#>=</a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver&#39;s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method,
returning true if it returns 0 or 1.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#between%3F-instance_method" title="Comparable#between? (method)">#between?</a></td>
      <td><div class='inline'><p>Returns <code>false</code> if <em>obj</em> <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> <em>min</em> is less than zero
or if <em>anObject</em> <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> <em>max</em> is greater than zero,
<code>true</code> otherwise.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#clamp-instance_method" title="Comparable#clamp (method)">#clamp</a></td>
      <td><div class='inline'><p>Returns <em>min</em> if <em>obj</em> <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> <em>min</em> is less than
zero, <em>max</em> if <em>obj</em> <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> <em>max</em> is greater than
zero and <em>obj</em> otherwise.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    <div class='inline-block'>
      <span class='overload'>.<strong>new</strong>(str = &quot;&quot;)  &#x21d2; <code>String</code> </span>
      <span class='overload'>.<strong>new</strong>(str = &quot;&quot;, encoding:enc)  &#x21d2; <code>String</code> </span>
      <span class='overload'>.<strong>new</strong>(str = &quot;&quot;, capacity:size)  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new string object containing a copy of <em>str</em>.</p>

<p>The optional <em>enc</em> argument specifies the encoding of the new
string. If not specified, the encoding of <em>str</em> (or ASCII-8BIT, if
<em>str</em> is not specified) is used.</p>

<p>The optional <em>size</em> argument specifies the size of internal buffer.
This may improve performance, when the string will be concatenated many
times (and call many realloc).</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L1465-L1531'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1465
1466
1467
1468
1469
1470
1471
1472
1473
1474
1475
1476
1477
1478
1479
1480
1481
1482
1483
1484
1485
1486
1487
1488
1489
1490
1491
1492
1493
1494
1495
1496
1497
1498
1499
1500
1501
1502
1503
1504
1505
1506
1507
1508
1509
1510
1511
1512
1513
1514
1515
1516
1517
1518
1519
1520
1521
1522
1523
1524
1525
1526
1527
1528
1529
1530
1531</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 1465</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_init(int argc, VALUE *argv, VALUE str)
{
    static ID keyword_ids[2];
    VALUE orig, opt, venc, vcapa;
    VALUE kwargs[2];
    rb_encoding *enc = 0;
    int n;

    if (!keyword_ids[0]) {
	keyword_ids[0] = rb_id_encoding();
	CONST_ID(keyword_ids[1], &quot;capacity&quot;);
    }

    n = rb_scan_args(argc, argv, &quot;01:&quot;, &amp;orig, &amp;opt);
    if (!NIL_P(opt)) {
	rb_get_kwargs(opt, keyword_ids, 0, 2, kwargs);
	venc = kwargs[0];
	vcapa = kwargs[1];
	if (venc != Qundef &amp;&amp; !NIL_P(venc)) {
	    enc = rb_to_encoding(venc);
	}
	if (vcapa != Qundef &amp;&amp; !NIL_P(vcapa)) {
	    long capa = NUM2LONG(vcapa);
	    long len = 0;
	    int termlen = enc ? rb_enc_mbminlen(enc) : 1;

	    if (capa &lt; STR_BUF_MIN_SIZE) {
		capa = STR_BUF_MIN_SIZE;
	    }
	    if (n == 1) {
		StringValue(orig);
		len = RSTRING_LEN(orig);
		if (capa &lt; len) {
		    capa = len;
		}
		if (orig == str) n = 0;
	    }
	    str_modifiable(str);
	    if (STR_EMBED_P(str)) { /* make noembed always */
		RSTRING(str)-&gt;as.heap.ptr = ALLOC_N(char, (size_t)capa + termlen);
	    }
	    else if (STR_HEAP_SIZE(str) != (size_t)capa + termlen) {
		REALLOC_N(RSTRING(str)-&gt;as.heap.ptr, char, (size_t)capa + termlen);
	    }
	    RSTRING(str)-&gt;as.heap.len = len;
	    TERM_FILL(&amp;RSTRING(str)-&gt;as.heap.ptr[len], termlen);
	    if (n == 1) {
		memcpy(RSTRING(str)-&gt;as.heap.ptr, RSTRING_PTR(orig), len);
		rb_enc_cr_str_exact_copy(str, orig);
	    }
	    FL_SET(str, STR_NOEMBED);
	    RSTRING(str)-&gt;as.heap.aux.capa = capa;
	}
	else if (n == 1) {
	    rb_str_replace(str, orig);
	}
	if (enc) {
	    rb_enc_associate(str, enc);
	    ENC_CODERANGE_CLEAR(str);
	}
    }
    else if (n == 1) {
	rb_str_replace(str, orig);
    }
    return str;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="try_convert-class_method">
  <h3 class='signature  first'>
    .<strong>try_convert</strong>(obj)  &#x21d2; <code>String</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Try to convert <em>obj</em> into a <code>String</code>, using to_str
method. Returns converted string or nil if <em>obj</em> cannot be converted
for any reason.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>String</span><span class='period'>.</span><span class='id identifier rubyid_try_convert'>try_convert</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>str</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>     <span class='comment'>#=&gt; &quot;str&quot;
</span><span class='const'>String</span><span class='period'>.</span><span class='id identifier rubyid_try_convert'>try_convert</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>re</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L2204-L2208'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2204
2205
2206
2207
2208</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2204</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_s_try_convert(VALUE dummy, VALUE str)
{
    return rb_check_string_type(str);
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="ascii_only?-instance_method">
  <h3 class='signature ro first'>
    #<strong>ascii_only?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true for a string which has only ASCII characters.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ascii_only?'>ascii_only?</span>          <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\u{6666}</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ascii_only?'>ascii_only?</span>  <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L9183-L9189'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


9183
9184
9185
9186
9187
9188
9189</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9183</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_is_ascii_only_p(VALUE str)
{
    int cr = rb_enc_str_coderange(str);

    return cr == ENC_CODERANGE_7BIT ? Qtrue : Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="empty?-instance_method">
  <h3 class='signature ro'>
    #<strong>empty?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <em>str</em> has a length of zero.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>   <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>       <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>        <span class='comment'>#=&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L1781-L1787'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1781
1782
1783
1784
1785
1786
1787</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 1781</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_empty(VALUE str)
{
    if (RSTRING_LEN(str) == 0)
	return Qtrue;
    return Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="valid_encoding?-instance_method">
  <h3 class='signature ro'>
    #<strong>valid_encoding?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true for a string which is encoded correctly.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xc2\xa1</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_valid_encoding?'>valid_encoding?</span>  <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xc2</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_valid_encoding?'>valid_encoding?</span>      <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x80</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_valid_encoding?'>valid_encoding?</span>      <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L9165-L9171'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


9165
9166
9167
9168
9169
9170
9171</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9165</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_valid_encoding_p(VALUE str)
{
    int cr = rb_enc_str_coderange(str);

    return cr == ENC_CODERANGE_BROKEN ? Qfalse : Qtrue;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="%-instance_method">
  <h3 class='signature  first'>
    #<strong>%</strong>(arg)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Format---Uses <em>str</em> as a format specification, and returns the
result of applying it to <em>arg</em>. If the format specification contains
more than one substitution, then <em>arg</em> must be an <a href="Array.html" title="Array (class)">::Array</a> or <a href="Hash.html" title="Hash (class)">::Hash</a>
containing the values to be substituted. See <a href="Kernel.html#sprintf-class_method" title="Kernel.sprintf (method)">Kernel.sprintf</a> for details
of the format string.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%05d</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='int'>123</span>                              <span class='comment'>#=&gt; &quot;00123&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%-5s: %08x</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_object_id'>object_id</span> <span class='rbracket'>]</span>   <span class='comment'>#=&gt; &quot;ID   : 200e14d6&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo = %{foo}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='lbrace'>{</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span>        <span class='comment'>#=&gt; &quot;foo = bar&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L1902-L1913'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1902
1903
1904
1905
1906
1907
1908
1909
1910
1911
1912
1913</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 1902</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_format_m(VALUE str, VALUE arg)
{
    VALUE tmp = rb_check_array_type(arg);

    if (!NIL_P(tmp)) {
	VALUE rv = rb_str_format(RARRAY_LENINT(tmp), RARRAY_CONST_PTR(tmp), str);
	RB_GC_GUARD(tmp);
	return rv;
    }
    return rb_str_format(1, &amp;arg, str);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="*-instance_method">
  <h3 class='signature '>
    #<strong>*</strong>(integer)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Copy --- Returns a new <code>String</code> containing <code>integer</code> copies of
the receiver. <code>integer</code> must be greater than or equal to 0.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ho! </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='int'>3</span>   <span class='comment'>#=&gt; &quot;Ho! Ho! Ho! &quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ho! </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='int'>0</span>   <span class='comment'>#=&gt; &quot;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L1841-L1885'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1841
1842
1843
1844
1845
1846
1847
1848
1849
1850
1851
1852
1853
1854
1855
1856
1857
1858
1859
1860
1861
1862
1863
1864
1865
1866
1867
1868
1869
1870
1871
1872
1873
1874
1875
1876
1877
1878
1879
1880
1881
1882
1883
1884
1885</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 1841</span></pre>
<pre class='code cpp'>

VALUE
rb_str_times(VALUE str, VALUE times)
{
    VALUE str2;
    long n, len;
    char *ptr2;
    int termlen;

    if (times == INT2FIX(1)) {
	return rb_str_dup(str);
    }
    if (times == INT2FIX(0)) {
	str2 = str_alloc(rb_obj_class(str));
	rb_enc_copy(str2, str);
	OBJ_INFECT(str2, str);
	return str2;
    }
    len = NUM2LONG(times);
    if (len &lt; 0) {
	rb_raise(rb_eArgError, &quot;negative argument&quot;);
    }
    if (len &amp;&amp; LONG_MAX/len &lt;  RSTRING_LEN(str)) {
	rb_raise(rb_eArgError, &quot;argument too big&quot;);
    }

    len *= RSTRING_LEN(str);
    termlen = TERM_LEN(str);
    str2 = str_new0(rb_obj_class(str), 0, len, termlen);
    ptr2 = RSTRING_PTR(str2);
    if (len) {
        n = RSTRING_LEN(str);
        memcpy(ptr2, RSTRING_PTR(str), n);
        while (n &lt;= len/2) {
            memcpy(ptr2 + n, ptr2, n);
            n *= 2;
        }
        memcpy(ptr2 + n, ptr2, len-n);
    }
    STR_SET_LEN(str2, len);
    TERM_FILL(&amp;ptr2[len], termlen);
    OBJ_INFECT(str2, str);
    rb_enc_cr_str_copy_for_substr(str2, str);

    return str2;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="+-instance_method">
  <h3 class='signature '>
    #<strong>+</strong>(other_str)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Concatenation---Returns a new <code>String</code> containing <em>other_str</em>
concatenated to <em>str</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello from </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>   <span class='comment'>#=&gt; &quot;Hello from main&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L1799-L1828'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1799
1800
1801
1802
1803
1804
1805
1806
1807
1808
1809
1810
1811
1812
1813
1814
1815
1816
1817
1818
1819
1820
1821
1822
1823
1824
1825
1826
1827
1828</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 1799</span></pre>
<pre class='code cpp'>

VALUE
rb_str_plus(VALUE str1, VALUE str2)
{
    VALUE str3;
    rb_encoding *enc;
    char *ptr1, *ptr2, *ptr3;
    long len1, len2;
    int termlen;

    StringValue(str2);
    enc = rb_enc_check_str(str1, str2);
    RSTRING_GETMEM(str1, ptr1, len1);
    RSTRING_GETMEM(str2, ptr2, len2);
    termlen = rb_enc_mbminlen(enc);
    if (len1 &gt; LONG_MAX - len2) {
	rb_raise(rb_eArgError, &quot;string size too big&quot;);
    }
    str3 = str_new0(rb_cString, 0, len1+len2, termlen);
    ptr3 = RSTRING_PTR(str3);
    memcpy(ptr3, ptr1, len1);
    memcpy(ptr3+len1, ptr2, len2);
    TERM_FILL(&amp;ptr3[len1+len2], termlen);

    FL_SET_RAW(str3, OBJ_TAINTED_RAW(str1) | OBJ_TAINTED_RAW(str2));
    ENCODING_CODERANGE_SET(str3, rb_enc_to_index(enc),
			   ENC_CODERANGE_AND(ENC_CODERANGE(str1), ENC_CODERANGE(str2)));
    RB_GC_GUARD(str1);
    RB_GC_GUARD(str2);
    return str3;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="+@-instance_method">
  <h3 class='signature '>
    #<strong>+</strong>  &#x21d2; <code>str</code> (<code>mutable</code>)   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If the string is frozen, then return duplicated mutable string.</p>

<p>If the string is not frozen, then return the string itself.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L2506-L2515'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2506
2507
2508
2509
2510
2511
2512
2513
2514
2515</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2506</span></pre>
<pre class='code cpp'>

static VALUE
str_uplus(VALUE str)
{
    if (OBJ_FROZEN(str)) {
	return rb_str_dup(str);
    }
    else {
	return str;
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="-@-instance_method">
  <h3 class='signature '>
    #<strong>-</strong>  &#x21d2; <code>str</code> (<code>frozen</code>)   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If the string is frozen, then return the string itself.</p>

<p>If the string is not frozen, return a frozen, possibly pre-existing copy of
it.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L2526-L2535'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2526
2527
2528
2529
2530
2531
2532
2533
2534
2535</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2526</span></pre>
<pre class='code cpp'>

static VALUE
str_uminus(VALUE str)
{
    if (OBJ_FROZEN(str)) {
	return str;
    }
    else {
	return rb_fstring(str);
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="<<-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>&lt;&lt;</strong>(integer)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>concat</strong>(integer1, integer2, ...)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>&lt;&lt;</strong>(obj)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>concat</strong>(obj1, obj2, ...)  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Append---Concatenates the given object to <em>str</em>. If the object is an
<a href="Integer.html" title="Integer (class)">::Integer</a>, it is considered as a codepoint, and is converted to a character
before concatenation. Concat can take multiple arguments. All the arguments
are concatenated in order.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello </span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>world</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; &quot;hello world&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='int'>33</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;hello world!&quot;
</span><span class='id identifier rubyid_a'>a</span>              <span class='comment'>#=&gt; &quot;hello world!&quot;
</span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sn</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;snsnsn&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L2912-L2974'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2912
2913
2914
2915
2916
2917
2918
2919
2920
2921
2922
2923
2924
2925
2926
2927
2928
2929
2930
2931
2932
2933
2934
2935
2936
2937
2938
2939
2940
2941
2942
2943
2944
2945
2946
2947
2948
2949
2950
2951
2952
2953
2954
2955
2956
2957
2958
2959
2960
2961
2962
2963
2964
2965
2966
2967
2968
2969
2970
2971
2972
2973
2974</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2912</span></pre>
<pre class='code cpp'>

VALUE
rb_str_concat(VALUE str1, VALUE str2)
{
    unsigned int code;
    rb_encoding *enc = STR_ENC_GET(str1);
    int encidx;

    if (RB_INTEGER_TYPE_P(str2)) {
	if (rb_num_to_uint(str2, &amp;code) == 0) {
	}
	else if (FIXNUM_P(str2)) {
	    rb_raise(rb_eRangeError, &quot;%ld out of char range&quot;, FIX2LONG(str2));
	}
	else {
	    rb_raise(rb_eRangeError, &quot;bignum out of char range&quot;);
	}
    }
    else {
	return rb_str_append(str1, str2);
    }

    encidx = rb_enc_to_index(enc);
    if (encidx == ENCINDEX_ASCII || encidx == ENCINDEX_US_ASCII) {
	/* US-ASCII automatically extended to ASCII-8BIT */
	char buf[1];
	buf[0] = (char)code;
	if (code &gt; 0xFF) {
	    rb_raise(rb_eRangeError, &quot;%u out of char range&quot;, code);
	}
	rb_str_cat(str1, buf, 1);
	if (encidx == ENCINDEX_US_ASCII &amp;&amp; code &gt; 127) {
	    rb_enc_associate_index(str1, ENCINDEX_ASCII);
	    ENC_CODERANGE_SET(str1, ENC_CODERANGE_VALID);
	}
    }
    else {
	long pos = RSTRING_LEN(str1);
	int cr = ENC_CODERANGE(str1);
	int len;
	char *buf;

	switch (len = rb_enc_codelen(code, enc)) {
	  case ONIGERR_INVALID_CODE_POINT_VALUE:
	    rb_raise(rb_eRangeError, &quot;invalid codepoint 0x%X in %s&quot;, code, rb_enc_name(enc));
	    break;
	  case ONIGERR_TOO_BIG_WIDE_CHAR_VALUE:
	  case 0:
	    rb_raise(rb_eRangeError, &quot;%u out of char range&quot;, code);
	    break;
	}
	buf = ALLOCA_N(char, len + 1);
	rb_enc_mbcput(code, buf, enc);
	if (rb_enc_precise_mbclen(buf, buf + len + 1, enc) != len) {
	    rb_raise(rb_eRangeError, &quot;invalid codepoint 0x%X in %s&quot;, code, rb_enc_name(enc));
	}
	rb_str_resize(str1, pos+len);
	memcpy(RSTRING_PTR(str1) + pos, buf, len);
	if (cr == ENC_CODERANGE_7BIT &amp;&amp; code &gt; 127)
	    cr = ENC_CODERANGE_VALID;
	ENC_CODERANGE_SET(str1, cr);
    }
    return str1;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="<=>-instance_method">
  <h3 class='signature '>
    #<strong>&lt;=&gt;</strong>(other_string)  &#x21d2; <code>1</code>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Comparison---Returns -1, 0, +1 or nil depending on whether <code>string</code> is less
than, equal to, or greater than <code>other_string</code>.</p>

<p><code>nil</code> is returned if the two values are incomparable.</p>

<p>If the strings are of different lengths, and the strings are equal when
compared up to the shortest length, then the longer string is considered
greater than the shorter one.</p>

<p><code>&lt;=&gt;</code> is the basis for the methods <code><</code>, <code><=</code>,
<code>></code>, <code>>=</code>, and <code>between?</code>, included from module <a href="Comparable.html" title="Comparable (module)">::Comparable</a>. The
method <a href="#==-instance_method" title="String#== (method)">#==</a> does not use <a href="Comparable.html#==-instance_method" title="Comparable#== (method)">Comparable#==</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcde</span><span class='tstring_end'>&quot;</span></span>     <span class='comment'>#=&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&quot;</span></span>    <span class='comment'>#=&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdefg</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; -1
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ABCDEF</span><span class='tstring_end'>&quot;</span></span>    <span class='comment'>#=&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;=&gt;</span> <span class='int'>1</span>           <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L3181-L3199'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3181
3182
3183
3184
3185
3186
3187
3188
3189
3190
3191
3192
3193
3194
3195
3196
3197
3198
3199</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3181</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_cmp_m(VALUE str1, VALUE str2)
{
    int result;

    if (!RB_TYPE_P(str2, T_STRING)) {
	VALUE tmp = rb_check_funcall(str2, idTo_str, 0, 0);
	if (RB_TYPE_P(tmp, T_STRING)) {
	    result = rb_str_cmp(str1, tmp);
	}
	else {
	    return rb_invcmp(str1, str2);
	}
    }
    else {
	result = rb_str_cmp(str1, str2);
    }
    return INT2FIX(result);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="==-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>==</strong>(obj)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>===</strong>(obj)  &#x21d2; <code>Boolean</code> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#===</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Equality---Returns whether <code>str</code> == <code>obj</code>, similar to <code>Object#==</code>.</p>

<p>If <code>obj</code> is not an instance of <code>String</code> but responds to
<a href="#to_str-instance_method" title="String#to_str (method)">#to_str</a>, then the two strings are compared using <code>obj.==</code>.</p>

<p>Otherwise, returns similarly to <a href="#eql%3F-instance_method" title="String#eql? (method)">#eql?</a>, comparing length and
content.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L3127-L3138'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3127
3128
3129
3130
3131
3132
3133
3134
3135
3136
3137
3138</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3127</span></pre>
<pre class='code cpp'>

VALUE
rb_str_equal(VALUE str1, VALUE str2)
{
    if (str1 == str2) return Qtrue;
    if (!RB_TYPE_P(str2, T_STRING)) {
	if (!rb_respond_to(str2, idTo_str)) {
	    return Qfalse;
	}
	return rb_equal(str2, str1);
    }
    return str_eql(str1, str2);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="===-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>==</strong>(obj)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>===</strong>(obj)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#==-instance_method" title="String#== (method)">#==</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L10051-L10051'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


10051</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10051</span></pre>
<pre class='code cpp'>

rb_define_method(rb_cString, &quot;===&quot;, rb_str_equal, 1);
</pre>
  </div>
</div>
</section>

<section class='method_details' id="=~-instance_method">
  <h3 class='signature '>
    #<strong>=~</strong>(obj)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Match---If <em>obj</em> is a <a href="Regexp.html" title="Regexp (class)">::Regexp</a>, use it as a pattern to match against
<em>str</em>,and returns the position the match starts, or <code>nil</code> if there
is no match. Otherwise, invokes <em>obj.=~</em>, passing <em>str</em> as an
argument. The default <code>=~</code> in <a href="Object.html" title="Object (class)">::Object</a> returns <code>nil</code>.</p>

<p>Note: <code>str =~ regexp</code> is not the same as <code>regexp =~
str</code>. Strings captured from named capture groups are assigned to
local variables only in the second case.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cat o&#39; 9 tails</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\d</span><span class='regexp_end'>/</span></span>   <span class='comment'>#=&gt; 7
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cat o&#39; 9 tails</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=~</span> <span class='int'>9</span>      <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L3610-L3625'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3610
3611
3612
3613
3614
3615
3616
3617
3618
3619
3620
3621
3622
3623
3624
3625</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3610</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_match(VALUE x, VALUE y)
{
    if (SPECIAL_CONST_P(y)) goto generic;
    switch (BUILTIN_TYPE(y)) {
      case T_STRING:
	rb_raise(rb_eTypeError, &quot;type mismatch: String given&quot;);

      case T_REGEXP:
	return rb_reg_match(y, x);

      generic:
      default:
	return rb_funcall(y, idEqTilde, 1, x);
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]</strong>(index)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(start, length)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(range)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(regexp)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(regexp, capture)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(match_str)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(index)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(start, length)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(range)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(regexp)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(regexp, capture)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(match_str)  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#slice</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Element Reference --- If passed a single <a href="#index-instance_method" title="String#index (method)">#index</a>, returns a substring of
one character at that index. If passed a <code>start</code> index and a <a href="#length-instance_method" title="String#length (method)">#length</a>,
returns a substring containing <a href="#length-instance_method" title="String#length (method)">#length</a> characters starting at the <code>start</code>
index. If passed a <code>range</code>, its beginning and end are interpreted as
offsets delimiting the substring to be returned.</p>

<p>In these three cases, if an index is negative, it is counted from the end
of the string.  For the <code>start</code> and <code>range</code> cases the starting index is
just before a character and an index matching the string&#39;s size.
Additionally, an empty string is returned when the starting index for a
character range is at the end of the string.</p>

<p>Returns <code>nil</code> if the initial index falls outside the string or the length
is negative.</p>

<p>If a <a href="Regexp.html" title="Regexp (class)">::Regexp</a> is supplied, the matching portion of the string is returned. 
If a <code>capture</code> follows the regular expression, which may be a capture group
index or name, follows the regular expression that component of the
<a href="MatchData.html" title="MatchData (class)">::MatchData</a> is returned instead.</p>

<p>If a <code>match_str</code> is given, that string is returned if it occurs in the
string.</p>

<p>Returns <code>nil</code> if the regular expression does not match or the match string
cannot be found.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello there</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>                   <span class='comment'>#=&gt; &quot;e&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span>                <span class='comment'>#=&gt; &quot;llo&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>2</span><span class='op'>..</span><span class='int'>3</span><span class='rbracket'>]</span>                <span class='comment'>#=&gt; &quot;ll&quot;
</span>
<span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>3</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span>               <span class='comment'>#=&gt; &quot;er&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>7</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span><span class='rbracket'>]</span>               <span class='comment'>#=&gt; &quot;her&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>4</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span><span class='rbracket'>]</span>              <span class='comment'>#=&gt; &quot;her&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>2</span><span class='op'>..</span><span class='op'>-</span><span class='int'>4</span><span class='rbracket'>]</span>              <span class='comment'>#=&gt; &quot;&quot;
</span>
<span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>11</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span>               <span class='comment'>#=&gt; &quot;&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>11</span><span class='rbracket'>]</span>                  <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>12</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span>               <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>12</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>              <span class='comment'>#=&gt; nil
</span>
<span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou](.)\1</span><span class='regexp_end'>/</span></span><span class='rbracket'>]</span>      <span class='comment'>#=&gt; &quot;ell&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou](.)\1</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span>   <span class='comment'>#=&gt; &quot;ell&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou](.)\1</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>   <span class='comment'>#=&gt; &quot;l&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou](.)\1</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span>   <span class='comment'>#=&gt; nil
</span>
<span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;vowel&gt;[aeiou])(?&lt;non_vowel&gt;[^aeiou])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>non_vowel</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='comment'>#=&gt; &quot;l&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;vowel&gt;[aeiou])(?&lt;non_vowel&gt;[^aeiou])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>vowel</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>     <span class='comment'>#=&gt; &quot;e&quot;
</span>
<span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>                <span class='comment'>#=&gt; &quot;lo&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bye</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>               <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L4336-L4351'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4336
4337
4338
4339
4340
4341
4342
4343
4344
4345
4346
4347
4348
4349
4350
4351</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4336</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_aref_m(int argc, VALUE *argv, VALUE str)
{
    if (argc == 2) {
	if (RB_TYPE_P(argv[0], T_REGEXP)) {
	    return rb_str_subpat(str, argv[0], argv[1]);
	}
	else {
	    long beg = NUM2LONG(argv[0]);
	    long len = NUM2LONG(argv[1]);
	    return rb_str_substr(str, beg, len);
	}
    }
    rb_check_arity(argc, 1, 2);
    return rb_str_aref(str, argv[0]);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]=-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]=</strong>(integer, new_str)  </span>
      <span class='overload'>#<strong>[]=</strong>(integer, integer, new_str)  </span>
      <span class='overload'>#<strong>[]=</strong>(range, aString)  </span>
      <span class='overload'>#<strong>[]=</strong>(regexp, new_str)  </span>
      <span class='overload'>#<strong>[]=</strong>(regexp, integer, new_str)  </span>
      <span class='overload'>#<strong>[]=</strong>(regexp, name, new_str)  </span>
      <span class='overload'>#<strong>[]=</strong>(other_str, new_str)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Element Assignment---Replaces some or all of the content of <em>str</em>.
The portion of the string affected is determined using the same criteria as
<a href="#[]-instance_method" title="String#[] (method)">#[]</a>. If the replacement string is not the same length as the text
it is replacing, the string will be adjusted accordingly. If the regular
expression or string is used as the index doesn&#39;t match a position in
the string, <a href="IndexError.html" title="IndexError (class)">::IndexError</a> is raised. If the regular expression form is used,
the optional second <a href="Integer.html" title="Integer (class)">::Integer</a> allows you to specify which portion of the
match to replace (effectively using the <a href="MatchData.html" title="MatchData (class)">::MatchData</a> indexing rules. The
forms that take an <a href="Integer.html" title="Integer (class)">::Integer</a> will raise an <a href="IndexError.html" title="IndexError (class)">::IndexError</a> if the value is out
of range; the <a href="Range.html" title="Range (class)">::Range</a> form will raise a <a href="RangeError.html" title="RangeError (class)">::RangeError</a>, and the <a href="Regexp.html" title="Regexp (class)">::Regexp</a> and
<code>String</code> will raise an <a href="IndexError.html" title="IndexError (class)">::IndexError</a> on negative match.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L4570-L4584'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4570
4571
4572
4573
4574
4575
4576
4577
4578
4579
4580
4581
4582
4583
4584</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4570</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_aset_m(int argc, VALUE *argv, VALUE str)
{
    if (argc == 3) {
	if (RB_TYPE_P(argv[0], T_REGEXP)) {
	    rb_str_subpat_set(str, argv[0], argv[1], argv[2]);
	}
	else {
	    rb_str_splice(str, NUM2LONG(argv[0]), NUM2LONG(argv[1]), argv[2]);
	}
	return argv[2];
    }
    rb_check_arity(argc, 2, 3);
    return rb_str_aset(str, argv[0], argv[1]);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="b-instance_method">
  <h3 class='signature '>
    #<strong>b</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copied string whose encoding is ASCII-8BIT.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L9144-L9152'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


9144
9145
9146
9147
9148
9149
9150
9151
9152</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9144</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_b(VALUE str)
{
    VALUE str2 = str_alloc(rb_cString);
    str_replace_shared_without_enc(str2, str);
    OBJ_INFECT_RAW(str2, str);
    ENC_CODERANGE_CLEAR(str2);
    return str2;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bytes-instance_method">
  <h3 class='signature '>
    #<strong>bytes</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of bytes in <em>str</em>.  This is a shorthand for
<code>str.each_byte.to_a</code>.</p>

<p>If a block is given, which is a deprecated form, works the same as
<a href="#each_byte-instance_method" title="String#each_byte (method)">#each_byte</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L7785-L7789'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


7785
7786
7787
7788
7789</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7785</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_bytes(VALUE str)
{
    return rb_str_enumerate_bytes(str, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bytesize-instance_method">
  <h3 class='signature '>
    #<strong>bytesize</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the length of <code>str</code> in bytes.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x80\u3042</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_bytesize'>bytesize</span>  <span class='comment'>#=&gt; 4
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_bytesize'>bytesize</span>       <span class='comment'>#=&gt; 5</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L1764-L1768'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1764
1765
1766
1767
1768</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 1764</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_bytesize(VALUE str)
{
    return LONG2NUM(RSTRING_LEN(str));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="byteslice-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>byteslice</strong>(integer)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>byteslice</strong>(integer, integer)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>byteslice</strong>(range)  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Byte Reference---If passed a single <a href="Integer.html" title="Integer (class)">::Integer</a>, returns a substring of one
byte at that position. If passed two <a href="Integer.html" title="Integer (class)">::Integer</a> objects, returns a substring
starting at the offset given by the first, and a length given by the
second. If given a <a href="Range.html" title="Range (class)">::Range</a>, a substring containing bytes at offsets given
by the range is returned. In all three cases, if an offset is negative, it
is counted from the end of <em>str</em>. Returns <code>nil</code> if the initial
offset falls outside the string, the length is negative, or the beginning
of the range is greater than the end. The encoding of the resulted string
keeps original encoding.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_byteslice'>byteslice</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; &quot;e&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_byteslice'>byteslice</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;o&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_byteslice'>byteslice</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;el&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x80\u3042</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_byteslice'>byteslice</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;\u3042&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x03\u3042\xff</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_byteslice'>byteslice</span><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>3</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;\u3042&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5351-L5361'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5351
5352
5353
5354
5355
5356
5357
5358
5359
5360
5361</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5351</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_byteslice(int argc, VALUE *argv, VALUE str)
{
    if (argc == 2) {
	long beg = NUM2LONG(argv[0]);
	long end = NUM2LONG(argv[1]);
	return str_byte_substr(str, beg, end, TRUE);
    }
    rb_check_arity(argc, 1, 2);
    return str_byte_aref(str, argv[0]);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="capitalize-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>capitalize</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>capitalize</strong>([options])  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with the first character converted to
uppercase and the remainder to lowercase.</p>

<p>See <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a> for meaning of <code>options</code> and use with different
encodings.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_capitalize'>capitalize</span>    <span class='comment'>#=&gt; &quot;Hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HELLO</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_capitalize'>capitalize</span>    <span class='comment'>#=&gt; &quot;Hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123ABC</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_capitalize'>capitalize</span>   <span class='comment'>#=&gt; &quot;123abc&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L6329-L6335'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6329
6330
6331
6332
6333
6334
6335</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6329</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_capitalize(int argc, VALUE *argv, VALUE str)
{
    str = rb_str_dup(str);
    rb_str_capitalize_bang(argc, argv, str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="capitalize!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>capitalize!</strong>  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>capitalize!</strong>([options])  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Modifies <em>str</em> by converting the first character to uppercase and
the remainder to lowercase. Returns <code>nil</code> if no changes are made.</p>

<p>See <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a> for meaning of <code>options</code> and use with different
encodings.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_capitalize!'>capitalize!</span>   <span class='comment'>#=&gt; &quot;Hello&quot;
</span><span class='id identifier rubyid_a'>a</span>               <span class='comment'>#=&gt; &quot;Hello&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_capitalize!'>capitalize!</span>   <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L6293-L6311'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6293
6294
6295
6296
6297
6298
6299
6300
6301
6302
6303
6304
6305
6306
6307
6308
6309
6310
6311</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6293</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_capitalize_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE | ONIGENC_CASE_TITLECASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    rb_str_check_dummy_enc(enc);
    if (RSTRING_LEN(str) == 0 || !RSTRING_PTR(str)) return Qnil;
    if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, &amp;flags, enc);
    else
	str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="casecmp-instance_method">
  <h3 class='signature '>
    #<strong>casecmp</strong>(other_str)  &#x21d2; <code>1</code>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Case-insensitive version of <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a>. Currently,
case-insensitivity only works on characters A-Z/a-z, not all of Unicode.
This is different from <a href="#casecmp%3F-instance_method" title="String#casecmp? (method)">#casecmp?</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_casecmp'>casecmp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcde</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>     <span class='comment'>#=&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>aBcDeF</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_casecmp'>casecmp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_casecmp'>casecmp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdefg</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; -1
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_casecmp'>casecmp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ABCDEF</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; 0</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L3215-L3271'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3215
3216
3217
3218
3219
3220
3221
3222
3223
3224
3225
3226
3227
3228
3229
3230
3231
3232
3233
3234
3235
3236
3237
3238
3239
3240
3241
3242
3243
3244
3245
3246
3247
3248
3249
3250
3251
3252
3253
3254
3255
3256
3257
3258
3259
3260
3261
3262
3263
3264
3265
3266
3267
3268
3269
3270
3271</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3215</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_casecmp(VALUE str1, VALUE str2)
{
    long len;
    rb_encoding *enc;
    char *p1, *p1end, *p2, *p2end;

    StringValue(str2);
    enc = rb_enc_compatible(str1, str2);
    if (!enc) {
	return Qnil;
    }

    p1 = RSTRING_PTR(str1); p1end = RSTRING_END(str1);
    p2 = RSTRING_PTR(str2); p2end = RSTRING_END(str2);
    if (single_byte_optimizable(str1) &amp;&amp; single_byte_optimizable(str2)) {
	while (p1 &lt; p1end &amp;&amp; p2 &lt; p2end) {
	    if (*p1 != *p2) {
		unsigned int c1 = TOUPPER(*p1 &amp; 0xff);
		unsigned int c2 = TOUPPER(*p2 &amp; 0xff);
                if (c1 != c2)
                    return INT2FIX(c1 &lt; c2 ? -1 : 1);
	    }
	    p1++;
	    p2++;
	}
    }
    else {
	while (p1 &lt; p1end &amp;&amp; p2 &lt; p2end) {
            int l1, c1 = rb_enc_ascget(p1, p1end, &amp;l1, enc);
            int l2, c2 = rb_enc_ascget(p2, p2end, &amp;l2, enc);

            if (0 &lt;= c1 &amp;&amp; 0 &lt;= c2) {
                c1 = TOUPPER(c1);
                c2 = TOUPPER(c2);
                if (c1 != c2)
                    return INT2FIX(c1 &lt; c2 ? -1 : 1);
            }
            else {
                int r;
                l1 = rb_enc_mbclen(p1, p1end, enc);
                l2 = rb_enc_mbclen(p2, p2end, enc);
                len = l1 &lt; l2 ? l1 : l2;
                r = memcmp(p1, p2, len);
                if (r != 0)
                    return INT2FIX(r &lt; 0 ? -1 : 1);
                if (l1 != l2)
                    return INT2FIX(l1 &lt; l2 ? -1 : 1);
            }
	    p1 += l1;
	    p2 += l2;
	}
    }
    if (RSTRING_LEN(str1) == RSTRING_LEN(str2)) return INT2FIX(0);
    if (RSTRING_LEN(str1) &gt; RSTRING_LEN(str2)) return INT2FIX(1);
    return INT2FIX(-1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="casecmp?-instance_method">
  <h3 class='signature '>
    #<strong>casecmp?</strong>(other_str)  &#x21d2; <code>true</code>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if str and other_other_str are equal after Unicode case
folding, false if they are not equal, and nil if other_str is not a string.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_casecmp?'>casecmp?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcde</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>     <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>aBcDeF</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_casecmp?'>casecmp?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_casecmp?'>casecmp?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdefg</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_casecmp?'>casecmp?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ABCDEF</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u{e4 f6 fc}</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_casecmp?'>casecmp?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u{c4 d6 dc}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L3287-L3304'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3287
3288
3289
3290
3291
3292
3293
3294
3295
3296
3297
3298
3299
3300
3301
3302
3303
3304</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3287</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_casecmp_p(VALUE str1, VALUE str2)
{
    rb_encoding *enc;
    VALUE folded_str1, folded_str2;
    VALUE fold_opt = sym_fold;

    StringValue(str2);
    enc = rb_enc_compatible(str1, str2);
    if (!enc) {
	return Qnil;
    }

    folded_str1 = rb_str_downcase(1, &amp;fold_opt, str1);
    folded_str2 = rb_str_downcase(1, &amp;fold_opt, str2);

    return rb_str_eql(folded_str1, folded_str2);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="center-instance_method">
  <h3 class='signature '>
    #<strong>center</strong>(width, padstr = &#39; &#39;)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Centers <code>str</code> in <code>width</code>.  If <code>width</code> is greater than the length of <code>str</code>,
returns a new <code>String</code> of length <code>width</code> with <code>str</code> centered and
padded with <code>padstr</code>; otherwise, returns <code>str</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_center'>center</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span>         <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_center'>center</span><span class='lparen'>(</span><span class='int'>20</span><span class='rparen'>)</span>        <span class='comment'>#=&gt; &quot;       hello        &quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_center'>center</span><span class='lparen'>(</span><span class='int'>20</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>123</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;1231231hello12312312&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8936-L8940'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8936
8937
8938
8939
8940</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8936</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_center(int argc, VALUE *argv, VALUE str)
{
    return rb_str_justify(argc, argv, str, &#39;c&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chars-instance_method">
  <h3 class='signature '>
    #<strong>chars</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of characters in <em>str</em>.  This is a shorthand for
<code>str.each_char.to_a</code>.</p>

<p>If a block is given, which is a deprecated form, works the same as
<a href="#each_char-instance_method" title="String#each_char (method)">#each_char</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L7889-L7893'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


7889
7890
7891
7892
7893</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7889</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chars(VALUE str)
{
    return rb_str_enumerate_chars(str, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chomp-instance_method">
  <h3 class='signature '>
    #<strong>chomp</strong>(separator = $/)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new <code>String</code> with the given record separator removed from the end
of <em>str</em> (if present). If <code>$/</code> has not been changed from
the default Ruby record separator, then <code>chomp</code> also removes
carriage return characters (that is it will remove <code>\n</code>,
<code>\r</code>, and <code>\r\n</code>). If <code>$/</code> is an empty
string, it will remove all trailing newlines from the string.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>                <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\n</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>              <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\r\n</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>            <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\n\r</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>            <span class='comment'>#=&gt; &quot;hello\n&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\r</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>              <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello \n there</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>       <span class='comment'>#=&gt; &quot;hello \n there&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>llo</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>         <span class='comment'>#=&gt; &quot;he&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\r\n\r\n</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\r\n\r\r\n</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;hello\r\n\r&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8228-L8234'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8228
8229
8230
8231
8232
8233
8234</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8228</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chomp(int argc, VALUE *argv, VALUE str)
{
    VALUE rs = chomp_rs(argc, argv);
    if (NIL_P(rs)) return rb_str_dup(str);
    return rb_str_subseq(str, 0, chompped_length(str, rs));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chomp!-instance_method">
  <h3 class='signature '>
    #<strong>chomp!</strong>(separator = $/)  &#x21d2; <code>String</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Modifies <em>str</em> in place as described for <a href="#chomp-instance_method" title="String#chomp (method)">#chomp</a>, returning
<em>str</em>, or <code>nil</code> if no modifications were made.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8194-L8203'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8194
8195
8196
8197
8198
8199
8200
8201
8202
8203</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8194</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chomp_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE rs;
    str_modify_keep_cr(str);
    if (RSTRING_LEN(str) == 0) return Qnil;
    rs = chomp_rs(argc, argv);
    if (NIL_P(rs)) return Qnil;
    return rb_str_chomp_string(str, rs);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chop-instance_method">
  <h3 class='signature '>
    #<strong>chop</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new <code>String</code> with the last character removed.  If the string ends
with <code>\r\n</code>, both characters are removed. Applying
<code>chop</code> to an empty string returns an empty string.
<a href="#chomp-instance_method" title="String#chomp (method)">#chomp</a> is often a safer alternative, as it leaves the string
unchanged if it doesn&#39;t end in a record separator.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string\r\n</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_chop'>chop</span>   <span class='comment'>#=&gt; &quot;string&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string\n\r</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_chop'>chop</span>   <span class='comment'>#=&gt; &quot;string\n&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string\n</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_chop'>chop</span>     <span class='comment'>#=&gt; &quot;string&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_chop'>chop</span>       <span class='comment'>#=&gt; &quot;strin&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_chop'>chop</span><span class='period'>.</span><span class='id identifier rubyid_chop'>chop</span>       <span class='comment'>#=&gt; &quot;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8052-L8056'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8052
8053
8054
8055
8056</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8052</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chop(VALUE str)
{
    return rb_str_subseq(str, 0, chopped_length(str));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chop!-instance_method">
  <h3 class='signature '>
    #<strong>chop!</strong>  &#x21d2; <code>String</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Processes <em>str</em> as for <a href="#chop-instance_method" title="String#chop (method)">#chop</a>, returning <em>str</em>, or
<code>nil</code> if <em>str</em> is the empty string.  See also <a href="#chomp!-instance_method" title="String#chomp! (method)">#chomp!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8017-L8032'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8017
8018
8019
8020
8021
8022
8023
8024
8025
8026
8027
8028
8029
8030
8031
8032</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8017</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chop_bang(VALUE str)
{
    str_modify_keep_cr(str);
    if (RSTRING_LEN(str) &gt; 0) {
	long len;
	len = chopped_length(str);
	STR_SET_LEN(str, len);
	TERM_FILL(&amp;RSTRING_PTR(str)[len], TERM_LEN(str));
	if (ENC_CODERANGE(str) != ENC_CODERANGE_7BIT) {
	    ENC_CODERANGE_CLEAR(str);
	}
	return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chr-instance_method">
  <h3 class='signature '>
    #<strong>chr</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a one-character string at the beginning of the string.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcde</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_chr'>chr</span>    <span class='comment'>#=&gt; &quot;a&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5164-L5168'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5164
5165
5166
5167
5168</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5164</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chr(VALUE str)
{
    return rb_str_substr(str, 0, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clear-instance_method">
  <h3 class='signature '>
    #<strong>clear</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Makes string empty.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcde</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>    <span class='comment'>#=&gt; &quot;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5140-L5152'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5140
5141
5142
5143
5144
5145
5146
5147
5148
5149
5150
5151
5152</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5140</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_clear(VALUE str)
{
    str_discard(str);
    STR_SET_EMBED(str);
    STR_SET_EMBED_LEN(str, 0);
    RSTRING_PTR(str)[0] = 0;
    if (rb_enc_asciicompat(STR_ENC_GET(str)))
	ENC_CODERANGE_SET(str, ENC_CODERANGE_7BIT);
    else
	ENC_CODERANGE_SET(str, ENC_CODERANGE_VALID);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="codepoints-instance_method">
  <h3 class='signature '>
    #<strong>codepoints</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of the <a href="Integer.html" title="Integer (class)">::Integer</a> ordinals of the characters in
<em>str</em>.  This is a shorthand for
<code>str.each_codepoint.to_a</code>.</p>

<p>If a block is given, which is a deprecated form, works the same as
<a href="#each_codepoint-instance_method" title="String#each_codepoint (method)">#each_codepoint</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L7983-L7987'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


7983
7984
7985
7986
7987</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7983</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_codepoints(VALUE str)
{
    return rb_str_enumerate_codepoints(str, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="concat-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>&lt;&lt;</strong>(integer)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>concat</strong>(integer1, integer2, ...)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>&lt;&lt;</strong>(obj)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>concat</strong>(obj1, obj2, ...)  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Append---Concatenates the given object to <em>str</em>. If the object is an
<a href="Integer.html" title="Integer (class)">::Integer</a>, it is considered as a codepoint, and is converted to a character
before concatenation. Concat can take multiple arguments. All the arguments
are concatenated in order.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello </span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>world</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; &quot;hello world&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='int'>33</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;hello world!&quot;
</span><span class='id identifier rubyid_a'>a</span>              <span class='comment'>#=&gt; &quot;hello world!&quot;
</span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sn</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;snsnsn&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L2894-L2910'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2894
2895
2896
2897
2898
2899
2900
2901
2902
2903
2904
2905
2906
2907
2908
2909
2910</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2894</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_concat_multi(int argc, VALUE *argv, VALUE str)
{
    str_modifiable(str);

    if (argc &gt; 0) {
	int i;
	VALUE arg_str = rb_str_tmp_new(0);
	rb_enc_copy(arg_str, str);
	for (i = 0; i &lt; argc; i++) {
	    rb_str_concat(arg_str, argv[i]);
	}
	rb_str_buf_append(str, arg_str);
    }

    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="count-instance_method">
  <h3 class='signature '>
    #<strong>count</strong>([other_str])  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Each <code>other_str</code> parameter defines a set of characters to count.  The
intersection of these sets defines the characters to count in <code>str</code>.  Any
<code>other_str</code> that starts with a caret <code>^</code> is negated.  The sequence
<code>c1-c2</code> means all characters between c1 and c2.  The backslash
character <code>\</code> can be used to escape <code>^</code> or <code>-</code> and is otherwise
ignored unless it appears at the end of a sequence or the end of a
<code>other_str</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello world</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span>                   <span class='comment'>#=&gt; 5
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>o</span><span class='tstring_end'>&quot;</span></span>              <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>^l</span><span class='tstring_end'>&quot;</span></span>          <span class='comment'>#=&gt; 4
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ej-m</span><span class='tstring_end'>&quot;</span></span>                 <span class='comment'>#=&gt; 4
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello^world</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\^aeiou</span><span class='tstring_end'>&quot;</span></span> <span class='comment'>#=&gt; 4
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello-world</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\\-eo</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; 4
</span>
<span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello world\\r\\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&quot;</span></span>                   <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\A</span><span class='tstring_end'>&quot;</span></span>                  <span class='comment'>#=&gt; 0
</span><span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X-\\w</span><span class='tstring_end'>&quot;</span></span>                <span class='comment'>#=&gt; 3</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L7111-L7179'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


7111
7112
7113
7114
7115
7116
7117
7118
7119
7120
7121
7122
7123
7124
7125
7126
7127
7128
7129
7130
7131
7132
7133
7134
7135
7136
7137
7138
7139
7140
7141
7142
7143
7144
7145
7146
7147
7148
7149
7150
7151
7152
7153
7154
7155
7156
7157
7158
7159
7160
7161
7162
7163
7164
7165
7166
7167
7168
7169
7170
7171
7172
7173
7174
7175
7176
7177
7178
7179</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7111</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_count(int argc, VALUE *argv, VALUE str)
{
    char table[TR_TABLE_SIZE];
    rb_encoding *enc = 0;
    VALUE del = 0, nodel = 0, tstr;
    char *s, *send;
    int i;
    int ascompat;

    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);

    tstr = argv[0];
    StringValue(tstr);
    enc = rb_enc_check(str, tstr);
    if (argc == 1) {
	const char *ptstr;
	if (RSTRING_LEN(tstr) == 1 &amp;&amp; rb_enc_asciicompat(enc) &amp;&amp;
	    (ptstr = RSTRING_PTR(tstr),
	     ONIGENC_IS_ALLOWED_REVERSE_MATCH(enc, (const unsigned char *)ptstr, (const unsigned char *)ptstr+1)) &amp;&amp;
	    !is_broken_string(str)) {
	    int n = 0;
	    int clen;
	    unsigned char c = rb_enc_codepoint_len(ptstr, ptstr+1, &amp;clen, enc);

	    s = RSTRING_PTR(str);
	    if (!s || RSTRING_LEN(str) == 0) return INT2FIX(0);
	    send = RSTRING_END(str);
	    while (s &lt; send) {
		if (*(unsigned char*)s++ == c) n++;
	    }
	    return INT2NUM(n);
	}
    }

    tr_setup_table(tstr, table, TRUE, &amp;del, &amp;nodel, enc);
    for (i=1; i&lt;argc; i++) {
	tstr = argv[i];
	StringValue(tstr);
	enc = rb_enc_check(str, tstr);
	tr_setup_table(tstr, table, FALSE, &amp;del, &amp;nodel, enc);
    }

    s = RSTRING_PTR(str);
    if (!s || RSTRING_LEN(str) == 0) return INT2FIX(0);
    send = RSTRING_END(str);
    ascompat = rb_enc_asciicompat(enc);
    i = 0;
    while (s &lt; send) {
	unsigned int c;

	if (ascompat &amp;&amp; (c = *(unsigned char*)s) &lt; 0x80) {
	    if (table[c]) {
		i++;
	    }
	    s++;
	}
	else {
	    int clen;
	    c = rb_enc_codepoint_len(s, send, &amp;clen, enc);
	    if (tr_find(c, table, del, nodel)) {
		i++;
	    }
	    s += clen;
	}
    }

    return INT2NUM(i);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="crypt-instance_method">
  <h3 class='signature '>
    #<strong>crypt</strong>(salt_str)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Applies a one-way cryptographic hash to <em>str</em> by invoking the
standard library function <code>crypt(3)</code> with the given salt string.
While the format and the result are system and implementation dependent,
using a salt matching the regular expression
<code>\A[a-zA-Z0-9./]{2}</code> should be valid and safe on any platform,
in which only the first two characters are significant.</p>

<p>This method is for use in system specific scripts, so if you want a
cross-platform hash function consider using Digest or OpenSSL instead.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8649-L8697'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8649
8650
8651
8652
8653
8654
8655
8656
8657
8658
8659
8660
8661
8662
8663
8664
8665
8666
8667
8668
8669
8670
8671
8672
8673
8674
8675
8676
8677
8678
8679
8680
8681
8682
8683
8684
8685
8686
8687
8688
8689
8690
8691
8692
8693
8694
8695
8696
8697</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8649</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_crypt(VALUE str, VALUE salt)
{
#ifdef HAVE_CRYPT_R
    struct crypt_data data;
#else
    extern char *crypt(const char *, const char *);
#endif
    VALUE result;
    const char *s, *saltp;
    char *res;
#ifdef BROKEN_CRYPT
    char salt_8bit_clean[3];
#endif

    StringValue(salt);
    mustnot_wchar(str);
    mustnot_wchar(salt);
    if (RSTRING_LEN(salt) &lt; 2) {
      short_salt:
	rb_raise(rb_eArgError, &quot;salt too short (need &gt;=2 bytes)&quot;);
    }

    s = StringValueCStr(str);
    saltp = RSTRING_PTR(salt);
    if (!saltp[0] || !saltp[1]) goto short_salt;
#ifdef BROKEN_CRYPT
    if (!ISASCII((unsigned char)saltp[0]) || !ISASCII((unsigned char)saltp[1])) {
	salt_8bit_clean[0] = saltp[0] &amp; 0x7f;
	salt_8bit_clean[1] = saltp[1] &amp; 0x7f;
	salt_8bit_clean[2] = &#39;\0&#39;;
	saltp = salt_8bit_clean;
    }
#endif
#ifdef HAVE_CRYPT_R
# ifdef HAVE_STRUCT_CRYPT_DATA_INITIALIZED
    data.initialized = 0;
# endif
    res = crypt_r(s, saltp, &amp;data);
#else
    res = crypt(s, saltp);
#endif
    if (!res) {
	rb_sys_fail(&quot;crypt&quot;);
    }
    result = rb_str_new_cstr(res);
    FL_SET_RAW(result, OBJ_TAINTED_RAW(str) | OBJ_TAINTED_RAW(salt));
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete-instance_method">
  <h3 class='signature '>
    #<strong>delete</strong>([other_str])  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with all characters in the intersection of
its arguments deleted. Uses the same rules for building the set of
characters as <a href="#count-instance_method" title="String#count (method)">#count</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>l</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span>        <span class='comment'>#=&gt; &quot;heo&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span>            <span class='comment'>#=&gt; &quot;he&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>aeiou</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>^e</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; &quot;hell&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ej-m</span><span class='tstring_end'>&quot;</span></span>          <span class='comment'>#=&gt; &quot;ho&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L6930-L6936'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6930
6931
6932
6933
6934
6935
6936</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6930</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_delete(int argc, VALUE *argv, VALUE str)
{
    str = rb_str_dup(str);
    rb_str_delete_bang(argc, argv, str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete!-instance_method">
  <h3 class='signature '>
    #<strong>delete!</strong>([other_str])  &#x21d2; <code>String</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Performs a <a href="#delete-instance_method" title="String#delete (method)">#delete</a> operation in place, returning <em>str</em>, or <code>nil</code> if
<em>str</em> was not modified.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L6854-L6913'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6854
6855
6856
6857
6858
6859
6860
6861
6862
6863
6864
6865
6866
6867
6868
6869
6870
6871
6872
6873
6874
6875
6876
6877
6878
6879
6880
6881
6882
6883
6884
6885
6886
6887
6888
6889
6890
6891
6892
6893
6894
6895
6896
6897
6898
6899
6900
6901
6902
6903
6904
6905
6906
6907
6908
6909
6910
6911
6912
6913</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6854</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_delete_bang(int argc, VALUE *argv, VALUE str)
{
    char squeez[TR_TABLE_SIZE];
    rb_encoding *enc = 0;
    char *s, *send, *t;
    VALUE del = 0, nodel = 0;
    int modify = 0;
    int i, ascompat, cr;

    if (RSTRING_LEN(str) == 0 || !RSTRING_PTR(str)) return Qnil;
    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    for (i=0; i&lt;argc; i++) {
	VALUE s = argv[i];

	StringValue(s);
	enc = rb_enc_check(str, s);
	tr_setup_table(s, squeez, i==0, &amp;del, &amp;nodel, enc);
    }

    str_modify_keep_cr(str);
    ascompat = rb_enc_asciicompat(enc);
    s = t = RSTRING_PTR(str);
    send = RSTRING_END(str);
    cr = ascompat ? ENC_CODERANGE_7BIT : ENC_CODERANGE_VALID;
    while (s &lt; send) {
	unsigned int c;
	int clen;

	if (ascompat &amp;&amp; (c = *(unsigned char*)s) &lt; 0x80) {
	    if (squeez[c]) {
		modify = 1;
	    }
	    else {
		if (t != s) *t = c;
		t++;
	    }
	    s++;
	}
	else {
	    c = rb_enc_codepoint_len(s, send, &amp;clen, enc);

	    if (tr_find(c, squeez, del, nodel)) {
		modify = 1;
	    }
	    else {
		if (t != s) rb_enc_mbcput(c, t, enc);
		t += clen;
		if (cr == ENC_CODERANGE_7BIT) cr = ENC_CODERANGE_VALID;
	    }
	    s += clen;
	}
    }
    TERM_FILL(t, TERM_LEN(str));
    STR_SET_LEN(str, t - RSTRING_PTR(str));
    ENC_CODERANGE_SET(str, cr);

    if (modify) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="downcase-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>downcase</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>downcase</strong>([options])  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with all uppercase letters replaced with
their lowercase counterparts. Which letters exactly are replaced, and by
which other letters, depends on the presence or absence of options, and on
the <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a> of the string.</p>

<p>The meaning of the <code>options</code> is as follows:</p>
<dl class="rdoc-list note-list"><dt>No option 
<dd>
<p>Full Unicode case mapping, suitable for most languages (see :turkic and
:lithuanian options below for exceptions). Context-dependent case mapping
as described in Table 3-14 of the Unicode standard is currently not
supported.</p>
</dd><dt>:ascii 
<dd>
<p>Only the ASCII region, i.e. the characters "A&#39;&#39; to "Z&#39;&#39; and
"a&#39;&#39; to "z&#39;&#39;, are affected. This option cannot be combined
with any other option.</p>
</dd><dt>:turkic 
<dd>
<p>Full Unicode case mapping, adapted for Turkic languages (Turkish,
Aserbaijani,...). This means that upper case I is mapped to lower case
dotless i, and so on.</p>
</dd><dt>:lithuanian 
<dd>
<p>Currently, just full Unicode case mapping. In the future, full Unicode case
mapping adapted for Lithuanian (keeping the dot on the lower case i even if
there is an accent on top).</p>
</dd><dt>:fold 
<dd>
<p>Only available on <code>downcase</code> and <code>downcase!</code>. Unicode
case <strong>folding</strong>, which is more far-reaching than Unicode case
mapping. This option currently cannot be combined with any other option
(i.e. there is currenty no variant for turkic languages).</p>
</dd></dl>

<p>Please note that several assumptions that are valid for ASCII-only case
conversions do not hold for more general case conversions. For example, the
length of the result may not be the same as the length of the input
(neither in characters nor in bytes), some roundtrip assumptions (e.g.
str.downcase == str.upcase.downcase) may not apply, and Unicode
normalization (i.e. <code>String#unicode_normalize</code>) is not necessarily
maintained by case mapping operations.</p>

<p>Non-ASCII case mapping/folding is currently supported for UTF-8,
UTF-16BE/LE, UTF-32BE/LE, and ISO-8859-1~16 Strings/Symbols. This support
will be extended to other encodings.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hEllO</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>   <span class='comment'>#=&gt; &quot;hello&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L6268-L6274'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6268
6269
6270
6271
6272
6273
6274</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6268</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_downcase(int argc, VALUE *argv, VALUE str)
{
    str = rb_str_dup(str);
    rb_str_downcase_bang(argc, argv, str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="downcase!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>downcase!</strong>  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>downcase!</strong>([options])  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Downcases the contents of <em>str</em>, returning <code>nil</code> if no changes were
made.</p>

<p>See <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a> for meaning of <code>options</code> and use with different
encodings.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L6184-L6215'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6184
6185
6186
6187
6188
6189
6190
6191
6192
6193
6194
6195
6196
6197
6198
6199
6200
6201
6202
6203
6204
6205
6206
6207
6208
6209
6210
6211
6212
6213
6214
6215</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6184</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_downcase_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_DOWNCASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    rb_str_check_dummy_enc(enc);
    if ((flags&amp;ONIGENC_CASE_ASCII_ONLY) &amp;&amp; (enc==rb_utf8_encoding() || rb_enc_mbmaxlen(enc)==1)
	|| (!(flags&amp;ONIGENC_CASE_FOLD_TURKISH_AZERI) &amp;&amp; ENC_CODERANGE(str)==ENC_CODERANGE_7BIT)) {
        char *s = RSTRING_PTR(str), *send = RSTRING_END(str);

	while (s &lt; send) {
	    unsigned int c = *(unsigned char*)s;

	    if (rb_enc_isascii(c, enc) &amp;&amp; &#39;A&#39; &lt;= c &amp;&amp; c &lt;= &#39;Z&#39;) {
		*s = &#39;a&#39; + (c - &#39;A&#39;);
		flags |= ONIGENC_CASE_MODIFIED;
	    }
	    s++;
	}
    }
    else if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, &amp;flags, enc);
    else
	str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dump-instance_method">
  <h3 class='signature '>
    #<strong>dump</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Produces a version of <code>str</code> with all non-printing characters replaced by
<code>\nnn</code> notation and all special characters escaped.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello \n &#39;&#39;</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span>  <span class='comment'>#=&gt; &quot;\&quot;hello \\n &#39;&#39;\&quot;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5793-L5939'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5793
5794
5795
5796
5797
5798
5799
5800
5801
5802
5803
5804
5805
5806
5807
5808
5809
5810
5811
5812
5813
5814
5815
5816
5817
5818
5819
5820
5821
5822
5823
5824
5825
5826
5827
5828
5829
5830
5831
5832
5833
5834
5835
5836
5837
5838
5839
5840
5841
5842
5843
5844
5845
5846
5847
5848
5849
5850
5851
5852
5853
5854
5855
5856
5857
5858
5859
5860
5861
5862
5863
5864
5865
5866
5867
5868
5869
5870
5871
5872
5873
5874
5875
5876
5877
5878
5879
5880
5881
5882
5883
5884
5885
5886
5887
5888
5889
5890
5891
5892
5893
5894
5895
5896
5897
5898
5899
5900
5901
5902
5903
5904
5905
5906
5907
5908
5909
5910
5911
5912
5913
5914
5915
5916
5917
5918
5919
5920
5921
5922
5923
5924
5925
5926
5927
5928
5929
5930
5931
5932
5933
5934
5935
5936
5937
5938
5939</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5793</span></pre>
<pre class='code cpp'>

VALUE
rb_str_dump(VALUE str)
{
    int encidx = rb_enc_get_index(str);
    rb_encoding *enc = rb_enc_from_index(encidx);
    long len;
    const char *p, *pend;
    char *q, *qend;
    VALUE result;
    int u8 = (encidx == rb_utf8_encindex());
    static const char nonascii_suffix[] = &quot;.force_encoding(\&quot;%s\&quot;)&quot;;

    len = 2;			/* &quot;&quot; */
    if (!rb_enc_asciicompat(enc)) {
	len += strlen(nonascii_suffix) - rb_strlen_lit(&quot;%s&quot;);
	len += strlen(enc-&gt;name);
    }

    p = RSTRING_PTR(str); pend = p + RSTRING_LEN(str);
    while (p &lt; pend) {
	int clen;
	unsigned char c = *p++;

	switch (c) {
	  case &#39;&quot;&#39;:  case &#39;\\&#39;:
	  case &#39;\n&#39;: case &#39;\r&#39;:
	  case &#39;\t&#39;: case &#39;\f&#39;:
	  case &#39;\013&#39;: case &#39;\010&#39;: case &#39;\007&#39;: case &#39;\033&#39;:
	    clen = 2;
	    break;

	  case &#39;#&#39;:
	    clen = IS_EVSTR(p, pend) ? 2 : 1;
	    break;

	  default:
	    if (ISPRINT(c)) {
		clen = 1;
	    }
	    else {
		if (u8 &amp;&amp; c &gt; 0x7F) {	/* \u notation */
		    int n = rb_enc_precise_mbclen(p-1, pend, enc);
		    if (MBCLEN_CHARFOUND_P(n)) {
			unsigned int cc = rb_enc_mbc_to_codepoint(p-1, pend, enc);
			if (cc &lt;= 0xFFFF)
			    clen = 6;  /* \uXXXX */
			else if (cc &lt;= 0xFFFFF)
			    clen = 9;  /* \u{XXXXX} */
			else
			    clen = 10; /* \u{XXXXXX} */
			p += MBCLEN_CHARFOUND_LEN(n)-1;
			break;
		    }
		}
		clen = 4;	/* \xNN */
	    }
	    break;
	}

	if (clen &gt; LONG_MAX - len) {
	    rb_raise(rb_eRuntimeError, &quot;string size too big&quot;);
	}
	len += clen;
    }

    result = rb_str_new_with_class(str, 0, len);
    p = RSTRING_PTR(str); pend = p + RSTRING_LEN(str);
    q = RSTRING_PTR(result); qend = q + len + 1;

    *q++ = &#39;&quot;&#39;;
    while (p &lt; pend) {
	unsigned char c = *p++;

	if (c == &#39;&quot;&#39; || c == &#39;\\&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = c;
	}
	else if (c == &#39;#&#39;) {
	    if (IS_EVSTR(p, pend)) *q++ = &#39;\\&#39;;
	    *q++ = &#39;#&#39;;
	}
	else if (c == &#39;\n&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;n&#39;;
	}
	else if (c == &#39;\r&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;r&#39;;
	}
	else if (c == &#39;\t&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;t&#39;;
	}
	else if (c == &#39;\f&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;f&#39;;
	}
	else if (c == &#39;\013&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;v&#39;;
	}
	else if (c == &#39;\010&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;b&#39;;
	}
	else if (c == &#39;\007&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;a&#39;;
	}
	else if (c == &#39;\033&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;e&#39;;
	}
	else if (ISPRINT(c)) {
	    *q++ = c;
	}
	else {
	    *q++ = &#39;\\&#39;;
	    if (u8) {
		int n = rb_enc_precise_mbclen(p-1, pend, enc) - 1;
		if (MBCLEN_CHARFOUND_P(n)) {
		    int cc = rb_enc_mbc_to_codepoint(p-1, pend, enc);
		    p += n;
		    if (cc &lt;= 0xFFFF)
			snprintf(q, qend-q, &quot;u%04X&quot;, cc);    /* \uXXXX */
		    else
			snprintf(q, qend-q, &quot;u{%X}&quot;, cc);  /* \u{XXXXX} or \u{XXXXXX} */
		    q += strlen(q);
		    continue;
		}
	    }
	    snprintf(q, qend-q, &quot;x%02X&quot;, c);
	    q += 3;
	}
    }
    *q++ = &#39;&quot;&#39;;
    *q = &#39;\0&#39;;
    if (!rb_enc_asciicompat(enc)) {
	snprintf(q, qend-q, nonascii_suffix, enc-&gt;name);
	encidx = rb_ascii8bit_encindex();
    }
    OBJ_INFECT_RAW(result, str);
    /* result from dump is ASCII */
    rb_enc_associate_index(result, encidx);
    ENC_CODERANGE_SET(result, ENC_CODERANGE_7BIT);
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_byte-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_byte</strong> {|integer| ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>each_byte</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Passes each byte in <em>str</em> to the given block, or returns an
enumerator if no block is given.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_each_byte'>each_byte</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span></code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby">104 101 108 108 111</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L7768-L7772'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


7768
7769
7770
7771
7772</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7768</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_each_byte(VALUE str)
{
    return rb_str_enumerate_bytes(str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_char-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_char</strong> {|cstr| ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>each_char</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Passes each character in <em>str</em> to the given block, or returns an
enumerator if no block is given.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_each_char'>each_char</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span></code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='id identifier rubyid_e'>e</span> <span class='id identifier rubyid_l'>l</span> <span class='id identifier rubyid_l'>l</span> <span class='id identifier rubyid_o'>o</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L7872-L7876'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


7872
7873
7874
7875
7876</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7872</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_each_char(VALUE str)
{
    return rb_str_enumerate_chars(str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_codepoint-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_codepoint</strong> {|integer| ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>each_codepoint</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Passes the <a href="Integer.html" title="Integer (class)">::Integer</a> ordinal of each character in <em>str</em>, also known
as a <em>codepoint</em> when applied to Unicode strings to the given block.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\u0639</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_each_codepoint'>each_codepoint</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span></code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby">104 101 108 108 111 1593</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L7965-L7969'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


7965
7966
7967
7968
7969</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7965</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_each_codepoint(VALUE str)
{
    return rb_str_enumerate_codepoints(str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_line-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_line</strong>(separator = $/) {|substr| ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>each_line</strong>(separator = $/)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Splits <em>str</em> using the supplied parameter as the record separator
(<code>$/</code> by default), passing each substring in turn to the
supplied block.  If a zero-length record separator is supplied, the string
is split into paragraphs delimited by multiple successive newlines.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Example one\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\nworld</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_each_line'>each_line</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='rbrace'>}</span>
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Example two\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\nworld</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_each_line'>each_line</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>l</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='rbrace'>}</span>
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Example three\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\n\n\nworld</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_each_line'>each_line</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='rbrace'>}</span></code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby"><span class='const'>Example</span> <span class='id identifier rubyid_one'>one</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>world</span><span class='tstring_end'>&quot;</span></span>
<span class='const'>Example</span> <span class='id identifier rubyid_two'>two</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hel</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>l</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>o\nworl</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span>
<span class='const'>Example</span> <span class='id identifier rubyid_three'>three</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\n\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>world</span><span class='tstring_end'>&quot;</span></span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L7687-L7691'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


7687
7688
7689
7690
7691</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7687</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_each_line(int argc, VALUE *argv, VALUE str)
{
    return rb_str_enumerate_lines(argc, argv, str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="encode-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>encode</strong>(encoding[, options])  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>encode</strong>(dst_encoding, src_encoding[, options])  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>encode</strong>([options])  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The first form returns a copy of <code>str</code> transcoded to encoding <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a>.
The second form returns a copy of <code>str</code> transcoded from src_encoding to
dst_encoding. The last form returns a copy of <code>str</code> transcoded to
<a href="Encoding.html#default_internal-class_method" title="Encoding.default_internal (method)">Encoding.default_internal</a>.</p>

<p>By default, the first and second form raise
<a href="Encoding/UndefinedConversionError.html" title="Encoding::UndefinedConversionError (class)">::Encoding::UndefinedConversionError</a> for characters that are undefined in
the destination encoding, and <a href="Encoding/InvalidByteSequenceError.html" title="Encoding::InvalidByteSequenceError (class)">::Encoding::InvalidByteSequenceError</a> for
invalid byte sequences in the source encoding. The last form by default
does not raise exceptions but uses replacement strings.</p>

<p>The <code>options</code> <a href="Hash.html" title="Hash (class)">::Hash</a> gives details for conversion and can have the
following keys:</p>
<dl class="rdoc-list note-list"><dt>:invalid 
<dd>
<p>If the value is <code>:replace</code>, #encode replaces invalid byte
sequences in <code>str</code> with the replacement character.  The default
is to raise the Encoding::InvalidByteSequenceError exception</p>
</dd><dt>:undef 
<dd>
<p>If the value is <code>:replace</code>, #encode replaces characters which
are undefined in the destination encoding with the replacement character.
The default is to raise the Encoding::UndefinedConversionError.</p>
</dd><dt>:replace 
<dd>
<p>Sets the replacement string to the given value. The default replacement
string is "uFFFD" for Unicode encoding forms, and "?" otherwise.</p>
</dd><dt>:fallback 
<dd>
<p>Sets the replacement string by the given object for undefined character. 
The object should be a Hash, a Proc, a Method, or an object which has []
method. Its key is an undefined character encoded in the source encoding of
current transcoder. Its value can be any encoding until it can be converted
into the destination encoding of the transcoder.</p>
</dd><dt>:xml 
<dd>
<p>The value must be <code>:text</code> or <code>:attr</code>. If the value is
<code>:text</code> #encode replaces undefined characters with their
(upper-case hexadecimal) numeric character references. &#39;&amp;&#39;,
&#39;&lt;&#39;, and &#39;&gt;&#39; are converted to "&amp;amp;",
"&amp;lt;", and "&amp;gt;", respectively. If the value is
<code>:attr</code>, #encode also quotes the replacement result (using
&#39;"&#39;), and replaces &#39;"&#39; with "&amp;quot;".</p>
</dd><dt>:cr_newline 
<dd>
<p>Replaces LF ("n") with CR ("r") if value is true.</p>
</dd><dt>:crlf_newline 
<dd>
<p>Replaces LF ("n") with CRLF ("rn") if value is true.</p>
</dd><dt>:universal_newline 
<dd>
<p>Replaces CRLF ("rn") and CR ("r") with LF ("n") if value is true.</p>
</dd></dl>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/transcode.c#L2875-L2881'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2875
2876
2877
2878
2879
2880
2881</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'transcode.c', line 2875</span></pre>
<pre class='code cpp'>

static VALUE
str_encode(int argc, VALUE *argv, VALUE str)
{
    VALUE newstr = str;
    int encidx = str_transcode(argc, argv, &amp;newstr);
    return encoded_dup(newstr, str, encidx);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="encode!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>encode!</strong>(encoding[, options])  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>encode!</strong>(dst_encoding, src_encoding[, options])  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The first form transcodes the contents of <em>str</em> from str.encoding to
<a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a>. The second form transcodes the contents of <em>str</em> from
src_encoding to dst_encoding. The options <a href="Hash.html" title="Hash (class)">::Hash</a> gives details for
conversion. See <a href="#encode-instance_method" title="String#encode (method)">#encode</a> for details. Returns the string even if no
changes were made.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/transcode.c#L2797-L2815'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2797
2798
2799
2800
2801
2802
2803
2804
2805
2806
2807
2808
2809
2810
2811
2812
2813
2814
2815</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'transcode.c', line 2797</span></pre>
<pre class='code cpp'>

static VALUE
str_encode_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE newstr;
    int encidx;

    rb_check_frozen(str);

    newstr = str;
    encidx = str_transcode(argc, argv, &amp;newstr);

    if (encidx &lt; 0) return str;
    if (newstr == str) {
	rb_enc_associate_index(str, encidx);
	return str;
    }
    rb_str_shared_replace(str, newstr);
    return str_encode_associate(str, encidx);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="encoding-instance_method">
  <h3 class='signature '>
    #<strong>encoding</strong>  &#x21d2; <a href="Encoding.html" title="Encoding (class)">Encoding</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="Regexp.html#encoding-instance_method" title="Regexp#encoding (method)">Regexp#encoding</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="end_with?-instance_method">
  <h3 class='signature '>
    #<strong>end_with?</strong>([suffixes])  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if <code>str</code> ends with one of the <code>suffixes</code> given.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ello</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>               <span class='comment'>#=&gt; true
</span>
<span class='comment'># returns true if one of the suffixes matches.
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>heaven</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ello</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>     <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>heaven</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>paradise</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L9076-L9097'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


9076
9077
9078
9079
9080
9081
9082
9083
9084
9085
9086
9087
9088
9089
9090
9091
9092
9093
9094
9095
9096
9097</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9076</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_end_with(int argc, VALUE *argv, VALUE str)
{
    int i;
    char *p, *s, *e;
    rb_encoding *enc;

    for (i=0; i&lt;argc; i++) {
	VALUE tmp = argv[i];
	StringValue(tmp);
	enc = rb_enc_check(str, tmp);
	if (RSTRING_LEN(str) &lt; RSTRING_LEN(tmp)) continue;
	p = RSTRING_PTR(str);
        e = p + RSTRING_LEN(str);
	s = e - RSTRING_LEN(tmp);
	if (rb_enc_left_char_head(p, s, e, enc) != s)
	    continue;
	if (memcmp(s, RSTRING_PTR(tmp), RSTRING_LEN(tmp)) == 0)
	    return Qtrue;
    }
    return Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="eql?-instance_method">
  <h3 class='signature '>
    #<strong>eql?</strong>(other)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Two strings are equal if they have the same length and content.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L3147-L3153'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3147
3148
3149
3150
3151
3152
3153</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3147</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_eql(VALUE str1, VALUE str2)
{
    if (str1 == str2) return Qtrue;
    if (!RB_TYPE_P(str2, T_STRING)) return Qfalse;
    return str_eql(str1, str2);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="force_encoding-instance_method">
  <h3 class='signature '>
    #<strong>force_encoding</strong>(encoding)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Changes the encoding to <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a> and returns self.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L9128-L9135'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


9128
9129
9130
9131
9132
9133
9134
9135</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9128</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_force_encoding(VALUE str, VALUE enc)
{
    str_modifiable(str);
    rb_enc_associate(str, rb_to_encoding(enc));
    ENC_CODERANGE_CLEAR(str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="freeze-instance_method">
  <h3 class='signature '>
    #<strong>freeze</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L2489-L2495'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2489
2490
2491
2492
2493
2494
2495</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2489</span></pre>
<pre class='code cpp'>

VALUE
rb_str_freeze(VALUE str)
{
    if (OBJ_FROZEN(str)) return str;
    rb_str_resize(str, RSTRING_LEN(str));
    return rb_obj_freeze(str);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getbyte-instance_method">
  <h3 class='signature '>
    #<strong>getbyte</strong>(index)  &#x21d2; <code>0</code> .. <code>255</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>returns the <em>index</em>th byte as an integer.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5176-L5187'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5176
5177
5178
5179
5180
5181
5182
5183
5184
5185
5186
5187</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5176</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_getbyte(VALUE str, VALUE index)
{
    long pos = NUM2LONG(index);

    if (pos &lt; 0)
        pos += RSTRING_LEN(str);
    if (pos &lt; 0 ||  RSTRING_LEN(str) &lt;= pos)
        return Qnil;

    return INT2FIX((unsigned char)RSTRING_PTR(str)[pos]);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gsub-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>gsub</strong>(pattern, replacement)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>gsub</strong>(pattern, hash)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>gsub</strong>(pattern) {|match| ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>gsub</strong>(pattern)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with the <em>all</em> occurrences of
<em>pattern</em> substituted for the second argument. The <em>pattern</em>
is typically a <a href="Regexp.html" title="Regexp (class)">::Regexp</a>; if given as a <code>String</code>, any regular expression
metacharacters it contains will be interpreted literally, e.g.
<code>&#39;\\d&#39;</code> will match a backslash followed by &#39;d&#39;,
instead of a digit.</p>

<p>If <em>replacement</em> is a <code>String</code> it will be substituted for the
matched text. It may contain back-references to the pattern&#39;s capture
groups of the form <code>\\d</code>, where <em>d</em> is a group number, or
<code>\\k&lt;n&gt;</code>, where <em>n</em> is a group name. If it is a
double-quoted string, both back-references must be preceded by an
additional backslash. However, within <em>replacement</em> the special
match variables, such as <code>$&amp;</code>, will not refer to the current
match.</p>

<p>If the second argument is a <a href="Hash.html" title="Hash (class)">::Hash</a>, and the matched text is one of its
keys, the corresponding value is the replacement string.</p>

<p>In the block form, the current match string is passed in as a parameter,
and variables such as <code>$1</code>, <code>$2</code>, <code>$`</code>,
<code>$&amp;</code>, and <code>$&#39;</code> will be set appropriately. The
value returned by the block will be substituted for the match on each call.</p>

<p>The result inherits any tainting in the original string or any supplied
replacement string.</p>

<p>When neither a block nor a second argument is supplied, an <a href="Enumerator.html" title="Enumerator (class)">::Enumerator</a> is
returned.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>                  <span class='comment'>#=&gt; &quot;h*ll*&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([aeiou])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;\1&gt;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>             <span class='comment'>#=&gt; &quot;h&lt;e&gt;ll&lt;o&gt;&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_ord'>ord</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span>      <span class='comment'>#=&gt; &quot;104 101 108 108 111 &quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;foo&gt;[aeiou])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>{\k&lt;foo&gt;}</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;h{e}ll{o}&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[eo]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>e</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;h3ll*&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5101-L5105'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5101
5102
5103
5104
5105</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5101</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_gsub(int argc, VALUE *argv, VALUE str)
{
    return str_gsub(argc, argv, str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gsub!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>gsub!</strong>(pattern, replacement)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>gsub!</strong>(pattern, hash)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>gsub!</strong>(pattern) {|match| ... } &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>gsub!</strong>(pattern)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Performs the substitutions of <a href="#gsub-instance_method" title="String#gsub (method)">#gsub</a> in place, returning
<em>str</em>, or <code>nil</code> if no substitutions were performed. If no block and
no <em>replacement</em> is given, an enumerator is returned instead.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5050-L5055'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5050
5051
5052
5053
5054
5055</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5050</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_gsub_bang(int argc, VALUE *argv, VALUE str)
{
    str_modify_keep_cr(str);
    return str_gsub(argc, argv, str, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="hash-instance_method">
  <h3 class='signature '>
    #<strong>hash</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return a hash based on the string&#39;s length, content and encoding.</p>

<p>See also <a href="Object.html#hash-instance_method" title="Object#hash (method)">Object#hash</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L3038-L3043'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3038
3039
3040
3041
3042
3043</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3038</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_hash_m(VALUE str)
{
    st_index_t hval = rb_str_hash(str);
    return ST2FIX(hval);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="hex-instance_method">
  <h3 class='signature '>
    #<strong>hex</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Treats leading characters from <em>str</em> as a string of hexadecimal
digits (with an optional sign and an optional <code>0x</code>) and returns
the corresponding number. Zero is returned on error.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0x0a</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_hex'>hex</span>     <span class='comment'>#=&gt; 10
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-1234</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_hex'>hex</span>    <span class='comment'>#=&gt; -4660
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_hex'>hex</span>        <span class='comment'>#=&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wombat</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_hex'>hex</span>   <span class='comment'>#=&gt; 0</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8601-L8605'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8601
8602
8603
8604
8605</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8601</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_hex(VALUE str)
{
    return rb_str_to_inum(str, 16, FALSE);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="include?-instance_method">
  <h3 class='signature '>
    #<strong>include?</strong>(other_str)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <em>str</em> contains the given string or character.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ol</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='CHAR'>?h</span>     <span class='comment'>#=&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5470-L5480'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5470
5471
5472
5473
5474
5475
5476
5477
5478
5479
5480</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5470</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_include(VALUE str, VALUE arg)
{
    long i;

    StringValue(arg);
    i = rb_str_index(str, arg, 0);

    if (i == -1) return Qfalse;
    return Qtrue;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="index-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>index</strong>(substring[, offset])  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>index</strong>(regexp[, offset])  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the index of the first occurrence of the given <em>substring</em>
or pattern (<em>regexp</em>) in <em>str</em>. Returns <code>nil</code> if not found.
If the second parameter is present, it specifies the position in the string
to begin the search.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>e</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>             <span class='comment'>#=&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>            <span class='comment'>#=&gt; 3
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>             <span class='comment'>#=&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='CHAR'>?e</span><span class='rparen'>)</span>              <span class='comment'>#=&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>3</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; 4</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L3370-L3425'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3370
3371
3372
3373
3374
3375
3376
3377
3378
3379
3380
3381
3382
3383
3384
3385
3386
3387
3388
3389
3390
3391
3392
3393
3394
3395
3396
3397
3398
3399
3400
3401
3402
3403
3404
3405
3406
3407
3408
3409
3410
3411
3412
3413
3414
3415
3416
3417
3418
3419
3420
3421
3422
3423
3424
3425</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3370</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_index_m(int argc, VALUE *argv, VALUE str)
{
    VALUE sub;
    VALUE initpos;
    long pos;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;sub, &amp;initpos) == 2) {
	pos = NUM2LONG(initpos);
    }
    else {
	pos = 0;
    }
    if (pos &lt; 0) {
	pos += str_strlen(str, NULL);
	if (pos &lt; 0) {
	    if (RB_TYPE_P(sub, T_REGEXP)) {
		rb_backref_set(Qnil);
	    }
	    return Qnil;
	}
    }

    if (SPECIAL_CONST_P(sub)) goto generic;
    switch (BUILTIN_TYPE(sub)) {
      case T_REGEXP:
	if (pos &gt; str_strlen(str, NULL))
	    return Qnil;
	pos = str_offset(RSTRING_PTR(str), RSTRING_END(str), pos,
			 rb_enc_check(str, sub), single_byte_optimizable(str));

	pos = rb_reg_search(sub, str, pos, 0);
	pos = rb_str_sublen(str, pos);
	break;

      generic:
      default: {
	VALUE tmp;

	tmp = rb_check_string_type(sub);
	if (NIL_P(tmp)) {
	    rb_raise(rb_eTypeError, &quot;type mismatch: %s given&quot;,
		     rb_obj_classname(sub));
	}
	sub = tmp;
      }
	/* fall through */
      case T_STRING:
	pos = rb_str_index(str, sub, pos);
	pos = rb_str_sublen(str, pos);
	break;
    }

    if (pos == -1) return Qnil;
    return LONG2NUM(pos);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="initialize_copy-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>replace</strong>(other_str)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>initialize_copy</strong>(other_str)  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#replace-instance_method" title="String#replace (method)">#replace</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
</section>

<section class='method_details' id="insert-instance_method">
  <h3 class='signature '>
    #<strong>insert</strong>(index, other_str)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Inserts <em>other_str</em> before the character at the given
<em>index</em>, modifying <em>str</em>. Negative indices count from the end
of the string, and insert <em>after</em> the given character. The intent is
insert <em>aString</em> so that it starts at the given <em>index</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcd</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;Xabcd&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcd</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;abcXd&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcd</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='int'>4</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;abcdX&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcd</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;abXcd&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcd</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;abcdX&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L4603-L4616'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4603
4604
4605
4606
4607
4608
4609
4610
4611
4612
4613
4614
4615
4616</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4603</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_insert(VALUE str, VALUE idx, VALUE str2)
{
    long pos = NUM2LONG(idx);

    if (pos == -1) {
	return rb_str_append(str, str2);
    }
    else if (pos &lt; 0) {
	pos++;
    }
    rb_str_splice(str, pos, 0, str2);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a printable version of <em>str</em>, surrounded by quote marks,
with special characters escaped.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_str'>str</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\b</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>       <span class='comment'>#=&gt; &quot;\&quot;hel\\bo\&quot;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5686-L5779'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5686
5687
5688
5689
5690
5691
5692
5693
5694
5695
5696
5697
5698
5699
5700
5701
5702
5703
5704
5705
5706
5707
5708
5709
5710
5711
5712
5713
5714
5715
5716
5717
5718
5719
5720
5721
5722
5723
5724
5725
5726
5727
5728
5729
5730
5731
5732
5733
5734
5735
5736
5737
5738
5739
5740
5741
5742
5743
5744
5745
5746
5747
5748
5749
5750
5751
5752
5753
5754
5755
5756
5757
5758
5759
5760
5761
5762
5763
5764
5765
5766
5767
5768
5769
5770
5771
5772
5773
5774
5775
5776
5777
5778
5779</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5686</span></pre>
<pre class='code cpp'>

VALUE
rb_str_inspect(VALUE str)
{
    int encidx = ENCODING_GET(str);
    rb_encoding *enc = rb_enc_from_index(encidx), *actenc;
    const char *p, *pend, *prev;
    char buf[CHAR_ESC_LEN + 1];
    VALUE result = rb_str_buf_new(0);
    rb_encoding *resenc = rb_default_internal_encoding();
    int unicode_p = rb_enc_unicode_p(enc);
    int asciicompat = rb_enc_asciicompat(enc);

    if (resenc == NULL) resenc = rb_default_external_encoding();
    if (!rb_enc_asciicompat(resenc)) resenc = rb_usascii_encoding();
    rb_enc_associate(result, resenc);
    str_buf_cat2(result, &quot;\&quot;&quot;);

    p = RSTRING_PTR(str); pend = RSTRING_END(str);
    prev = p;
    actenc = get_actual_encoding(encidx, str);
    if (actenc != enc) {
	enc = actenc;
	if (unicode_p) unicode_p = rb_enc_unicode_p(enc);
    }
    while (p &lt; pend) {
	unsigned int c, cc;
	int n;

        n = rb_enc_precise_mbclen(p, pend, enc);
        if (!MBCLEN_CHARFOUND_P(n)) {
	    if (p &gt; prev) str_buf_cat(result, prev, p - prev);
            n = rb_enc_mbminlen(enc);
            if (pend &lt; p + n)
                n = (int)(pend - p);
            while (n--) {
                snprintf(buf, CHAR_ESC_LEN, &quot;\\x%02X&quot;, *p &amp; 0377);
                str_buf_cat(result, buf, strlen(buf));
                prev = ++p;
            }
	    continue;
	}
        n = MBCLEN_CHARFOUND_LEN(n);
	c = rb_enc_mbc_to_codepoint(p, pend, enc);
	p += n;
	if ((asciicompat || unicode_p) &amp;&amp;
	  (c == &#39;&quot;&#39;|| c == &#39;\\&#39; ||
	    (c == &#39;#&#39; &amp;&amp;
             p &lt; pend &amp;&amp;
             MBCLEN_CHARFOUND_P(rb_enc_precise_mbclen(p,pend,enc)) &amp;&amp;
             (cc = rb_enc_codepoint(p,pend,enc),
              (cc == &#39;$&#39; || cc == &#39;@&#39; || cc == &#39;{&#39;))))) {
	    if (p - n &gt; prev) str_buf_cat(result, prev, p - n - prev);
	    str_buf_cat2(result, &quot;\\&quot;);
	    if (asciicompat || enc == resenc) {
		prev = p - n;
		continue;
	    }
	}
	switch (c) {
	  case &#39;\n&#39;: cc = &#39;n&#39;; break;
	  case &#39;\r&#39;: cc = &#39;r&#39;; break;
	  case &#39;\t&#39;: cc = &#39;t&#39;; break;
	  case &#39;\f&#39;: cc = &#39;f&#39;; break;
	  case &#39;\013&#39;: cc = &#39;v&#39;; break;
	  case &#39;\010&#39;: cc = &#39;b&#39;; break;
	  case &#39;\007&#39;: cc = &#39;a&#39;; break;
	  case 033: cc = &#39;e&#39;; break;
	  default: cc = 0; break;
	}
	if (cc) {
	    if (p - n &gt; prev) str_buf_cat(result, prev, p - n - prev);
	    buf[0] = &#39;\\&#39;;
	    buf[1] = (char)cc;
	    str_buf_cat(result, buf, 2);
	    prev = p;
	    continue;
	}
	if ((enc == resenc &amp;&amp; rb_enc_isprint(c, enc)) ||
	    (asciicompat &amp;&amp; rb_enc_isascii(c, enc) &amp;&amp; ISPRINT(c))) {
	    continue;
	}
	else {
	    if (p - n &gt; prev) str_buf_cat(result, prev, p - n - prev);
	    rb_str_buf_cat_escaped_char(result, c, unicode_p);
	    prev = p;
	    continue;
	}
    }
    if (p &gt; prev) str_buf_cat(result, prev, p - prev);
    str_buf_cat2(result, &quot;\&quot;&quot;);

    OBJ_INFECT_RAW(result, str);
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="intern-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>intern</strong>  &#x21d2; <a href="Symbol.html" title="Symbol (class)">Symbol</a> </span>
      <span class='overload'>#<strong>to_sym</strong>  &#x21d2; <a href="Symbol.html" title="Symbol (class)">Symbol</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#to_sym</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <a href="Symbol.html" title="Symbol (class)">::Symbol</a> corresponding to <em>str</em>, creating the symbol if
it did not previously exist. See <a href="Symbol.html#id2name-instance_method" title="Symbol#id2name (method)">Symbol#id2name</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Koala</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_intern'>intern</span>         <span class='comment'>#=&gt; :Koala
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>       <span class='comment'>#=&gt; :cat
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_cat'>cat</span>              <span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>@cat</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>      <span class='comment'>#=&gt; :@cat
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='ivar'>@cat</span>             <span class='comment'>#=&gt; true</span></code></pre>

<p>This can also be used to create symbols that cannot be represented using
the <code>:xxx</code> notation.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat and dog</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>   <span class='comment'>#=&gt; :&quot;cat and dog&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/symbol.c#L660-L695'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'symbol.c', line 660</span></pre>
<pre class='code cpp'>

VALUE
rb_str_intern(VALUE str)
{
#if USE_SYMBOL_GC
    rb_encoding *enc, *ascii;
    int type;
#else
    ID id;
#endif
    VALUE sym = lookup_str_sym(str);

    if (sym) {
	return sym;
    }

#if USE_SYMBOL_GC
    enc = rb_enc_get(str);
    ascii = rb_usascii_encoding();
    if (enc != ascii &amp;&amp; sym_check_asciionly(str)) {
	str = rb_str_dup(str);
	rb_enc_associate(str, ascii);
	OBJ_FREEZE(str);
	enc = ascii;
    }
    else {
	str = rb_str_new_frozen(str);
    }
    str = rb_fstring(str);
    type = rb_str_symname_type(str, IDSET_ATTRSET_FOR_INTERN);
    if (type &lt; 0) type = ID_JUNK;
    return dsymbol_alloc(rb_cSymbol, str, enc, type);
#else
    id = intern_str(str, 0);
    return ID2SYM(id);
#endif
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="length-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>length</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'>#<strong>size</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#size</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the character length of <em>str</em>.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L1748-L1752'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1748
1749
1750
1751
1752</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 1748</span></pre>
<pre class='code cpp'>

VALUE
rb_str_length(VALUE str)
{
    return LONG2NUM(str_strlen(str, NULL));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lines-instance_method">
  <h3 class='signature '>
    #<strong>lines</strong>(separator = $/)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of lines in <em>str</em> split using the supplied record
separator (<code>$/</code> by default).  This is a shorthand for
<code>str.each_line(separator).to_a</code>.</p>

<p>If a block is given, which is a deprecated form, works the same as
<a href="#each_line-instance_method" title="String#each_line (method)">#each_line</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L7705-L7709'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


7705
7706
7707
7708
7709</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7705</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_lines(int argc, VALUE *argv, VALUE str)
{
    return rb_str_enumerate_lines(argc, argv, str, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ljust-instance_method">
  <h3 class='signature '>
    #<strong>ljust</strong>(integer, padstr = &#39; &#39;)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If <em>integer</em> is greater than the length of <em>str</em>, returns a
new <code>String</code> of length <em>integer</em> with <em>str</em> left justified
and padded with <em>padstr</em>; otherwise, returns <em>str</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_ljust'>ljust</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span>            <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_ljust'>ljust</span><span class='lparen'>(</span><span class='int'>20</span><span class='rparen'>)</span>           <span class='comment'>#=&gt; &quot;hello               &quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_ljust'>ljust</span><span class='lparen'>(</span><span class='int'>20</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1234</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;hello123412341234123&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8896-L8900'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8896
8897
8898
8899
8900</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8896</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_ljust(int argc, VALUE *argv, VALUE str)
{
    return rb_str_justify(argc, argv, str, &#39;l&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lstrip-instance_method">
  <h3 class='signature '>
    #<strong>lstrip</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with leading whitespace removed. See also
<a href="#rstrip-instance_method" title="String#rstrip (method)">#rstrip</a> and <a href="#strip-instance_method" title="String#strip (method)">#strip</a>.</p>

<p>Refer to <a href="#strip-instance_method" title="String#strip (method)">#strip</a> for the definition of whitespace.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  hello  </span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_lstrip'>lstrip</span>   <span class='comment'>#=&gt; &quot;hello  &quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_lstrip'>lstrip</span>       <span class='comment'>#=&gt; &quot;hello&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8312-L8321'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8312
8313
8314
8315
8316
8317
8318
8319
8320
8321</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8312</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_lstrip(VALUE str)
{
    char *start;
    long len, loffset;
    RSTRING_GETMEM(str, start, len);
    loffset = lstrip_offset(str, start, start+len, STR_ENC_GET(str));
    if (loffset &lt;= 0) return rb_str_dup(str);
    return rb_str_subseq(str, loffset, len - loffset);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lstrip!-instance_method">
  <h3 class='signature '>
    #<strong>lstrip!</strong>  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes leading whitespace from <em>str</em>, returning <code>nil</code> if no change
was made. See also <a href="#rstrip!-instance_method" title="String#rstrip! (method)">#rstrip!</a> and <a href="#strip!-instance_method" title="String#strip! (method)">#strip!</a>.</p>

<p>Refer to <a href="#strip-instance_method" title="String#strip (method)">#strip</a> for the definition of whitespace.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  hello  </span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_lstrip!'>lstrip!</span>  <span class='comment'>#=&gt; &quot;hello  &quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello  </span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_lstrip!'>lstrip!</span>    <span class='comment'>#=&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_lstrip!'>lstrip!</span>      <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8274-L8296'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8274
8275
8276
8277
8278
8279
8280
8281
8282
8283
8284
8285
8286
8287
8288
8289
8290
8291
8292
8293
8294
8295
8296</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8274</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_lstrip_bang(VALUE str)
{
    rb_encoding *enc;
    char *start, *s;
    long olen, loffset;

    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    loffset = lstrip_offset(str, start, start+olen, enc);
    if (loffset &gt; 0) {
	long len = olen-loffset;
	s = start + loffset;
	memmove(start, s, len);
	STR_SET_LEN(str, len);
#if !SHARABLE_MIDDLE_SUBSTRING
	TERM_FILL(start+len, rb_enc_mbminlen(enc));
#endif
	return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="match-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>match</strong>(pattern)  &#x21d2; <a href="MatchData.html" title="MatchData (class)">MatchData</a><sup>?</sup> </span>
      <span class='overload'>#<strong>match</strong>(pattern, pos)  &#x21d2; <a href="MatchData.html" title="MatchData (class)">MatchData</a><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Converts <em>pattern</em> to a <a href="Regexp.html" title="Regexp (class)">::Regexp</a> (if it isn&#39;t already one), then
invokes its <code>match</code> method on <em>str</em>.  If the second
parameter is present, it specifies the position in the string to begin the
search.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(.)\1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>      <span class='comment'>#=&gt; #&lt;MatchData &quot;ll&quot; 1:&quot;l&quot;&gt;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(.)\1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>   <span class='comment'>#=&gt; &quot;ll&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.)\1</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>   <span class='comment'>#=&gt; &quot;ll&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xx</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>         <span class='comment'>#=&gt; nil</span></code></pre>

<p>If a block is given, invoke the block with <a href="MatchData.html" title="MatchData (class)">::MatchData</a> if match succeed, so
that you can write</p>

<pre class="code ruby"><code class="ruby">str.match(pat) {|m| ...}</code></pre>

<p>instead of</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>if</span> <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_pat'>pat</span><span class='rparen'>)</span>
  <span class='comment'>#...
</span><span class='kw'>end</span></code></pre>

<p>The return value is a value from block execution in this case.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L3660-L3673'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3660
3661
3662
3663
3664
3665
3666
3667
3668
3669
3670
3671
3672
3673</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3660</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_match_m(int argc, VALUE *argv, VALUE str)
{
    VALUE re, result;
    if (argc &lt; 1)
	rb_check_arity(argc, 1, 2);
    re = argv[0];
    argv[0] = str;
    result = rb_funcallv(get_pat(re), rb_intern(&quot;match&quot;), argc, argv);
    if (!NIL_P(result) &amp;&amp; rb_block_given_p()) {
	return rb_yield(result);
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="match?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>match?</strong>(pattern)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>match?</strong>(pattern, pos)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Converts <em>pattern</em> to a <a href="Regexp.html" title="Regexp (class)">::Regexp</a> (if it isn&#39;t already one), then
returns a <code>true</code> or <code>false</code> indicates whether the regexp is matched
<em>str</em> or not without updating <code>$~</code> and other related
variables.  If the second parameter is present, it specifies the position
in the string to begin the search.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ruby</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>R...</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ruby</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>R...</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ruby</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>P...</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; false
</span><span class='backref'>$&amp;</span>                       <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L3692-L3699'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3692
3693
3694
3695
3696
3697
3698
3699</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3692</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_match_m_p(int argc, VALUE *argv, VALUE str)
{
    VALUE re;
    rb_check_arity(argc, 1, 2);
    re = get_pat(argv[0]);
    return rb_reg_match_p(re, str, argc &gt; 1 ? NUM2LONG(argv[1]) : 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="next-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>succ</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>next</strong>  &#x21d2; <code>String</code> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#succ</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the successor to <em>str</em>. The successor is calculated by
incrementing characters starting from the rightmost alphanumeric (or the
rightmost character if there are no alphanumerics) in the string.
Incrementing a digit always results in another digit, and incrementing a
letter results in another letter of the same case. Incrementing
nonalphanumerics uses the underlying character set&#39;s collating
sequence.</p>

<p>If the increment generates a "carry,&#39;&#39; the character to the left of
it is incremented. This process repeats until there is no carry, adding an
additional character if necessary.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcd</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_succ'>succ</span>        <span class='comment'>#=&gt; &quot;abce&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>THX1138</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_succ'>succ</span>     <span class='comment'>#=&gt; &quot;THX1139&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;&lt;koala&gt;&gt;</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_succ'>succ</span>   <span class='comment'>#=&gt; &quot;&lt;&lt;koalb&gt;&gt;&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1999zzz</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_succ'>succ</span>     <span class='comment'>#=&gt; &quot;2000aaa&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ZZZ9999</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_succ'>succ</span>     <span class='comment'>#=&gt; &quot;AAAA0000&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>***</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_succ'>succ</span>         <span class='comment'>#=&gt; &quot;**+&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L3911-L3919'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3911
3912
3913
3914
3915
3916
3917
3918
3919</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3911</span></pre>
<pre class='code cpp'>

VALUE
rb_str_succ(VALUE orig)
{
    VALUE str;
    str = rb_str_new_with_class(orig, RSTRING_PTR(orig), RSTRING_LEN(orig));
    rb_enc_cr_str_copy_for_substr(str, orig);
    OBJ_INFECT(str, orig);
    return str_succ(str);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="next!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>succ!</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>next!</strong>  &#x21d2; <code>String</code> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#succ!</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Equivalent to <a href="#succ-instance_method" title="String#succ (method)">#succ</a>, but modifies the receiver in place.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L4018-L4024'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4018
4019
4020
4021
4022
4023
4024</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4018</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_succ_bang(VALUE str)
{
    rb_str_modify(str);
    str_succ(str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="oct-instance_method">
  <h3 class='signature '>
    #<strong>oct</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Treats leading characters of <em>str</em> as a string of octal digits (with
an optional sign) and returns the corresponding number.  Returns 0 if the
conversion fails.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_oct'>oct</span>       <span class='comment'>#=&gt; 83
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-377</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_oct'>oct</span>      <span class='comment'>#=&gt; -255
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_oct'>oct</span>       <span class='comment'>#=&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0377bad</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_oct'>oct</span>   <span class='comment'>#=&gt; 255</span></code></pre>

<p>If <code>str</code> starts with <code>0</code>, radix indicators are honored. See
<a href="Kernel.html#Integer-class_method" title="Kernel.Integer (method)">Kernel.Integer</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8625-L8629'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8625
8626
8627
8628
8629</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8625</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_oct(VALUE str)
{
    return rb_str_to_inum(str, -8, FALSE);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ord-instance_method">
  <h3 class='signature '>
    #<strong>ord</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the <a href="Integer.html" title="Integer (class)">::Integer</a> ordinal of a one-character string.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_ord'>ord</span>         <span class='comment'>#=&gt; 97</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8709-L8716'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8709
8710
8711
8712
8713
8714
8715
8716</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8709</span></pre>
<pre class='code cpp'>

VALUE
rb_str_ord(VALUE s)
{
    unsigned int c;

    c = rb_enc_codepoint(RSTRING_PTR(s), RSTRING_END(s), STR_ENC_GET(s));
    return UINT2NUM(c);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="partition-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>partition</strong>(sep)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, ... </span>
      <span class='overload'>#<strong>partition</strong>(regexp)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, ... </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Searches <em>sep</em> or pattern (<em>regexp</em>) in the string and
returns the part before it, the match, and the part after it. If it is not
found, returns two empty strings and <em>str</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_partition'>partition</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>l</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>         <span class='comment'>#=&gt; [&quot;he&quot;, &quot;l&quot;, &quot;lo&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_partition'>partition</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>         <span class='comment'>#=&gt; [&quot;hello&quot;, &quot;&quot;, &quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_partition'>partition</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.l</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>        <span class='comment'>#=&gt; [&quot;h&quot;, &quot;el&quot;, &quot;lo&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8957-L8980'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8957
8958
8959
8960
8961
8962
8963
8964
8965
8966
8967
8968
8969
8970
8971
8972
8973
8974
8975
8976
8977
8978
8979
8980</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8957</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_partition(VALUE str, VALUE sep)
{
    long pos;

    sep = get_pat_quoted(sep, 0);
    if (RB_TYPE_P(sep, T_REGEXP)) {
	pos = rb_reg_search(sep, str, 0, 0);
	if (pos &lt; 0) {
	  failed:
	    return rb_ary_new3(3, str, str_new_empty(str), str_new_empty(str));
	}
	sep = rb_str_subpat(str, sep, INT2FIX(0));
	if (pos == 0 &amp;&amp; RSTRING_LEN(sep) == 0) goto failed;
    }
    else {
	pos = rb_str_index(str, sep, 0);
	if (pos &lt; 0) goto failed;
    }
    return rb_ary_new3(3, rb_str_subseq(str, 0, pos),
		          sep,
		          rb_str_subseq(str, pos+RSTRING_LEN(sep),
					     RSTRING_LEN(str)-pos-RSTRING_LEN(sep)));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prepend-instance_method">
  <h3 class='signature '>
    #<strong>prepend</strong>(other_str1, other_str2, ...)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Prepend---Prepend the given strings to <em>str</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_prepend'>prepend</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>world</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;hello world!&quot;
</span><span class='id identifier rubyid_a'>a</span>                            <span class='comment'>#=&gt; &quot;hello world!&quot;</span></code></pre>

<p>See also <a href="#concat-instance_method" title="String#concat (method)">#concat</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L2989-L3005'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2989
2990
2991
2992
2993
2994
2995
2996
2997
2998
2999
3000
3001
3002
3003
3004
3005</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2989</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_prepend_multi(int argc, VALUE *argv, VALUE str)
{
    str_modifiable(str);

    if (argc &gt; 0) {
	int i;
	VALUE arg_str = rb_str_tmp_new(0);
	rb_enc_copy(arg_str, str);
	for (i = 0; i &lt; argc; i++) {
	    rb_str_append(arg_str, argv[i]);
	}
	rb_str_update(str, 0L, 0L, arg_str);
    }

    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="replace-instance_method">
  <h3 class='signature '>
    #<strong>replace</strong>(other_str)  &#x21d2; <code>String</code>     <span class='aliases'>Also known as: <span class='names'>#initialize_copy</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Replaces the contents and taintedness of <em>str</em> with the
corresponding values in <em>other_str</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>         <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_replace'>replace</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>world</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; &quot;world&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5119-L5128'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5119
5120
5121
5122
5123
5124
5125
5126
5127
5128</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5119</span></pre>
<pre class='code cpp'>

VALUE
rb_str_replace(VALUE str, VALUE str2)
{
    str_modifiable(str);
    if (str == str2) return str;

    StringValue(str2);
    str_discard(str);
    return str_replace(str, str2);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reverse-instance_method">
  <h3 class='signature '>
    #<strong>reverse</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new string with the characters from <em>str</em> in reverse
order.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stressed</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_reverse'>reverse</span>   <span class='comment'>#=&gt; &quot;desserts&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5372-L5421'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5372
5373
5374
5375
5376
5377
5378
5379
5380
5381
5382
5383
5384
5385
5386
5387
5388
5389
5390
5391
5392
5393
5394
5395
5396
5397
5398
5399
5400
5401
5402
5403
5404
5405
5406
5407
5408
5409
5410
5411
5412
5413
5414
5415
5416
5417
5418
5419
5420
5421</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5372</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_reverse(VALUE str)
{
    rb_encoding *enc;
    VALUE rev;
    char *s, *e, *p;
    int cr;

    if (RSTRING_LEN(str) &lt;= 1) return rb_str_dup(str);
    enc = STR_ENC_GET(str);
    rev = rb_str_new_with_class(str, 0, RSTRING_LEN(str));
    s = RSTRING_PTR(str); e = RSTRING_END(str);
    p = RSTRING_END(rev);
    cr = ENC_CODERANGE(str);

    if (RSTRING_LEN(str) &gt; 1) {
	if (single_byte_optimizable(str)) {
	    while (s &lt; e) {
		*--p = *s++;
	    }
	}
	else if (cr == ENC_CODERANGE_VALID) {
	    while (s &lt; e) {
		int clen = rb_enc_fast_mbclen(s, e, enc);

		p -= clen;
		memcpy(p, s, clen);
		s += clen;
	    }
	}
	else {
	    cr = rb_enc_asciicompat(enc) ?
		ENC_CODERANGE_7BIT : ENC_CODERANGE_VALID;
	    while (s &lt; e) {
		int clen = rb_enc_mbclen(s, e, enc);

		if (clen &gt; 1 || (*s &amp; 0x80)) cr = ENC_CODERANGE_UNKNOWN;
		p -= clen;
		memcpy(p, s, clen);
		s += clen;
	    }
	}
    }
    STR_SET_LEN(rev, RSTRING_LEN(str));
    OBJ_INFECT_RAW(rev, str);
    str_enc_copy(rev, str);
    ENC_CODERANGE_SET(rev, cr);

    return rev;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reverse!-instance_method">
  <h3 class='signature '>
    #<strong>reverse!</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Reverses <em>str</em> in place.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5431-L5455'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5431
5432
5433
5434
5435
5436
5437
5438
5439
5440
5441
5442
5443
5444
5445
5446
5447
5448
5449
5450
5451
5452
5453
5454
5455</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5431</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_reverse_bang(VALUE str)
{
    if (RSTRING_LEN(str) &gt; 1) {
	if (single_byte_optimizable(str)) {
	    char *s, *e, c;

	    str_modify_keep_cr(str);
	    s = RSTRING_PTR(str);
	    e = RSTRING_END(str) - 1;
	    while (s &lt; e) {
		c = *s;
		*s++ = *e;
		*e-- = c;
	    }
	}
	else {
	    str_shared_replace(str, rb_str_reverse(str));
	}
    }
    else {
	str_modify_keep_cr(str);
    }
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rindex-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>rindex</strong>(substring[, integer])  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>rindex</strong>(regexp[, integer])  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the index of the last occurrence of the given <em>substring</em> or
pattern (<em>regexp</em>) in <em>str</em>. Returns <code>nil</code> if not found. If
the second parameter is present, it specifies the position in the string to
end the search---characters beyond this point will not be considered.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rindex'>rindex</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>e</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>             <span class='comment'>#=&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rindex'>rindex</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>l</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>             <span class='comment'>#=&gt; 3
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rindex'>rindex</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>             <span class='comment'>#=&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rindex'>rindex</span><span class='lparen'>(</span><span class='CHAR'>?e</span><span class='rparen'>)</span>              <span class='comment'>#=&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rindex'>rindex</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; 1</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L3535-L3590'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3535
3536
3537
3538
3539
3540
3541
3542
3543
3544
3545
3546
3547
3548
3549
3550
3551
3552
3553
3554
3555
3556
3557
3558
3559
3560
3561
3562
3563
3564
3565
3566
3567
3568
3569
3570
3571
3572
3573
3574
3575
3576
3577
3578
3579
3580
3581
3582
3583
3584
3585
3586
3587
3588
3589
3590</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3535</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rindex_m(int argc, VALUE *argv, VALUE str)
{
    VALUE sub;
    VALUE vpos;
    rb_encoding *enc = STR_ENC_GET(str);
    long pos, len = str_strlen(str, enc); /* str&#39;s enc */

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;sub, &amp;vpos) == 2) {
	pos = NUM2LONG(vpos);
	if (pos &lt; 0) {
	    pos += len;
	    if (pos &lt; 0) {
		if (RB_TYPE_P(sub, T_REGEXP)) {
		    rb_backref_set(Qnil);
		}
		return Qnil;
	    }
	}
	if (pos &gt; len) pos = len;
    }
    else {
	pos = len;
    }

    if (SPECIAL_CONST_P(sub)) goto generic;
    switch (BUILTIN_TYPE(sub)) {
      case T_REGEXP:
	/* enc = rb_get_check(str, sub); */
	pos = str_offset(RSTRING_PTR(str), RSTRING_END(str), pos,
			 enc, single_byte_optimizable(str));

	pos = rb_reg_search(sub, str, pos, 1);
	pos = rb_str_sublen(str, pos);
	if (pos &gt;= 0) return LONG2NUM(pos);
	break;

      generic:
      default: {
	VALUE tmp;

	tmp = rb_check_string_type(sub);
	if (NIL_P(tmp)) {
	    rb_raise(rb_eTypeError, &quot;type mismatch: %s given&quot;,
		     rb_obj_classname(sub));
	}
	sub = tmp;
      }
	/* fall through */
      case T_STRING:
	pos = rb_str_rindex(str, sub, pos);
	if (pos &gt;= 0) return LONG2NUM(pos);
	break;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rjust-instance_method">
  <h3 class='signature '>
    #<strong>rjust</strong>(integer, padstr = &#39; &#39;)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If <em>integer</em> is greater than the length of <em>str</em>, returns a
new <code>String</code> of length <em>integer</em> with <em>str</em> right justified
and padded with <em>padstr</em>; otherwise, returns <em>str</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rjust'>rjust</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span>            <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rjust'>rjust</span><span class='lparen'>(</span><span class='int'>20</span><span class='rparen'>)</span>           <span class='comment'>#=&gt; &quot;               hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rjust'>rjust</span><span class='lparen'>(</span><span class='int'>20</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1234</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;123412341234123hello&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8916-L8920'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8916
8917
8918
8919
8920</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8916</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rjust(int argc, VALUE *argv, VALUE str)
{
    return rb_str_justify(argc, argv, str, &#39;r&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rpartition-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>rpartition</strong>(sep)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, ... </span>
      <span class='overload'>#<strong>rpartition</strong>(regexp)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, ... </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Searches <em>sep</em> or pattern (<em>regexp</em>) in the string from the
end of the string, and returns the part before it, the match, and the part
after it. If it is not found, returns two empty strings and <em>str</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rpartition'>rpartition</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>l</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>         <span class='comment'>#=&gt; [&quot;hel&quot;, &quot;l&quot;, &quot;o&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rpartition'>rpartition</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>         <span class='comment'>#=&gt; [&quot;&quot;, &quot;&quot;, &quot;hello&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rpartition'>rpartition</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.l</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>        <span class='comment'>#=&gt; [&quot;he&quot;, &quot;ll&quot;, &quot;o&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8997-L9032'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8997
8998
8999
9000
9001
9002
9003
9004
9005
9006
9007
9008
9009
9010
9011
9012
9013
9014
9015
9016
9017
9018
9019
9020
9021
9022
9023
9024
9025
9026
9027
9028
9029
9030
9031
9032</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8997</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rpartition(VALUE str, VALUE sep)
{
    long pos = RSTRING_LEN(str);
    int regex = FALSE;

    if (RB_TYPE_P(sep, T_REGEXP)) {
	pos = rb_reg_search(sep, str, pos, 1);
	regex = TRUE;
    }
    else {
	VALUE tmp;

	tmp = rb_check_string_type(sep);
	if (NIL_P(tmp)) {
	    rb_raise(rb_eTypeError, &quot;type mismatch: %s given&quot;,
		     rb_obj_classname(sep));
	}
	sep = tmp;
	pos = rb_str_sublen(str, pos);
	pos = rb_str_rindex(str, sep, pos);
    }
    if (pos &lt; 0) {
	return rb_ary_new3(3, str_new_empty(str), str_new_empty(str), str);
    }
    if (regex) {
	sep = rb_reg_nth_match(0, rb_backref_get());
    }
    else {
	pos = rb_str_offset(str, pos);
    }
    return rb_ary_new3(3, rb_str_subseq(str, 0, pos),
		          sep,
		          rb_str_subseq(str, pos+RSTRING_LEN(sep),
					RSTRING_LEN(str)-pos-RSTRING_LEN(sep)));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rstrip-instance_method">
  <h3 class='signature '>
    #<strong>rstrip</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with trailing whitespace removed. See also
<a href="#lstrip-instance_method" title="String#lstrip (method)">#lstrip</a> and <a href="#strip-instance_method" title="String#strip (method)">#strip</a>.</p>

<p>Refer to <a href="#strip-instance_method" title="String#strip (method)">#strip</a> for the definition of whitespace.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  hello  </span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rstrip'>rstrip</span>   <span class='comment'>#=&gt; &quot;  hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rstrip'>rstrip</span>       <span class='comment'>#=&gt; &quot;hello&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8401-L8414'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8401
8402
8403
8404
8405
8406
8407
8408
8409
8410
8411
8412
8413
8414</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8401</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rstrip(VALUE str)
{
    rb_encoding *enc;
    char *start;
    long olen, roffset;

    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    roffset = rstrip_offset(str, start, start+olen, enc);

    if (roffset &lt;= 0) return rb_str_dup(str);
    return rb_str_subseq(str, 0, olen-roffset);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rstrip!-instance_method">
  <h3 class='signature '>
    #<strong>rstrip!</strong>  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes trailing whitespace from <em>str</em>, returning <code>nil</code> if no change
was made. See also <a href="#lstrip!-instance_method" title="String#lstrip! (method)">#lstrip!</a> and <a href="#strip!-instance_method" title="String#strip! (method)">#strip!</a>.</p>

<p>Refer to <a href="#strip-instance_method" title="String#strip (method)">#strip</a> for the definition of whitespace.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  hello  </span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rstrip!'>rstrip!</span>  <span class='comment'>#=&gt; &quot;  hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rstrip!'>rstrip!</span>    <span class='comment'>#=&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_rstrip!'>rstrip!</span>      <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8364-L8385'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8364
8365
8366
8367
8368
8369
8370
8371
8372
8373
8374
8375
8376
8377
8378
8379
8380
8381
8382
8383
8384
8385</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8364</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rstrip_bang(VALUE str)
{
    rb_encoding *enc;
    char *start;
    long olen, roffset;

    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    roffset = rstrip_offset(str, start, start+olen, enc);
    if (roffset &gt; 0) {
	long len = olen - roffset;

	STR_SET_LEN(str, len);
#if !SHARABLE_MIDDLE_SUBSTRING
	TERM_FILL(start+len, rb_enc_mbminlen(enc));
#endif
	return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scan-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>scan</strong>(pattern)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>scan</strong>(pattern) {|match, ...| ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Both forms iterate through <em>str</em>, matching the pattern (which may be
a <a href="Regexp.html" title="Regexp (class)">::Regexp</a> or a <code>String</code>). For each match, a result is generated and either
added to the result array or passed to the block. If the pattern contains
no groups, each individual result consists of the matched string,
<code>$&amp;</code>.  If the pattern contains groups, each individual
result is itself an array containing one entry per group.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cruel world</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>        <span class='comment'>#=&gt; [&quot;cruel&quot;, &quot;world&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>...</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>        <span class='comment'>#=&gt; [&quot;cru&quot;, &quot;el &quot;, &quot;wor&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(...)</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'>#=&gt; [[&quot;cru&quot;], [&quot;el &quot;], [&quot;wor&quot;]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(..)(..)</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [[&quot;cr&quot;, &quot;ue&quot;], [&quot;l &quot;, &quot;wo&quot;]]</span></code></pre>

<p>And the block form:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;&lt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_w'>w</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;&gt; </span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.)(.)</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby">&lt;&lt;cruel&gt;&gt; &lt;&lt;world&gt;&gt;
rceu lowlr</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8554-L8584'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8554
8555
8556
8557
8558
8559
8560
8561
8562
8563
8564
8565
8566
8567
8568
8569
8570
8571
8572
8573
8574
8575
8576
8577
8578
8579
8580
8581
8582
8583
8584</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8554</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_scan(VALUE str, VALUE pat)
{
    VALUE result;
    long start = 0;
    long last = -1, prev = 0;
    char *p = RSTRING_PTR(str); long len = RSTRING_LEN(str);

    pat = get_pat_quoted(pat, 1);
    mustnot_broken(str);
    if (!rb_block_given_p()) {
	VALUE ary = rb_ary_new();

	while (!NIL_P(result = scan_once(str, pat, &amp;start))) {
	    last = prev;
	    prev = start;
	    rb_ary_push(ary, result);
	}
	if (last &gt;= 0) rb_pat_search(pat, str, last, 1);
	return ary;
    }

    while (!NIL_P(result = scan_once(str, pat, &amp;start))) {
	last = prev;
	prev = start;
	rb_yield(result);
	str_mod_check(str, p, len);
    }
    if (last &gt;= 0) rb_pat_search(pat, str, last, 1);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scrub-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>scrub</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>scrub</strong>(repl)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>scrub</strong> {|bytes| ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If the string is invalid byte sequence then replace invalid bytes with
given replacement character, else returns self. If block is given, replace
invalid bytes with returned value of the block.</p>

<pre class="code ruby"><code class="ruby">&quot;abc\u3042\x81&quot;.scrub #=&gt; &quot;abc\u3042\uFFFD&quot;
&quot;abc\u3042\x81&quot;.scrub(&quot;*&quot;) #=&gt; &quot;abc\u3042*&quot;
&quot;abc\u3042\xE3\x80&quot;.scrub{|bytes| &#39;&lt;&#39;bytes.unpack(&#39;H*&#39;)[0]&#39;&gt;&#39; } #=&gt; &quot;abc\u3042&lt;e380&gt;&quot;</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L9531-L9537'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


9531
9532
9533
9534
9535
9536
9537</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9531</span></pre>
<pre class='code cpp'>

static VALUE
str_scrub(int argc, VALUE *argv, VALUE str)
{
    VALUE repl = argc ? (rb_check_arity(argc, 0, 1), argv[0]) : Qnil;
    VALUE new = rb_str_scrub(str, repl);
    return NIL_P(new) ? rb_str_dup(str): new;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scrub!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>scrub!</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>scrub!</strong>(repl)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>scrub!</strong> {|bytes| ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If the string is invalid byte sequence then replace invalid bytes with
given replacement character, else returns self. If block is given, replace
invalid bytes with returned value of the block.</p>

<pre class="code ruby"><code class="ruby">&quot;abc\u3042\x81&quot;.scrub! #=&gt; &quot;abc\u3042\uFFFD&quot;
&quot;abc\u3042\x81&quot;.scrub!(&quot;*&quot;) #=&gt; &quot;abc\u3042*&quot;
&quot;abc\u3042\xE3\x80&quot;.scrub!{|bytes| &#39;&lt;&#39;bytes.unpack(&#39;H*&#39;)[0]&#39;&gt;&#39; } #=&gt; &quot;abc\u3042&lt;e380&gt;&quot;</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L9553-L9560'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


9553
9554
9555
9556
9557
9558
9559
9560</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9553</span></pre>
<pre class='code cpp'>

static VALUE
str_scrub_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE repl = argc ? (rb_check_arity(argc, 0, 1), argv[0]) : Qnil;
    VALUE new = rb_str_scrub(str, repl);
    if (!NIL_P(new)) rb_str_replace(str, new);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setbyte-instance_method">
  <h3 class='signature '>
    #<strong>setbyte</strong>(index, integer)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>modifies the <em>index</em>th byte as <em>integer</em>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5195-L5245'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5195
5196
5197
5198
5199
5200
5201
5202
5203
5204
5205
5206
5207
5208
5209
5210
5211
5212
5213
5214
5215
5216
5217
5218
5219
5220
5221
5222
5223
5224
5225
5226
5227
5228
5229
5230
5231
5232
5233
5234
5235
5236
5237
5238
5239
5240
5241
5242
5243
5244
5245</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5195</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_setbyte(VALUE str, VALUE index, VALUE value)
{
    long pos = NUM2LONG(index);
    int byte = NUM2INT(value);
    long len = RSTRING_LEN(str);
    char *head, *ptr, *left = 0;
    rb_encoding *enc;
    int cr = ENC_CODERANGE_UNKNOWN, width, nlen;

    if (pos &lt; -len || len &lt;= pos)
        rb_raise(rb_eIndexError, &quot;index %ld out of string&quot;, pos);
    if (pos &lt; 0)
        pos += len;

    if (!str_independent(str))
	str_make_independent(str);
    enc = STR_ENC_GET(str);
    head = RSTRING_PTR(str);
    ptr = &amp;head[pos];
    if (!STR_EMBEDDABLE_P(len, rb_enc_mbminlen(enc))) {
	cr = ENC_CODERANGE(str);
	switch (cr) {
	  case ENC_CODERANGE_7BIT:
	    left = ptr;
	    *ptr = byte;
	    if (ISASCII(byte)) break;
	    nlen = rb_enc_precise_mbclen(left, head+len, enc);
	    if (!MBCLEN_CHARFOUND_P(nlen))
		ENC_CODERANGE_SET(str, ENC_CODERANGE_BROKEN);
	    else
		ENC_CODERANGE_SET(str, ENC_CODERANGE_VALID);
	    goto end;
	  case ENC_CODERANGE_VALID:
	    left = rb_enc_left_char_head(head, ptr, head+len, enc);
	    width = rb_enc_precise_mbclen(left, head+len, enc);
	    *ptr = byte;
	    nlen = rb_enc_precise_mbclen(left, head+len, enc);
	    if (!MBCLEN_CHARFOUND_P(nlen))
		ENC_CODERANGE_SET(str, ENC_CODERANGE_BROKEN);
	    else if (MBCLEN_CHARFOUND_LEN(nlen) != width || ISASCII(byte))
		ENC_CODERANGE_CLEAR(str);
	    goto end;
	}
    }
    ENC_CODERANGE_CLEAR(str);
    *ptr = byte;

  end:
    return value;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="size-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>length</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'>#<strong>size</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#length-instance_method" title="String#length (method)">#length</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L10063-L10063'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


10063</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10063</span></pre>
<pre class='code cpp'>

rb_define_method(rb_cString, &quot;size&quot;, rb_str_length, 0);
</pre>
  </div>
</div>
</section>

<section class='method_details' id="slice-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]</strong>(index)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(start, length)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(range)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(regexp)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(regexp, capture)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(match_str)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(index)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(start, length)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(range)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(regexp)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(regexp, capture)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(match_str)  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#[]-instance_method" title="String#[] (method)">#[]</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L10171-L10171'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


10171</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10171</span></pre>
<pre class='code cpp'>

rb_define_method(rb_cString, &quot;slice&quot;, rb_str_aref_m, -1);
</pre>
  </div>
</div>
</section>

<section class='method_details' id="slice!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>slice!</strong>(integer)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice!</strong>(integer, integer)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice!</strong>(range)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice!</strong>(regexp)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice!</strong>(other_str)  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Deletes the specified portion from <em>str</em>, and returns the portion
deleted.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>this is a string</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_slice!'>slice!</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>        <span class='comment'>#=&gt; &quot;i&quot;
</span><span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_slice!'>slice!</span><span class='lparen'>(</span><span class='int'>3</span><span class='op'>..</span><span class='int'>6</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; &quot; is &quot;
</span><span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_slice!'>slice!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>s.*t</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;sa st&quot;
</span><span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_slice!'>slice!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>      <span class='comment'>#=&gt; &quot;r&quot;
</span><span class='id identifier rubyid_string'>string</span>                  <span class='comment'>#=&gt; &quot;thing&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L4638-L4656'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4638
4639
4640
4641
4642
4643
4644
4645
4646
4647
4648
4649
4650
4651
4652
4653
4654
4655
4656</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4638</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_slice_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE result;
    VALUE buf[3];
    int i;

    rb_check_arity(argc, 1, 2);
    for (i=0; i&lt;argc; i++) {
	buf[i] = argv[i];
    }
    str_modify_keep_cr(str);
    result = rb_str_aref_m(argc, buf, str);
    if (!NIL_P(result)) {
	buf[i] = rb_str_new(0,0);
	rb_str_aset_m(argc+1, buf, str);
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="split-instance_method">
  <h3 class='signature '>
    #<strong>split</strong>(pattern = nil, [limit])  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Divides <em>str</em> into substrings based on a delimiter, returning an
array of these substrings.</p>

<p>If <em>pattern</em> is a <code>String</code>, then its contents are used as the
delimiter when splitting <em>str</em>. If <em>pattern</em> is a single
space, <em>str</em> is split on whitespace, with leading whitespace and
runs of contiguous whitespace characters ignored.</p>

<p>If <em>pattern</em> is a <a href="Regexp.html" title="Regexp (class)">::Regexp</a>, <em>str</em> is divided where the
pattern matches. Whenever the pattern matches a zero-length string,
<em>str</em> is split into individual characters. If <em>pattern</em>
contains groups, the respective matches will be returned in the array as
well.</p>

<p>If <em>pattern</em> is <code>nil</code>, the value of <code>$;</code> is used. If
<code>$;</code> is <code>nil</code> (which is the default), <em>str</em> is split on
whitespace as if &#39; &#39; were specified.</p>

<p>If the <em>limit</em> parameter is omitted, trailing null fields are
suppressed. If <em>limit</em> is a positive number, at most that number of
fields will be returned (if <em>limit</em> is <code>1</code>, the entire
string is returned as the only entry in an array). If negative, there is no
limit to the number of fields returned, and trailing null fields are not
suppressed.</p>

<p>When the input <code>str</code> is empty an empty <a href="Array.html" title="Array (class)">::Array</a> is returned as the string is
considered to have no fields to split.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> now&#39;s  the time</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span>        <span class='comment'>#=&gt; [&quot;now&#39;s&quot;, &quot;the&quot;, &quot;time&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> now&#39;s  the time</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [&quot;now&#39;s&quot;, &quot;the&quot;, &quot;time&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> now&#39;s  the time</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'> </span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [&quot;&quot;, &quot;now&#39;s&quot;, &quot;&quot;, &quot;the&quot;, &quot;time&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1, 2.34,56, 7</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>,\s*</span><span class='regexp_end'>}</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; [&quot;1&quot;, &quot;2.34&quot;, &quot;56&quot;, &quot;7&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>               <span class='comment'>#=&gt; [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>3</span><span class='rparen'>)</span>            <span class='comment'>#=&gt; [&quot;h&quot;, &quot;e&quot;, &quot;llo&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hi mom</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>\s*</span><span class='regexp_end'>}</span></span><span class='rparen'>)</span>         <span class='comment'>#=&gt; [&quot;h&quot;, &quot;i&quot;, &quot;m&quot;, &quot;o&quot;, &quot;m&quot;]
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mellow yellow</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ello</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [&quot;m&quot;, &quot;w y&quot;, &quot;w&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1,2,,3,4,,</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>         <span class='comment'>#=&gt; [&quot;1&quot;, &quot;2&quot;, &quot;&quot;, &quot;3&quot;, &quot;4&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1,2,,3,4,,</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>4</span><span class='rparen'>)</span>      <span class='comment'>#=&gt; [&quot;1&quot;, &quot;2&quot;, &quot;&quot;, &quot;3,4,,&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1,2,,3,4,,</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>4</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; [&quot;1&quot;, &quot;2&quot;, &quot;&quot;, &quot;3&quot;, &quot;4&quot;, &quot;&quot;, &quot;&quot;]
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>               <span class='comment'>#=&gt; []</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L7259-L7466'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


7259
7260
7261
7262
7263
7264
7265
7266
7267
7268
7269
7270
7271
7272
7273
7274
7275
7276
7277
7278
7279
7280
7281
7282
7283
7284
7285
7286
7287
7288
7289
7290
7291
7292
7293
7294
7295
7296
7297
7298
7299
7300
7301
7302
7303
7304
7305
7306
7307
7308
7309
7310
7311
7312
7313
7314
7315
7316
7317
7318
7319
7320
7321
7322
7323
7324
7325
7326
7327
7328
7329
7330
7331
7332
7333
7334
7335
7336
7337
7338
7339
7340
7341
7342
7343
7344
7345
7346
7347
7348
7349
7350
7351
7352
7353
7354
7355
7356
7357
7358
7359
7360
7361
7362
7363
7364
7365
7366
7367
7368
7369
7370
7371
7372
7373
7374
7375
7376
7377
7378
7379
7380
7381
7382
7383
7384
7385
7386
7387
7388
7389
7390
7391
7392
7393
7394
7395
7396
7397
7398
7399
7400
7401
7402
7403
7404
7405
7406
7407
7408
7409
7410
7411
7412
7413
7414
7415
7416
7417
7418
7419
7420
7421
7422
7423
7424
7425
7426
7427
7428
7429
7430
7431
7432
7433
7434
7435
7436
7437
7438
7439
7440
7441
7442
7443
7444
7445
7446
7447
7448
7449
7450
7451
7452
7453
7454
7455
7456
7457
7458
7459
7460
7461
7462
7463
7464
7465
7466</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7259</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_split_m(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    VALUE spat;
    VALUE limit;
    enum {awk, string, regexp} split_type;
    long beg, end, i = 0;
    int lim = 0;
    VALUE result, tmp;

    if (rb_scan_args(argc, argv, &quot;02&quot;, &amp;spat, &amp;limit) == 2) {
	lim = NUM2INT(limit);
	if (lim &lt;= 0) limit = Qnil;
	else if (lim == 1) {
	    if (RSTRING_LEN(str) == 0)
		return rb_ary_new2(0);
	    return rb_ary_new3(1, str);
	}
	i = 1;
    }

    enc = STR_ENC_GET(str);
    split_type = regexp;
    if (!NIL_P(spat)) {
	spat = get_pat_quoted(spat, 0);
    }
    else if (NIL_P(spat = rb_fs)) {
	split_type = awk;
    }
    else if (!(spat = rb_fs_check(spat))) {
	rb_raise(rb_eTypeError, &quot;value of $; must be String or Regexp&quot;);
    }
    if (split_type != awk) {
	if (BUILTIN_TYPE(spat) == T_STRING) {
	    rb_encoding *enc2 = STR_ENC_GET(spat);

	    mustnot_broken(spat);
	    split_type = string;
	    if (RSTRING_LEN(spat) == 0) {
		/* Special case - split into chars */
		spat = rb_reg_regcomp(spat);
		split_type = regexp;
	    }
	    else if (rb_enc_asciicompat(enc2) == 1) {
		if (RSTRING_LEN(spat) == 1 &amp;&amp; RSTRING_PTR(spat)[0] == &#39; &#39;) {
		    split_type = awk;
		}
	    }
	    else {
		int l;
		if (rb_enc_ascget(RSTRING_PTR(spat), RSTRING_END(spat), &amp;l, enc2) == &#39; &#39; &amp;&amp;
		    RSTRING_LEN(spat) == l) {
		    split_type = awk;
		}
	    }
	}
    }

    result = rb_ary_new();
    beg = 0;
    if (split_type == awk) {
	char *ptr = RSTRING_PTR(str);
	char *eptr = RSTRING_END(str);
	char *bptr = ptr;
	int skip = 1;
	unsigned int c;

	end = beg;
	if (is_ascii_string(str)) {
	    while (ptr &lt; eptr) {
		c = (unsigned char)*ptr++;
		if (skip) {
		    if (ascii_isspace(c)) {
			beg = ptr - bptr;
		    }
		    else {
			end = ptr - bptr;
			skip = 0;
			if (!NIL_P(limit) &amp;&amp; lim &lt;= i) break;
		    }
		}
		else if (ascii_isspace(c)) {
		    rb_ary_push(result, rb_str_subseq(str, beg, end-beg));
		    skip = 1;
		    beg = ptr - bptr;
		    if (!NIL_P(limit)) ++i;
		}
		else {
		    end = ptr - bptr;
		}
	    }
	}
	else {
	    while (ptr &lt; eptr) {
		int n;

		c = rb_enc_codepoint_len(ptr, eptr, &amp;n, enc);
		ptr += n;
		if (skip) {
		    if (rb_isspace(c)) {
			beg = ptr - bptr;
		    }
		    else {
			end = ptr - bptr;
			skip = 0;
			if (!NIL_P(limit) &amp;&amp; lim &lt;= i) break;
		    }
		}
		else if (rb_isspace(c)) {
		    rb_ary_push(result, rb_str_subseq(str, beg, end-beg));
		    skip = 1;
		    beg = ptr - bptr;
		    if (!NIL_P(limit)) ++i;
		}
		else {
		    end = ptr - bptr;
		}
	    }
	}
    }
    else if (split_type == string) {
	char *ptr = RSTRING_PTR(str);
	char *temp = ptr;
	char *eptr = RSTRING_END(str);
	char *sptr = RSTRING_PTR(spat);
	long slen = RSTRING_LEN(spat);

	mustnot_broken(str);
	enc = rb_enc_check(str, spat);
	while (ptr &lt; eptr &amp;&amp;
	       (end = rb_memsearch(sptr, slen, ptr, eptr - ptr, enc)) &gt;= 0) {
	    /* Check we are at the start of a char */
	    char *t = rb_enc_right_char_head(ptr, ptr + end, eptr, enc);
	    if (t != ptr + end) {
		ptr = t;
		continue;
	    }
	    rb_ary_push(result, rb_str_subseq(str, ptr - temp, end));
	    ptr += end + slen;
	    if (!NIL_P(limit) &amp;&amp; lim &lt;= ++i) break;
	}
	beg = ptr - temp;
    }
    else {
	char *ptr = RSTRING_PTR(str);
	long len = RSTRING_LEN(str);
	long start = beg;
	long idx;
	int last_null = 0;
	struct re_registers *regs;

	while ((end = rb_reg_search(spat, str, start, 0)) &gt;= 0) {
	    regs = RMATCH_REGS(rb_backref_get());
	    if (start == end &amp;&amp; BEG(0) == END(0)) {
		if (!ptr) {
		    rb_ary_push(result, str_new_empty(str));
		    break;
		}
		else if (last_null == 1) {
		    rb_ary_push(result, rb_str_subseq(str, beg,
						      rb_enc_fast_mbclen(ptr+beg,
									 ptr+len,
									 enc)));
		    beg = start;
		}
		else {
                    if (start == len)
                        start++;
                    else
                        start += rb_enc_fast_mbclen(ptrstart,ptrlen,enc);
		    last_null = 1;
		    continue;
		}
	    }
	    else {
		rb_ary_push(result, rb_str_subseq(str, beg, end-beg));
		beg = start = END(0);
	    }
	    last_null = 0;

	    for (idx=1; idx &lt; regs-&gt;num_regs; idx++) {
		if (BEG(idx) == -1) continue;
		if (BEG(idx) == END(idx))
		    tmp = str_new_empty(str);
		else
		    tmp = rb_str_subseq(str, BEG(idx), END(idx)-BEG(idx));
		rb_ary_push(result, tmp);
	    }
	    if (!NIL_P(limit) &amp;&amp; lim &lt;= ++i) break;
	}
    }
    if (RSTRING_LEN(str) &gt; 0 &amp;&amp; (!NIL_P(limit) || RSTRING_LEN(str) &gt; beg || lim &lt; 0)) {
	if (RSTRING_LEN(str) == beg)
	    tmp = str_new_empty(str);
	else
	    tmp = rb_str_subseq(str, beg, RSTRING_LEN(str)-beg);
	rb_ary_push(result, tmp);
    }
    if (NIL_P(limit) &amp;&amp; lim == 0) {
	long len;
	while ((len = RARRAY_LEN(result)) &gt; 0 &amp;&amp;
	       (tmp = RARRAY_AREF(result, len-1), RSTRING_LEN(tmp) == 0))
	    rb_ary_pop(result);
    }

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="squeeze-instance_method">
  <h3 class='signature '>
    #<strong>squeeze</strong>([other_str])  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Builds a set of characters from the <em>other_str</em> parameter(s) using
the procedure described for <a href="#count-instance_method" title="String#count (method)">#count</a>. Returns a new string where runs
of the same character that occur in this set are replaced by a single
character. If no arguments are given, all runs of identical characters are
replaced by a single character.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>yellow moon</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_squeeze'>squeeze</span>                  <span class='comment'>#=&gt; &quot;yelow mon&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  now   is  the</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_squeeze'>squeeze</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>         <span class='comment'>#=&gt; &quot; now is the&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>putters shoot balls</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_squeeze'>squeeze</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>m-z</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;puters shot balls&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L7038-L7044'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


7038
7039
7040
7041
7042
7043
7044</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7038</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_squeeze(int argc, VALUE *argv, VALUE str)
{
    str = rb_str_dup(str);
    rb_str_squeeze_bang(argc, argv, str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="squeeze!-instance_method">
  <h3 class='signature '>
    #<strong>squeeze!</strong>([other_str])  &#x21d2; <code>String</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Squeezes <em>str</em> in place, returning either <em>str</em>, or <code>nil</code> if
no changes were made.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L6947-L7020'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6947
6948
6949
6950
6951
6952
6953
6954
6955
6956
6957
6958
6959
6960
6961
6962
6963
6964
6965
6966
6967
6968
6969
6970
6971
6972
6973
6974
6975
6976
6977
6978
6979
6980
6981
6982
6983
6984
6985
6986
6987
6988
6989
6990
6991
6992
6993
6994
6995
6996
6997
6998
6999
7000
7001
7002
7003
7004
7005
7006
7007
7008
7009
7010
7011
7012
7013
7014
7015
7016
7017
7018
7019
7020</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6947</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_squeeze_bang(int argc, VALUE *argv, VALUE str)
{
    char squeez[TR_TABLE_SIZE];
    rb_encoding *enc = 0;
    VALUE del = 0, nodel = 0;
    char *s, *send, *t;
    int i, modify = 0;
    int ascompat, singlebyte = single_byte_optimizable(str);
    unsigned int save;

    if (argc == 0) {
	enc = STR_ENC_GET(str);
    }
    else {
	for (i=0; i&lt;argc; i++) {
	    VALUE s = argv[i];

	    StringValue(s);
	    enc = rb_enc_check(str, s);
	    if (singlebyte &amp;&amp; !single_byte_optimizable(s))
		singlebyte = 0;
	    tr_setup_table(s, squeez, i==0, &amp;del, &amp;nodel, enc);
	}
    }

    str_modify_keep_cr(str);
    s = t = RSTRING_PTR(str);
    if (!s || RSTRING_LEN(str) == 0) return Qnil;
    send = RSTRING_END(str);
    save = -1;
    ascompat = rb_enc_asciicompat(enc);

    if (singlebyte) {
        while (s &lt; send) {
	    unsigned int c = *(unsigned char*)s++;
	    if (c != save || (argc &gt; 0 &amp;&amp; !squeez[c])) {
	        *t++ = save = c;
	    }
	}
    }
    else {
	while (s &lt; send) {
	    unsigned int c;
	    int clen;

	    if (ascompat &amp;&amp; (c = *(unsigned char*)s) &lt; 0x80) {
		if (c != save || (argc &gt; 0 &amp;&amp; !squeez[c])) {
		    *t++ = save = c;
		}
		s++;
	    }
	    else {
		c = rb_enc_codepoint_len(s, send, &amp;clen, enc);

		if (c != save || (argc &gt; 0 &amp;&amp; !tr_find(c, squeez, del, nodel))) {
		    if (t != s) rb_enc_mbcput(c, t, enc);
		    save = c;
		    t += clen;
		}
		s += clen;
	    }
	}
    }

    TERM_FILL(t, TERM_LEN(str));
    if (t - RSTRING_PTR(str) != RSTRING_LEN(str)) {
	STR_SET_LEN(str, t - RSTRING_PTR(str));
	modify = 1;
    }

    if (modify) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="start_with?-instance_method">
  <h3 class='signature '>
    #<strong>start_with?</strong>([prefixes])  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if <code>str</code> starts with one of the <code>prefixes</code> given.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hell</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>               <span class='comment'>#=&gt; true
</span>
<span class='comment'># returns true if one of the prefixes matches.
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>heaven</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hell</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>     <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>heaven</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>paradise</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L9047-L9061'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


9047
9048
9049
9050
9051
9052
9053
9054
9055
9056
9057
9058
9059
9060
9061</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9047</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_start_with(int argc, VALUE *argv, VALUE str)
{
    int i;

    for (i=0; i&lt;argc; i++) {
	VALUE tmp = argv[i];
	StringValue(tmp);
	rb_enc_check(str, tmp);
	if (RSTRING_LEN(str) &lt; RSTRING_LEN(tmp)) continue;
	if (memcmp(RSTRING_PTR(str), RSTRING_PTR(tmp), RSTRING_LEN(tmp)) == 0)
	    return Qtrue;
    }
    return Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="strip-instance_method">
  <h3 class='signature '>
    #<strong>strip</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with leading and trailing whitespace
removed.</p>

<p>Whitespace is defined as any of the following characters: null, horizontal
tab, line feed, vertical tab, form feed, carriage return, space.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    hello    </span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span>   <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\tgoodbye\r\n</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span>   <span class='comment'>#=&gt; &quot;goodbye&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x00\t\n\v\f\r </span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span> <span class='comment'>#=&gt; &quot;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8470-L8483'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8470
8471
8472
8473
8474
8475
8476
8477
8478
8479
8480
8481
8482
8483</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8470</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_strip(VALUE str)
{
    char *start;
    long olen, loffset, roffset;
    rb_encoding *enc = STR_ENC_GET(str);

    RSTRING_GETMEM(str, start, olen);
    loffset = lstrip_offset(str, start, start+olen, enc);
    roffset = rstrip_offset(str, start+loffset, start+olen, enc);

    if (loffset &lt;= 0 &amp;&amp; roffset &lt;= 0) return rb_str_dup(str);
    return rb_str_subseq(str, loffset, olen-loffset-roffset);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="strip!-instance_method">
  <h3 class='signature '>
    #<strong>strip!</strong>  &#x21d2; <code>String</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes leading and trailing whitespace from <em>str</em>. Returns <code>nil</code> if
<em>str</em> was not altered.</p>

<p>Refer to <a href="#strip-instance_method" title="String#strip (method)">#strip</a> for the definition of whitespace.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8427-L8453'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8427
8428
8429
8430
8431
8432
8433
8434
8435
8436
8437
8438
8439
8440
8441
8442
8443
8444
8445
8446
8447
8448
8449
8450
8451
8452
8453</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8427</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_strip_bang(VALUE str)
{
    char *start;
    long olen, loffset, roffset;
    rb_encoding *enc;

    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    loffset = lstrip_offset(str, start, start+olen, enc);
    roffset = rstrip_offset(str, start+loffset, start+olen, enc);

    if (loffset &gt; 0 || roffset &gt; 0) {
	long len = olen-roffset;
	if (loffset &gt; 0) {
	    len -= loffset;
	    memmove(start, start + loffset, len);
	}
	STR_SET_LEN(str, len);
#if !SHARABLE_MIDDLE_SUBSTRING
	TERM_FILL(start+len, rb_enc_mbminlen(enc));
#endif
	return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sub-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>sub</strong>(pattern, replacement)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>sub</strong>(pattern, hash)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>sub</strong>(pattern) {|match| ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>str</code> with the <em>first</em> occurrence of <code>pattern</code>
replaced by the second argument. The <code>pattern</code> is typically a Regexp; if
given as a <code>String</code>, any regular expression metacharacters it
contains will be interpreted literally, e.g. <code>&#39;\\d&#39;</code>
will match a backslash followed by &#39;d&#39;, instead of a digit.</p>

<p>If <code>replacement</code> is a <code>String</code> it will be substituted for the
matched text. It may contain back-references to the pattern&#39;s capture
groups of the form <code>&quot;\d&quot;</code>, where <em>d</em> is a group
number, or <code>&quot;\k&lt;n&gt;&quot;</code>, where <em>n</em> is a
group name. If it is a double-quoted string, both back-references must be
preceded by an additional backslash. However, within <code>replacement</code> the
special match variables, such as <code>$&amp;</code>, will not refer to the
current match. If <code>replacement</code> is a <code>String</code> that looks like a
pattern&#39;s capture group but is actually not a pattern capture group
e.g. <code>&quot;\&#39;&quot;</code>, then it will have to be preceded by
two backslashes like so <code>&quot;\\&#39;&quot;</code>.</p>

<p>If the second argument is a <a href="Hash.html" title="Hash (class)">::Hash</a>, and the matched text is one of its
keys, the corresponding value is the replacement string.</p>

<p>In the block form, the current match string is passed in as a parameter,
and variables such as <code>$1</code>, <code>$2</code>, <code>$`</code>,
<code>$&amp;</code>, and <code>$&#39;</code> will be set appropriately. The
value returned by the block will be substituted for the match on each call.</p>

<p>The result inherits any tainting in the original string or any supplied
replacement string.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>                  <span class='comment'>#=&gt; &quot;h*llo&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([aeiou])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;\1&gt;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>             <span class='comment'>#=&gt; &quot;h&lt;e&gt;llo&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_ord'>ord</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span>     <span class='comment'>#=&gt; &quot;104 ello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;foo&gt;[aeiou])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*\k&lt;foo&gt;*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;h*e*llo&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Is SHELL your preferred shell?</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[[:upper:]]{2,}</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='const'><a href="ENV.html" title="ENV (class)">ENV</a></span><span class='rparen'>)</span>
 <span class='comment'>#=&gt; &quot;Is /bin/bash your preferred shell?&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L4900-L4906'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4900
4901
4902
4903
4904
4905
4906</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4900</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_sub(int argc, VALUE *argv, VALUE str)
{
    str = rb_str_dup(str);
    rb_str_sub_bang(argc, argv, str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sub!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>sub!</strong>(pattern, replacement)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>sub!</strong>(pattern) {|match| ... } &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Performs the same substitution as <a href="#sub-instance_method" title="String#sub (method)">#sub</a> in-place.</p>

<p>Returns <code>str</code> if a substitution was performed or <code>nil</code> if no substitution
was performed.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L4746-L4855'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4746
4747
4748
4749
4750
4751
4752
4753
4754
4755
4756
4757
4758
4759
4760
4761
4762
4763
4764
4765
4766
4767
4768
4769
4770
4771
4772
4773
4774
4775
4776
4777
4778
4779
4780
4781
4782
4783
4784
4785
4786
4787
4788
4789
4790
4791
4792
4793
4794
4795
4796
4797
4798
4799
4800
4801
4802
4803
4804
4805
4806
4807
4808
4809
4810
4811
4812
4813
4814
4815
4816
4817
4818
4819
4820
4821
4822
4823
4824
4825
4826
4827
4828
4829
4830
4831
4832
4833
4834
4835
4836
4837
4838
4839
4840
4841
4842
4843
4844
4845
4846
4847
4848
4849
4850
4851
4852
4853
4854
4855</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4746</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_sub_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE pat, repl, hash = Qnil;
    int iter = 0;
    int tainted = 0;
    long plen;
    int min_arity = rb_block_given_p() ? 1 : 2;
    long beg;

    rb_check_arity(argc, min_arity, 2);
    if (argc == 1) {
	iter = 1;
    }
    else {
	repl = argv[1];
	hash = rb_check_hash_type(argv[1]);
	if (NIL_P(hash)) {
	    StringValue(repl);
	}
	tainted = OBJ_TAINTED_RAW(repl);
    }

    pat = get_pat_quoted(argv[0], 1);

    str_modifiable(str);
    beg = rb_pat_search(pat, str, 0, 1);
    if (beg &gt;= 0) {
	rb_encoding *enc;
	int cr = ENC_CODERANGE(str);
	long beg0, end0;
	VALUE match, match0 = Qnil;
	struct re_registers *regs;
	char *p, *rp;
	long len, rlen;

	match = rb_backref_get();
	regs = RMATCH_REGS(match);
	if (RB_TYPE_P(pat, T_STRING)) {
	    beg0 = beg;
	    end0 = beg0 + RSTRING_LEN(pat);
	    match0 = pat;
	}
	else {
	    beg0 = BEG(0);
	    end0 = END(0);
	    if (iter) match0 = rb_reg_nth_match(0, match);
	}

	if (iter || !NIL_P(hash)) {
	    p = RSTRING_PTR(str); len = RSTRING_LEN(str);

            if (iter) {
                repl = rb_obj_as_string(rb_yield(match0));
            }
            else {
                repl = rb_hash_aref(hash, rb_str_subseq(str, beg0, end0 - beg0));
                repl = rb_obj_as_string(repl);
            }
	    str_mod_check(str, p, len);
	    rb_check_frozen(str);
	}
	else {
	    repl = rb_reg_regsub(repl, str, regs, RB_TYPE_P(pat, T_STRING) ? Qnil : pat);
	}

        enc = rb_enc_compatible(str, repl);
        if (!enc) {
            rb_encoding *str_enc = STR_ENC_GET(str);
	    p = RSTRING_PTR(str); len = RSTRING_LEN(str);
	    if (coderange_scan(p, beg0, str_enc) != ENC_CODERANGE_7BIT ||
		coderange_scan(p+end0, len-end0, str_enc) != ENC_CODERANGE_7BIT) {
                rb_raise(rb_eEncCompatError, &quot;incompatible character encodings: %s and %s&quot;,
			 rb_enc_name(str_enc),
			 rb_enc_name(STR_ENC_GET(repl)));
            }
            enc = STR_ENC_GET(repl);
        }
	rb_str_modify(str);
	rb_enc_associate(str, enc);
	tainted |= OBJ_TAINTED_RAW(repl);
	if (ENC_CODERANGE_UNKNOWN &lt; cr &amp;&amp; cr &lt; ENC_CODERANGE_BROKEN) {
	    int cr2 = ENC_CODERANGE(repl);
            if (cr2 == ENC_CODERANGE_BROKEN ||
                (cr == ENC_CODERANGE_VALID &amp;&amp; cr2 == ENC_CODERANGE_7BIT))
                cr = ENC_CODERANGE_UNKNOWN;
            else
                cr = cr2;
	}
	plen = end0 - beg0;
	rp = RSTRING_PTR(repl); rlen = RSTRING_LEN(repl);
	len = RSTRING_LEN(str);
	if (rlen &gt; plen) {
	    RESIZE_CAPA(str, len + rlen - plen);
	}
	p = RSTRING_PTR(str);
	if (rlen != plen) {
	    memmove(p + beg0 + rlen, p + beg0 + plen, len - beg0 - plen);
	}
	memcpy(p + beg0, rp, rlen);
	len += rlen - plen;
	STR_SET_LEN(str, len);
	TERM_FILL(&amp;RSTRING_PTR(str)[len], TERM_LEN(str));
	ENC_CODERANGE_SET(str, cr);
	FL_SET_RAW(str, tainted);

	return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="succ-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>succ</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>next</strong>  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#next-instance_method" title="String#next (method)">#next</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
</section>

<section class='method_details' id="succ!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>succ!</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>next!</strong>  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#next!-instance_method" title="String#next! (method)">#next!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
</section>

<section class='method_details' id="sum-instance_method">
  <h3 class='signature '>
    #<strong>sum</strong>(n = 16)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a basic <em>n</em>-bit checksum of the characters in <em>str</em>,
where <em>n</em> is the optional <a href="Integer.html" title="Integer (class)">::Integer</a> parameter, defaulting to 16. The
result is simply the sum of the binary value of each byte in <em>str</em>
modulo <code>2**n - 1</code>. This is not a particularly good checksum.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L8728-L8786'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8728
8729
8730
8731
8732
8733
8734
8735
8736
8737
8738
8739
8740
8741
8742
8743
8744
8745
8746
8747
8748
8749
8750
8751
8752
8753
8754
8755
8756
8757
8758
8759
8760
8761
8762
8763
8764
8765
8766
8767
8768
8769
8770
8771
8772
8773
8774
8775
8776
8777
8778
8779
8780
8781
8782
8783
8784
8785
8786</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8728</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_sum(int argc, VALUE *argv, VALUE str)
{
    VALUE vbits;
    int bits;
    char *ptr, *p, *pend;
    long len;
    VALUE sum = INT2FIX(0);
    unsigned long sum0 = 0;

    if (argc == 0) {
	bits = 16;
    }
    else {
	rb_scan_args(argc, argv, &quot;01&quot;, &amp;vbits);
	bits = NUM2INT(vbits);
        if (bits &lt; 0)
            bits = 0;
    }
    ptr = p = RSTRING_PTR(str);
    len = RSTRING_LEN(str);
    pend = p + len;

    while (p &lt; pend) {
        if (FIXNUM_MAX - UCHAR_MAX &lt; sum0) {
            sum = rb_funcall(sum, &#39;+&#39;, 1, LONG2FIX(sum0));
            str_mod_check(str, ptr, len);
            sum0 = 0;
        }
        sum0 += (unsigned char)*p;
        p++;
    }

    if (bits == 0) {
        if (sum0) {
            sum = rb_funcall(sum, &#39;+&#39;, 1, LONG2FIX(sum0));
        }
    }
    else {
        if (sum == INT2FIX(0)) {
            if (bits &lt; (int)sizeof(long)*CHAR_BIT) {
                sum0 &amp;= (((unsigned long)1)&lt;&lt;bits)-1;
            }
            sum = LONG2FIX(sum0);
        }
        else {
            VALUE mod;

            if (sum0) {
                sum = rb_funcall(sum, &#39;+&#39;, 1, LONG2FIX(sum0));
            }

            mod = rb_funcall(INT2FIX(1), idLTLT, 1, INT2FIX(bits));
            mod = rb_funcall(mod, &#39;-&#39;, 1, INT2FIX(1));
            sum = rb_funcall(sum, &#39;&amp;&#39;, 1, mod);
        }
    }
    return sum;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="swapcase-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>swapcase</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>swapcase</strong>([options])  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with uppercase alphabetic characters
converted to lowercase and lowercase characters converted to uppercase.</p>

<p>See <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a> for meaning of <code>options</code> and use with different
encodings.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_swapcase'>swapcase</span>          <span class='comment'>#=&gt; &quot;hELLO&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cYbEr_PuNk11</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_swapcase'>swapcase</span>   <span class='comment'>#=&gt; &quot;CyBeR_pUnK11&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L6383-L6389'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6383
6384
6385
6386
6387
6388
6389</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6383</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_swapcase(int argc, VALUE *argv, VALUE str)
{
    str = rb_str_dup(str);
    rb_str_swapcase_bang(argc, argv, str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="swapcase!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>swapcase!</strong>  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>swapcase!</strong>([options])  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Equivalent to <a href="#swapcase-instance_method" title="String#swapcase (method)">#swapcase</a>, but modifies the receiver in place,
returning <em>str</em>, or <code>nil</code> if no changes were made.</p>

<p>See <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a> for meaning of <code>options</code> and use with different
encodings.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L6349-L6366'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6349
6350
6351
6352
6353
6354
6355
6356
6357
6358
6359
6360
6361
6362
6363
6364
6365
6366</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6349</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_swapcase_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE | ONIGENC_CASE_DOWNCASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    rb_str_check_dummy_enc(enc);
    if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, &amp;flags, enc);
    else
	str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_c-instance_method">
  <h3 class='signature '>
    #<strong>to_c</strong>  &#x21d2; <a href="Complex.html" title="Complex (class)">Complex</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a complex which denotes the string form.  The parser ignores
leading whitespaces and trailing garbage.  Any digit sequences can be
separated by an underscore.  Returns zero for null or garbage string.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>9</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_c'>to_c</span>           <span class='comment'>#=&gt; (9+0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2.5</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_c'>to_c</span>         <span class='comment'>#=&gt; (2.5+0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2.5/1</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_c'>to_c</span>       <span class='comment'>#=&gt; ((5/2)+0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-3/2</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_c'>to_c</span>        <span class='comment'>#=&gt; ((-3/2)+0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-i</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_c'>to_c</span>          <span class='comment'>#=&gt; (0-1i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>45i</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_c'>to_c</span>         <span class='comment'>#=&gt; (0+45i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3-4i</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_c'>to_c</span>        <span class='comment'>#=&gt; (3-4i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-4e2-4e-2i</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_c'>to_c</span>  <span class='comment'>#=&gt; (-400.0-0.04i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-0.0-0.0i</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_c'>to_c</span>   <span class='comment'>#=&gt; (-0.0-0.0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1/2+3/4i</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_c'>to_c</span>    <span class='comment'>#=&gt; ((1/2)+(3/4)*i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_c'>to_c</span>        <span class='comment'>#=&gt; (0+0i)</span></code></pre>

<p>See <a href="Kernel.html#Complex-class_method" title="Kernel.Complex (method)">Kernel.Complex</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/complex.c#L1912-L1934'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1912
1913
1914
1915
1916
1917
1918
1919
1920
1921
1922
1923
1924
1925
1926
1927
1928
1929
1930
1931
1932
1933
1934</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'complex.c', line 1912</span></pre>
<pre class='code cpp'>

static VALUE
string_to_c(VALUE self)
{
    char *s;
    VALUE num;

    rb_must_asciicompat(self);

    s = RSTRING_PTR(self);

    if (s &amp;&amp; s[RSTRING_LEN(self)]) {
	rb_str_modify(self);
	s = RSTRING_PTR(self);
	s[RSTRING_LEN(self)] = &#39;\0&#39;;
    }

    if (!s)
	s = (char *)&quot;&quot;;

    (void)parse_comp(s, 0, &amp;num);

    return num;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_f-instance_method">
  <h3 class='signature '>
    #<strong>to_f</strong>  &#x21d2; <a href="Float.html" title="Float (class)">Float</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the result of interpreting leading characters in <em>str</em> as a
floating point number. Extraneous characters past the end of a valid number
are ignored. If there is not a valid number at the start of <em>str</em>,
<code>0.0</code> is returned. This method never raises an exception.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123.45e1</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>        <span class='comment'>#=&gt; 1234.5
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>45.67 degrees</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>   <span class='comment'>#=&gt; 45.67
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>thx1138</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>         <span class='comment'>#=&gt; 0.0</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5537-L5541'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5537
5538
5539
5540
5541</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5537</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_to_f(VALUE str)
{
    return DBL2NUM(rb_str_to_dbl(str, FALSE));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_i-instance_method">
  <h3 class='signature '>
    #<strong>to_i</strong>(base = 10)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the result of interpreting leading characters in <em>str</em> as an
integer base <em>base</em> (between 2 and 36). Extraneous characters past
the end of a valid number are ignored. If there is not a valid number at
the start of <em>str</em>, <code>0</code> is returned. This method never
raises an exception when <em>base</em> is valid.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>12345</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>             <span class='comment'>#=&gt; 12345
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>99 red balloons</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>   <span class='comment'>#=&gt; 99
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0a</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>                <span class='comment'>#=&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0a</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='lparen'>(</span><span class='int'>16</span><span class='rparen'>)</span>            <span class='comment'>#=&gt; 10
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>             <span class='comment'>#=&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1100101</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>        <span class='comment'>#=&gt; 101
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1100101</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='lparen'>(</span><span class='int'>8</span><span class='rparen'>)</span>        <span class='comment'>#=&gt; 294977
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1100101</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span>       <span class='comment'>#=&gt; 1100101
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1100101</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='lparen'>(</span><span class='int'>16</span><span class='rparen'>)</span>       <span class='comment'>#=&gt; 17826049</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5504-L5520'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5504
5505
5506
5507
5508
5509
5510
5511
5512
5513
5514
5515
5516
5517
5518
5519
5520</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5504</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_to_i(int argc, VALUE *argv, VALUE str)
{
    int base;

    if (argc == 0) base = 10;
    else {
	VALUE b;

	rb_scan_args(argc, argv, &quot;01&quot;, &amp;b);
	base = NUM2INT(b);
    }
    if (base &lt; 0) {
	rb_raise(rb_eArgError, &quot;invalid radix %d&quot;, base);
    }
    return rb_str_to_inum(str, base, FALSE);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_r-instance_method">
  <h3 class='signature '>
    #<strong>to_r</strong>  &#x21d2; <a href="Rational.html" title="Rational (class)">Rational</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a rational which denotes the string form.  The parser ignores
leading whitespaces and trailing garbage.  Any digit sequences can be
separated by an underscore.  Returns zero for null or garbage string.</p>

<p>NOTE: &#39;0.3&#39;.to_r isn&#39;t the same as 0.3.to_r.  The former is
equivalent to &#39;3/10&#39;.to_r, but the latter isn&#39;t so.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>  2  </span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_r'>to_r</span>       <span class='comment'>#=&gt; (2/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>300/2</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_r'>to_r</span>       <span class='comment'>#=&gt; (150/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-9.2</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_r'>to_r</span>        <span class='comment'>#=&gt; (-46/5)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-9.2e2</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_r'>to_r</span>      <span class='comment'>#=&gt; (-920/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1_234_567</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_r'>to_r</span>   <span class='comment'>#=&gt; (1234567/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>21 june 09</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_r'>to_r</span>  <span class='comment'>#=&gt; (21/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>21/06/09</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_r'>to_r</span>    <span class='comment'>#=&gt; (7/2)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bwv 1079</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_r'>to_r</span>    <span class='comment'>#=&gt; (0/1)</span></code></pre>

<p>See <a href="Kernel.html#Rational-class_method" title="Kernel.Rational (method)">Kernel.Rational</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/rational.c#L2507-L2531'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2507
2508
2509
2510
2511
2512
2513
2514
2515
2516
2517
2518
2519
2520
2521
2522
2523
2524
2525
2526
2527
2528
2529
2530
2531</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rational.c', line 2507</span></pre>
<pre class='code cpp'>

static VALUE
string_to_r(VALUE self)
{
    char *s;
    VALUE num;

    rb_must_asciicompat(self);

    s = RSTRING_PTR(self);

    if (s &amp;&amp; s[RSTRING_LEN(self)]) {
	rb_str_modify(self);
	s = RSTRING_PTR(self);
	s[RSTRING_LEN(self)] = &#39;\0&#39;;
    }

    if (!s)
	s = (char *)&quot;&quot;;

    (void)parse_rat(s, 0, &amp;num);

    if (RB_FLOAT_TYPE_P(num))
	rb_raise(rb_eFloatDomainError, &quot;Infinity&quot;);
    return num;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>to_s</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>to_str</strong>  &#x21d2; <code>String</code> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#to_str</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code>.</p>

<p>If called on a subclass of <code>String</code>, converts the receiver to a
<code>String</code> object.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L5554-L5561'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5554
5555
5556
5557
5558
5559
5560
5561</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5554</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_to_s(VALUE str)
{
    if (rb_obj_class(str) != rb_cString) {
	return str_duplicate(rb_cString, str);
    }
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_str-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>to_s</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>to_str</strong>  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#to_s-instance_method" title="String#to_s (method)">#to_s</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L10091-L10091'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


10091</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10091</span></pre>
<pre class='code cpp'>

rb_define_method(rb_cString, &quot;to_str&quot;, rb_str_to_s, 0);
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_sym-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>intern</strong>  &#x21d2; <a href="Symbol.html" title="Symbol (class)">Symbol</a> </span>
      <span class='overload'>#<strong>to_sym</strong>  &#x21d2; <a href="Symbol.html" title="Symbol (class)">Symbol</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#intern-instance_method" title="String#intern (method)">#intern</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L10124-L10124'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


10124</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10124</span></pre>
<pre class='code cpp'>

rb_define_method(rb_cString, &quot;to_sym&quot;, rb_str_intern, 0);
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tr-instance_method">
  <h3 class='signature '>
    #<strong>tr</strong>(from_str, to_str)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>str</code> with the characters in <code>from_str</code> replaced by the
corresponding characters in <a href="#to_str-instance_method" title="String#to_str (method)">#to_str</a>.  If <a href="#to_str-instance_method" title="String#to_str (method)">#to_str</a> is shorter than
<code>from_str</code>, it is padded with its last character in order to maintain the
correspondence.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>el</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ip</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>      <span class='comment'>#=&gt; &quot;hippo&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aeiou</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;h*ll*&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aeiou</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AA*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;hAll*&quot;</span></code></pre>

<p>Both strings may use the <code>c1-c2</code> notation to denote ranges of
characters, and <code>from_str</code> may start with a <code>^</code>, which denotes all
characters except those listed.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a-y</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b-z</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;ifmmp&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>^aeiou</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;*e**o&quot;</span></code></pre>

<p>The backslash character <code>\</code> can be used to escape <code>^</code> or <code>-</code> and
is otherwise ignored unless it appears at the end of a range or the end of
the <code>from_str</code> or <a href="#to_str-instance_method" title="String#to_str (method)">#to_str</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello^world</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\^aeiou</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;h*ll**w*rld&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello-world</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\\-eo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;h*ll**w*rld&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\r\nworld</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;hello\nworld&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\r\nworld</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;hello\r\nwold&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\r\nworld</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\\r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;hello\nworld&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X[&#39;\\b&#39;]</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X\\</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;[&#39;b&#39;]&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X[&#39;\\b&#39;]</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X-\\]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;&#39;b&#39;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L6751-L6757'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6751
6752
6753
6754
6755
6756
6757</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6751</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_tr(VALUE str, VALUE src, VALUE repl)
{
    str = rb_str_dup(str);
    tr_trans(str, src, repl, 0);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tr!-instance_method">
  <h3 class='signature '>
    #<strong>tr!</strong>(from_str, to_str)  &#x21d2; <code>String</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Translates <em>str</em> in place, using the same rules as <a href="#tr-instance_method" title="String#tr (method)">#tr</a>.
Returns <em>str</em>, or <code>nil</code> if no changes were made.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L6709-L6713'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6709
6710
6711
6712
6713</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6709</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_tr_bang(VALUE str, VALUE src, VALUE repl)
{
    return tr_trans(str, src, repl, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tr_s-instance_method">
  <h3 class='signature '>
    #<strong>tr_s</strong>(from_str, to_str)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Processes a copy of <em>str</em> as described under <a href="#tr-instance_method" title="String#tr (method)">#tr</a>, then
removes duplicate characters in regions that were affected by the
translation.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr_s'>tr_s</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>l</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>     <span class='comment'>#=&gt; &quot;hero&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr_s'>tr_s</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>el</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;h*o&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_tr_s'>tr_s</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>el</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hx</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;hhxo&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L7075-L7081'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


7075
7076
7077
7078
7079
7080
7081</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7075</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_tr_s(VALUE str, VALUE src, VALUE repl)
{
    str = rb_str_dup(str);
    tr_trans(str, src, repl, 1);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tr_s!-instance_method">
  <h3 class='signature '>
    #<strong>tr_s!</strong>(from_str, to_str)  &#x21d2; <code>String</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Performs <a href="#tr_s-instance_method" title="String#tr_s (method)">#tr_s</a> processing on <em>str</em> in place, returning
<em>str</em>, or <code>nil</code> if no changes were made.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L7055-L7059'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


7055
7056
7057
7058
7059</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7055</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_tr_s_bang(VALUE str, VALUE src, VALUE repl)
{
    return tr_trans(str, src, repl, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unpack-instance_method">
  <h3 class='signature '>
    #<strong>unpack</strong>(format)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Decodes <em>str</em> (which may contain binary data) according to the
format string, returning an array of each value extracted. The format
string consists of a sequence of single-character directives, summarized in
the table at the end of this entry. Each directive may be followed by a
number, indicating the number of times to repeat with this directive. An
asterisk ("<a href="#*-instance_method" title="String#* (method)">#*</a>&#39;&#39;) will use up all remaining elements. The
directives <code>sSiIlL</code> may each be followed by an underscore ("<code>_</code>&#39;&#39;)
or exclamation mark ("<code>!</code>&#39;&#39;) to use the underlying platform&#39;s
native size for the specified type; otherwise, it uses a
platform-independent consistent size. Spaces are ignored in the format
string. See also <a href="#unpack1-instance_method" title="String#unpack1 (method)">#unpack1</a>,  <a href="Array.html#pack-instance_method" title="Array#pack (method)">Array#pack</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc \0\0abc \0\0</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_unpack'>unpack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A6Z6</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [&quot;abc&quot;, &quot;abc &quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc \0\0</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_unpack'>unpack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a3a3</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>           <span class='comment'>#=&gt; [&quot;abc&quot;, &quot; \000\000&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc \0abc \0</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_unpack'>unpack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Z*Z*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>       <span class='comment'>#=&gt; [&quot;abc &quot;, &quot;abc &quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>aa</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_unpack'>unpack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b8B8</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>                 <span class='comment'>#=&gt; [&quot;10000110&quot;, &quot;01100001&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>aaa</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_unpack'>unpack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h2H2c</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>               <span class='comment'>#=&gt; [&quot;16&quot;, &quot;61&quot;, 97]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xfe\xff\xfe\xff</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_unpack'>unpack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sS</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>     <span class='comment'>#=&gt; [-2, 65534]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>now=20is</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_unpack'>unpack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>             <span class='comment'>#=&gt; [&quot;now is&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>whole</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_unpack'>unpack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xax2aX2aX1aX2a</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]</span></code></pre>

<p>This table summarizes the various formats and the Ruby classes returned by
each.</p>

<pre class="code ruby"><code class="ruby">{Integer}       |         |
Directive     | Returns | Meaning
------------------------------------------------------------------
C             | {Integer} | 8-bit unsigned (unsigned char)
S             | {Integer} | 16-bit unsigned, native endian (uint16_t)
L             | {Integer} | 32-bit unsigned, native endian (uint32_t)
Q             | {Integer} | 64-bit unsigned, native endian (uint64_t)
J             | {Integer} | pointer width unsigned, native endian (uintptr_t)
              |         |
c             | {Integer} | 8-bit signed (signed char)
s             | {Integer} | 16-bit signed, native endian (int16_t)
l             | {Integer} | 32-bit signed, native endian (int32_t)
q             | {Integer} | 64-bit signed, native endian (int64_t)
j             | {Integer} | pointer width signed, native endian (intptr_t)
              |         |
S_ S!         | {Integer} | unsigned short, native endian
I I_ I!       | {Integer} | unsigned int, native endian
L_ L!         | {Integer} | unsigned long, native endian
Q_ Q!         | {Integer} | unsigned long long, native endian (ArgumentError
              |         | if the platform has no long long type.)
J!            | {Integer} | uintptr_t, native endian (same with J)
              |         |
s_ s!         | {Integer} | signed short, native endian
i i_ i!       | {Integer} | signed int, native endian
l_ l!         | {Integer} | signed long, native endian
q_ q!         | {Integer} | signed long long, native endian (ArgumentError
              |         | if the platform has no long long type.)
j!            | {Integer} | intptr_t, native endian (same with j)
              |         |
S&gt; s&gt; S!&gt; s!&gt; | {Integer} | same as the directives without &quot;&gt;&quot; except
L&gt; l&gt; L!&gt; l!&gt; |         | big endian
I!&gt; i!&gt;       |         |
Q&gt; q&gt; Q!&gt; q!&gt; |         | &quot;S&gt;&quot; is same as &quot;n&quot;
J&gt; j&gt; J!&gt; j!&gt; |         | &quot;L&gt;&quot; is same as &quot;N&quot;
              |         |
S&lt; s&lt; S!&lt; s!&lt; | {Integer} | same as the directives without &quot;&lt;&quot; except
L&lt; l&lt; L!&lt; l!&lt; |         | little endian
I!&lt; i!&lt;       |         |
Q&lt; q&lt; Q!&lt; q!&lt; |         | &quot;S&lt;&quot; is same as &quot;v&quot;
J&lt; j&lt; J!&lt; j!&lt; |         | &quot;L&lt;&quot; is same as &quot;V&quot;
              |         |
n             | {Integer} | 16-bit unsigned, network (big-endian) byte order
N             | {Integer} | 32-bit unsigned, network (big-endian) byte order
v             | {Integer} | 16-bit unsigned, VAX (little-endian) byte order
V             | {Integer} | 32-bit unsigned, VAX (little-endian) byte order
              |         |
U             | {Integer} | UTF-8 character
w             | {Integer} | BER-compressed integer (see {Array.pack})

{Float}        |         |
Directive    | Returns | Meaning
-----------------------------------------------------------------
D d          | {Float}   | double-precision, native format
F f          | {Float}   | single-precision, native format
E            | {Float}   | double-precision, little-endian byte order
e            | {Float}   | single-precision, little-endian byte order
G            | {Float}   | double-precision, network (big-endian) byte order
g            | {Float}   | single-precision, network (big-endian) byte order

&lt;code&gt;String&lt;/code&gt;       |         |
Directive    | Returns | Meaning
-----------------------------------------------------------------
A            | &lt;code&gt;String&lt;/code&gt;  | arbitrary binary string (remove trailing nulls and ASCII spaces)
a            | &lt;code&gt;String&lt;/code&gt;  | arbitrary binary string
Z            | &lt;code&gt;String&lt;/code&gt;  | null-terminated string
B            | &lt;code&gt;String&lt;/code&gt;  | bit string (MSB first)
b            | &lt;code&gt;String&lt;/code&gt;  | bit string (LSB first)
H            | &lt;code&gt;String&lt;/code&gt;  | hex string (high nibble first)
h            | &lt;code&gt;String&lt;/code&gt;  | hex string (low nibble first)
u            | &lt;code&gt;String&lt;/code&gt;  | UU-encoded string
M            | &lt;code&gt;String&lt;/code&gt;  | quoted-printable, MIME encoding (see RFC2045)
m            | &lt;code&gt;String&lt;/code&gt;  | base64 encoded string (RFC 2045) (default)
             |         | base64 encoded string (RFC 4648) if followed by 0
P            | &lt;code&gt;String&lt;/code&gt;  | pointer to a structure (fixed-length string)
p            | &lt;code&gt;String&lt;/code&gt;  | pointer to a null-terminated string

Misc.        |         |
Directive    | Returns | Meaning
-----------------------------------------------------------------
@            | ---     | skip to the offset given by the length argument
X            | ---     | skip backward one byte
x            | ---     | skip forward one byte</code></pre>

<p>HISTORY</p>
<ul><li>
<p>J, J! j, and j! are available since Ruby 2.3.</p>
</li><li>
<p>Q_, Q!, q_, and q! are available since Ruby 2.1.</p>
</li><li>
<p>I!&lt;, i!&lt;, I!&gt;, and i!&gt; are available since Ruby 1.9.3.</p>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/pack.c#L1868-L1873'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1868
1869
1870
1871
1872
1873</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'pack.c', line 1868</span></pre>
<pre class='code cpp'>

static VALUE
pack_unpack(VALUE str, VALUE fmt)
{
    int mode = rb_block_given_p() ? UNPACK_BLOCK : UNPACK_ARRAY;
    return pack_unpack_internal(str, fmt, mode);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unpack1-instance_method">
  <h3 class='signature '>
    #<strong>unpack1</strong>(format)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Decodes <em>str</em> (which may contain binary data) according to the
format string, returning the first value extracted. See also
<a href="#unpack-instance_method" title="String#unpack (method)">#unpack</a>, <a href="Array.html#pack-instance_method" title="Array#pack (method)">Array#pack</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/pack.c#L1884-L1888'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1884
1885
1886
1887
1888</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'pack.c', line 1884</span></pre>
<pre class='code cpp'>

static VALUE
pack_unpack1(VALUE str, VALUE fmt)
{
    return pack_unpack_internal(str, fmt, UNPACK_1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="upcase-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>upcase</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>upcase</strong>([options])  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with all lowercase letters replaced with
their uppercase counterparts.</p>

<p>See <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a> for meaning of <code>options</code> and use with different
encodings.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hEllO</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span>   <span class='comment'>#=&gt; &quot;HELLO&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L6165-L6171'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6165
6166
6167
6168
6169
6170
6171</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6165</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_upcase(int argc, VALUE *argv, VALUE str)
{
    str = rb_str_dup(str);
    rb_str_upcase_bang(argc, argv, str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="upcase!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>upcase!</strong>  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>upcase!</strong>([options])  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Upcases the contents of <em>str</em>, returning <code>nil</code> if no changes were
made.</p>

<p>See <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a> for meaning of <code>options</code> and use with different
encodings.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L6118-L6149'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6118
6119
6120
6121
6122
6123
6124
6125
6126
6127
6128
6129
6130
6131
6132
6133
6134
6135
6136
6137
6138
6139
6140
6141
6142
6143
6144
6145
6146
6147
6148
6149</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6118</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_upcase_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    rb_str_check_dummy_enc(enc);
    if ((flags&amp;ONIGENC_CASE_ASCII_ONLY) &amp;&amp; (enc==rb_utf8_encoding() || rb_enc_mbmaxlen(enc)==1)
	|| (!(flags&amp;ONIGENC_CASE_FOLD_TURKISH_AZERI) &amp;&amp; ENC_CODERANGE(str)==ENC_CODERANGE_7BIT)) {
        char *s = RSTRING_PTR(str), *send = RSTRING_END(str);

	while (s &lt; send) {
	    unsigned int c = *(unsigned char*)s;

	    if (rb_enc_isascii(c, enc) &amp;&amp; &#39;a&#39; &lt;= c &amp;&amp; c &lt;= &#39;z&#39;) {
		*s = &#39;A&#39; + (c - &#39;a&#39;);
		flags |= ONIGENC_CASE_MODIFIED;
	    }
	    s++;
	}
    }
    else if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, &amp;flags, enc);
    else
	str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="upto-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>upto</strong>(other_str, exclusive = false) {|s| ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>upto</strong>(other_str, exclusive = false)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Iterates through successive values, starting at <em>str</em> and ending at
<em>other_str</em> inclusive, passing each value in turn to the block. The
<a href="#succ-instance_method" title="String#succ (method)">#succ</a> method is used to generate each value.  If optional second
argument exclusive is omitted or is false, the last value will be included;
otherwise it will be excluded.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a8</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_upto'>upto</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b6</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span>
<span class='kw'>for</span> <span class='id identifier rubyid_s'>s</span> <span class='kw'>in</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a8</span><span class='tstring_end'>&quot;</span></span><span class='op'>..</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b6</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a8'>a8</span> <span class='id identifier rubyid_a9'>a9</span> <span class='id identifier rubyid_b0'>b0</span> <span class='id identifier rubyid_b1'>b1</span> <span class='id identifier rubyid_b2'>b2</span> <span class='id identifier rubyid_b3'>b3</span> <span class='id identifier rubyid_b4'>b4</span> <span class='id identifier rubyid_b5'>b5</span> <span class='id identifier rubyid_b6'>b6</span>
<span class='id identifier rubyid_a8'>a8</span> <span class='id identifier rubyid_a9'>a9</span> <span class='id identifier rubyid_b0'>b0</span> <span class='id identifier rubyid_b1'>b1</span> <span class='id identifier rubyid_b2'>b2</span> <span class='id identifier rubyid_b3'>b3</span> <span class='id identifier rubyid_b4'>b4</span> <span class='id identifier rubyid_b5'>b5</span> <span class='id identifier rubyid_b6'>b6</span></code></pre>

<p>If <em>str</em> and <em>other_str</em> contains only ascii numeric
characters, both are recognized as decimal numbers. In addition, the width
of string (e.g. leading zeros) is handled appropriately.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>9</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_upto'>upto</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>11</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>   <span class='comment'>#=&gt; [&quot;9&quot;, &quot;10&quot;, &quot;11&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>25</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_upto'>upto</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>5</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>   <span class='comment'>#=&gt; []
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>07</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_upto'>upto</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>11</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [&quot;07&quot;, &quot;08&quot;, &quot;09&quot;, &quot;10&quot;, &quot;11&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/trunk/string.c#L4077-L4085'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4077
4078
4079
4080
4081
4082
4083
4084
4085</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4077</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_upto(int argc, VALUE *argv, VALUE beg)
{
    VALUE end, exclusive;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;end, &amp;exclusive);
    RETURN_ENUMERATOR(beg, argc, argv);
    return str_upto_each(beg, end, RTEST(exclusive), str_upto_i, Qnil);
}
</pre>
  </div>
</div>
</section>


<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.8 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.9.0 (ruby-2.5.0p-1)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>