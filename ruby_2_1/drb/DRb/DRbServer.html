<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: DRb::DRbServer &mdash; drb  Ruby-2.1.10 p492</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "DRb::DRbServer",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
        <a href='../../../index.html'>Home</a> &raquo; 
        <a href='../../index.html'>Ruby-2.1.10</a> &raquo; 
        <a href='../index.html'>drb</a> &raquo; 
        <a href='../_index.html#alpha_D'>Index (D)</a> &raquo; 
        <a href="../DRb.html" title="DRb (module)">DRb</a> &raquo; 
        <span class='title'><a id='t2_doc_top' href='#'>DRbServer&nbsp;&#x25B2;</a></span>
      </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: DRb::DRbServer</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1247'>lib/drb/drb.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/invokemethod.rb#L4'>lib/drb/invokemethod.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Class representing a drb server instance.</p>

<p>A DRbServer must be running in the local process before any incoming dRuby
calls can be accepted, or any local objects can be passed as dRuby
references to remote processes, even if those local objects are never
actually called remotely. You do not need to start a <code>DRbServer</code>
in the local process if you are only making outgoing dRuby calls passing
marshalled parameters.</p>

<p>Unless multiple servers are being used, the local <code>DRbServer</code> is
normally started by calling <a href="../DRb.html#start_service-class_method" title="DRb.start_service (method)">start_service</a>.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='INSECURE_METHOD-constant' class='summary_signature'>INSECURE_METHOD =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>List of insecure methods.</p>

<p>These methods are not callable via dRuby.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1475-L1477'># File 'lib/drb/drb.rb', line 1475</a>    <pre class='code ruby'><span class='lbracket'>[</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid___send__'>__send__</span>
<span class='rbracket'>]</span></pre>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='class_Attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#verbose-class_method" title=".verbose (class method)">.<strong>verbose</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the default value of the :verbose option.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#verbose=-class_method" title=".verbose= (class method)">.<strong>verbose=</strong>(on)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the default value of the :verbose option.</p></div>
    </div>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#default_acl-class_method" title=".default_acl (class method)">.<strong>default_acl</strong>(acl)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the default access control list to <code>acl</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_argc_limit-class_method" title=".default_argc_limit (class method)">.<strong>default_argc_limit</strong>(argc)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the default value for the :argc_limit option.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_id_conv-class_method" title=".default_id_conv (class method)">.<strong>default_id_conv</strong>(idconv)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the default value for the :id_conv option.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_load_limit-class_method" title=".default_load_limit (class method)">.<strong>default_load_limit</strong>(sz)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the default value for the :load_limit option.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_safe_level-class_method" title=".default_safe_level (class method)">.<strong>default_safe_level</strong>(level)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the default safe level to <code>level</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(uri = nil, front = nil, config_or_acl = nil)  &#x21d2; DRbServer </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Create a new <code>DRbServer</code> instance.</p></div>
    </div>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='instance_Attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#verbose-instance_method" title="#verbose (instance method)">#<strong>verbose</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Get whether the server is in verbose mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#verbose=-instance_method" title="#verbose= (instance method)">#<strong>verbose=</strong>(v)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set whether to operate in verbose mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#alive%3F-instance_method" title="#alive? (instance method)">#<strong>alive?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Is this server alive?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#config-instance_method" title="#config (instance method)">#<strong>config</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The configuration of this <code>DRbServer</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#front-instance_method" title="#front (instance method)">#<strong>front</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The front object of the <code>DRbServer</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#safe_level-instance_method" title="#safe_level (instance method)">#<strong>safe_level</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The safe level for this server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#thread-instance_method" title="#thread (instance method)">#<strong>thread</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The main thread of this <code>DRbServer</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#uri-instance_method" title="#uri (instance method)">#<strong>uri</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The URI of this <code>DRbServer</code>.</p></div>
    </div>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='instance_Method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#check_insecure_method-instance_method" title="#check_insecure_method (instance method)">#<strong>check_insecure_method</strong>(obj, msg_id)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Check that a method is callable via dRuby.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#here%3F-instance_method" title="#here? (instance method)">#<strong>here?</strong>(uri)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Is <a href="#uri-instance_method" title="DRb::DRbServer#uri (method)">#uri</a> the URI for this server?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#main_loop-instance_method" title="#main_loop (instance method)">#<strong>main_loop</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The main loop performed by a DRbServer&#39;s internal thread.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#stop_service-instance_method" title="#stop_service (instance method)">#<strong>stop_service</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Stop this server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_id-instance_method" title="#to_id (instance method)">#<strong>to_id</strong>(obj)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Convert a local object to a dRuby reference.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_obj-instance_method" title="#to_obj (instance method)">#<strong>to_obj</strong>(ref)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Convert a dRuby reference to the local object it refers to.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#any_to_s-instance_method" title="#any_to_s (instance method)">#<strong>any_to_s</strong>(obj)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Coerce an object to a string, providing our own representation if to_s is
not defined for the object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#insecure_method%3F-instance_method" title="#insecure_method? (instance method)">#<strong>insecure_method?</strong>(msg_id)  &#x21d2; Boolean </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Has a method been included in the list of insecure methods?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#run-instance_method" title="#run (instance method)">#<strong>run</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Starts the <a href="../DRb.html" title="DRb (module)">::DRb</a> main loop in a new thread.</p></div>
    </div>
  </li>
</ul>
</div>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(uri = nil, front = nil, config_or_acl = nil)  &#x21d2; <code>DRbServer</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Create a new <code>DRbServer</code> instance.</p>

<p><a href="#uri-instance_method" title="DRb::DRbServer#uri (method)">#uri</a> is the URI to bind to.  This is normally of the form
&#39;druby://&lt;hostname&gt;:&lt;port&gt;&#39; where &lt;hostname&gt; is a
hostname of the local machine.  If nil, then the system&#39;s default
hostname will be bound to, on a port selected by the system; these value
can be retrieved from the <a href="#uri-instance_method" title="DRb::DRbServer#uri (method)">#uri</a> attribute.  &#39;druby:&#39; specifies the
default dRuby transport protocol: another protocol, such as
&#39;drbunix:&#39;, can be specified instead.</p>

<p><a href="#front-instance_method" title="DRb::DRbServer#front (method)">#front</a> is the front object for the server, that is, the object to which
remote method calls on the server will be passed.  If nil, then the server
will not accept remote method calls.</p>

<p>If <code>config_or_acl</code> is a hash, it is the configuration to use for this
server.  The following options are recognised:</p>
<dl class="rdoc-list note-list"><dt>:idconv 
<dd>
<p>an id-to-object conversion object.  This defaults to an instance of the
class DRb::DRbIdConv.</p>
</dd><dt>:verbose 
<dd>
<p>if true, all unsuccessful remote calls on objects in the server will be
logged to $stdout. false by default.</p>
</dd><dt>:tcp_acl 
<dd>
<p>the access control list for this server.  See the ACL class from the main
dRuby distribution.</p>
</dd><dt>:load_limit 
<dd>
<p>the maximum message size in bytes accepted by the server.  Defaults to 25
MB (26214400).</p>
</dd><dt>:argc_limit 
<dd>
<p>the maximum number of arguments to a remote method accepted by the server. 
Defaults to 256.</p>
</dd><dt>:safe_level 
<dd>
<p>The safe level of the <code>DRbServer</code>.  The attribute sets $SAFE for
methods performed in the main_loop. Defaults to 0.</p>
</dd></dl>

<p>The default values of these options can be modified on a class-wide basis
by the class methods <code>#default_argc_limit</code>, <code>#default_load_limit</code>,
<code>#default_acl</code>, <code>#default_id_conv</code>, and <a href="#verbose=-instance_method" title="DRb::DRbServer#verbose= (method)">#verbose=</a></p>

<p>If <code>config_or_acl</code> is not a hash, but is not nil, it is assumed to be the
access control list for this server. See the :tcp_acl option for more
details.</p>

<p>If no other server is currently set as the primary server, this will become
the primary server.</p>

<p>The server will immediately start running in its own thread.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1361-L1385'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1361
1362
1363
1364
1365
1366
1367
1368
1369
1370
1371
1372
1373
1374
1375
1376
1377
1378
1379
1380
1381
1382
1383
1384
1385</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1361</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_front'>front</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_config_or_acl'>config_or_acl</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='const'>Hash</span> <span class='op'>===</span> <span class='id identifier rubyid_config_or_acl'>config_or_acl</span>
    <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='id identifier rubyid_config_or_acl'>config_or_acl</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_acl'>acl</span> <span class='op'>=</span> <span class='id identifier rubyid_config_or_acl'>config_or_acl</span> <span class='op'>||</span> <span class='cvar'>@@acl</span>
    <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='lbrace'>{</span>
      <span class='symbeg'>:</span><span class='id identifier rubyid_tcp_acl'>tcp_acl</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_acl'>acl</span>
    <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='ivar'>@config</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_make_config'>make_config</span><span class='lparen'>(</span><span class='id identifier rubyid_config'>config</span><span class='rparen'>)</span>

  <span class='ivar'>@protocol</span> <span class='op'>=</span> <span class='const'><a href="DRbProtocol.html" title="DRb::DRbProtocol (module)">DRbProtocol</a></span><span class='period'>.</span><span class='id identifier rubyid_open_server'><a href="DRbProtocol.html#open_server-class_method" title="DRb::DRbProtocol.open_server (method)">open_server</a></span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='comma'>,</span> <span class='ivar'>@config</span><span class='rparen'>)</span>
  <span class='ivar'>@uri</span> <span class='op'>=</span> <span class='ivar'>@protocol</span><span class='period'>.</span><span class='id identifier rubyid_uri'>uri</span>
  <span class='ivar'>@exported_uri</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='ivar'>@uri</span><span class='rbracket'>]</span>

  <span class='ivar'>@front</span> <span class='op'>=</span> <span class='id identifier rubyid_front'>front</span>
  <span class='ivar'>@idconv</span> <span class='op'>=</span> <span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_idconv'>idconv</span><span class='rbracket'>]</span>
  <span class='ivar'>@safe_level</span> <span class='op'>=</span> <span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_safe_level'>safe_level</span><span class='rbracket'>]</span>

  <span class='ivar'>@grp</span> <span class='op'>=</span> <span class='const'>ThreadGroup</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@thread</span> <span class='op'>=</span> <span class='id identifier rubyid_run'>run</span>

  <span class='const'><a href="../DRb.html" title="DRb (module)">DRb</a></span><span class='period'>.</span><span class='id identifier rubyid_regist_server'><a href="../DRb.html#regist_server-class_method" title="DRb.regist_server (method)">regist_server</a></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="verbose-class_method">
  <h3 class='signature rw first'>
    .<strong>verbose</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the default value of the :verbose option.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1299-L1301'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1299
1300
1301</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1299</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_verbose'>verbose</span>
  <span class='cvar'>@@verbose</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verbose=-class_method">
  <h3 class='signature rw'>
    .<strong>verbose=</strong>(on)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the default value of the :verbose option.</p>

<p>See #new().  The initial default value is false.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1294-L1296'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1294
1295
1296</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1294</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_verbose='>verbose=</span><span class='lparen'>(</span><span class='id identifier rubyid_on'>on</span><span class='rparen'>)</span>
  <span class='cvar'>@@verbose</span> <span class='op'>=</span> <span class='id identifier rubyid_on'>on</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="default_acl-class_method">
  <h3 class='signature  first'>
    .<strong>default_acl</strong>(acl)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the default access control list to <code>acl</code>.  The default <a href="../ACL.html" title="ACL (class)">::ACL</a> is <code>nil</code>.</p>

<p>See also <code>DRb::ACL</code> and #new()</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1273-L1275'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1273
1274
1275</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1273</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_acl'>default_acl</span><span class='lparen'>(</span><span class='id identifier rubyid_acl'>acl</span><span class='rparen'>)</span>
  <span class='cvar'>@@acl</span> <span class='op'>=</span> <span class='id identifier rubyid_acl'>acl</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_argc_limit-class_method">
  <h3 class='signature '>
    .<strong>default_argc_limit</strong>(argc)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the default value for the :argc_limit option.</p>

<p>See #new().  The initial default value is 256.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1259-L1261'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1259
1260
1261</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1259</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_argc_limit'>default_argc_limit</span><span class='lparen'>(</span><span class='id identifier rubyid_argc'>argc</span><span class='rparen'>)</span>
  <span class='cvar'>@@argc_limit</span> <span class='op'>=</span> <span class='id identifier rubyid_argc'>argc</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_id_conv-class_method">
  <h3 class='signature '>
    .<strong>default_id_conv</strong>(idconv)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the default value for the :id_conv option.</p>

<p>See #new().  The initial default value is a <a href="DRbIdConv.html" title="DRb::DRbIdConv (class)">DRbIdConv</a> instance.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1280-L1282'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1280
1281
1282</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1280</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_id_conv'>default_id_conv</span><span class='lparen'>(</span><span class='id identifier rubyid_idconv'>idconv</span><span class='rparen'>)</span>
  <span class='cvar'>@@idconv</span> <span class='op'>=</span> <span class='id identifier rubyid_idconv'>idconv</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_load_limit-class_method">
  <h3 class='signature '>
    .<strong>default_load_limit</strong>(sz)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the default value for the :load_limit option.</p>

<p>See #new().  The initial default value is 25 MB.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1266-L1268'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1266
1267
1268</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1266</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_load_limit'>default_load_limit</span><span class='lparen'>(</span><span class='id identifier rubyid_sz'>sz</span><span class='rparen'>)</span>
  <span class='cvar'>@@load_limit</span> <span class='op'>=</span> <span class='id identifier rubyid_sz'>sz</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_safe_level-class_method">
  <h3 class='signature '>
    .<strong>default_safe_level</strong>(level)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the default safe level to <code>level</code>.  The default safe level is 0</p>

<p>See <code>#new</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1287-L1289'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1287
1288
1289</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1287</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_safe_level'>default_safe_level</span><span class='lparen'>(</span><span class='id identifier rubyid_level'>level</span><span class='rparen'>)</span>
  <span class='cvar'>@@safe_level</span> <span class='op'>=</span> <span class='id identifier rubyid_level'>level</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="alive?-instance_method">
  <h3 class='signature ro first'>
    #<strong>alive?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is this server alive?</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1423-L1425'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1423
1424
1425</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1423</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_alive?'>alive?</span>
  <span class='ivar'>@thread</span><span class='period'>.</span><span class='id identifier rubyid_alive?'>alive?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="config-instance_method">
  <h3 class='signature ro'>
    #<strong>config</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The configuration of this <code>DRbServer</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1404-L1404'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1404</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1404</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_config'>config</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="front-instance_method">
  <h3 class='signature ro'>
    #<strong>front</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The front object of the <code>DRbServer</code>.</p>

<p>This object receives remote method calls made on the server&#39;s URI
alone, with an object id.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1401-L1401'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1401</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1401</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_front'>front</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="safe_level-instance_method">
  <h3 class='signature ro'>
    #<strong>safe_level</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The safe level for this server.  This is a number corresponding to $SAFE.</p>

<p>The default safe_level is 0</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1410-L1410'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1410</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1410</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_safe_level'>safe_level</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="thread-instance_method">
  <h3 class='signature ro'>
    #<strong>thread</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The main thread of this <code>DRbServer</code>.</p>

<p>This is the thread that listens for and accepts connections from clients,
not that handles each client&#39;s request-response session.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1395-L1395'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1395</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1395</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_thread'>thread</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uri-instance_method">
  <h3 class='signature ro'>
    #<strong>uri</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The URI of this <code>DRbServer</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1388-L1388'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1388</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1388</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_uri'>uri</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verbose-instance_method">
  <h3 class='signature rw'>
    #<strong>verbose</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get whether the server is in verbose mode.</p>

<p>In verbose mode, failed calls are logged to stdout.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1420-L1420'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1420</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1420</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_verbose'>verbose</span><span class='semicolon'>;</span> <span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_verbose'>verbose</span><span class='rbracket'>]</span><span class='semicolon'>;</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verbose=-instance_method">
  <h3 class='signature rw'>
    #<strong>verbose=</strong>(v)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set whether to operate in verbose mode.</p>

<p>In verbose mode, failed calls are logged to stdout.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1415-L1415'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1415</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1415</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_verbose='>verbose=</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_verbose'>verbose</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_v'>v</span><span class='semicolon'>;</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="any_to_s-instance_method">
  <h3 class='signature priv first'>
    #<strong>any_to_s</strong>(obj)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Coerce an object to a string, providing our own representation if to_s is
not defined for the object.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1486-L1490'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1486
1487
1488
1489
1490</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1486</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_any_to_s'>any_to_s</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>rescue</span>
  <span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;%s:0x%lx&gt;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid___id__'>__id__</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check_insecure_method-instance_method">
  <h3 class='signature '>
    #<strong>check_insecure_method</strong>(obj, msg_id)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Check that a method is callable via dRuby.</p>

<p><code>obj</code> is the object we want to invoke the method on. <code>msg_id</code> is the method
name, as a Symbol.</p>

<p>If the method is an insecure method (see <a href="#insecure_method%3F-instance_method" title="DRb::DRbServer#insecure_method? (method)">#insecure_method?</a>) a
SecurityError is thrown.  If the method is private or undefined, a
NameError is thrown.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1500-L1514'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1500
1501
1502
1503
1504
1505
1506
1507
1508
1509
1510
1511
1512
1513
1514</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1500</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check_insecure_method'>check_insecure_method</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_msg_id'>msg_id</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='const'>Proc</span> <span class='op'>===</span> <span class='id identifier rubyid_obj'>obj</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_msg_id'>msg_id</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid___drb_yield'>__drb_yield</span>
  <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_any_to_s'>any_to_s</span><span class='lparen'>(</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not a symbol</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='const'>Symbol</span> <span class='op'>==</span> <span class='id identifier rubyid_msg_id'>msg_id</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span>
  <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='const'>SecurityError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>insecure method `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_insecure_method?'>insecure_method?</span><span class='lparen'>(</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_private_methods'>private_methods</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_desc'>desc</span> <span class='op'>=</span> <span class='id identifier rubyid_any_to_s'>any_to_s</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NoMethodError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>private method `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; called for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_desc'>desc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_protected_methods'>protected_methods</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_desc'>desc</span> <span class='op'>=</span> <span class='id identifier rubyid_any_to_s'>any_to_s</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NoMethodError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>protected method `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; called for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_desc'>desc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="here?-instance_method">
  <h3 class='signature '>
    #<strong>here?</strong>(uri)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is <a href="#uri-instance_method" title="DRb::DRbServer#uri (method)">#uri</a> the URI for this server?</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1428-L1430'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1428
1429
1430</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1428</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_here?'>here?</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
  <span class='ivar'>@exported_uri</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="insecure_method?-instance_method">
  <h3 class='signature priv'>
    #<strong>insecure_method?</strong>(msg_id)  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Has a method been included in the list of insecure methods?</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1480-L1482'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1480
1481
1482</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1480</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_insecure_method?'>insecure_method?</span><span class='lparen'>(</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='rparen'>)</span>
  <span class='const'><a href="#INSECURE_METHOD-constant" title="DRb::DRbServer::INSECURE_METHOD (constant)">INSECURE_METHOD</a></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="main_loop-instance_method">
  <h3 class='signature '>
    #<strong>main_loop</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The main loop performed by a DRbServer&#39;s internal thread.</p>

<p>Accepts a connection from a client, and starts up its own thread to handle
it.  This thread loops, receiving requests from the client, invoking them
on a local object, and returning responses, until the client closes the
connection or a local method call fails.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1613-L1643'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1613
1614
1615
1616
1617
1618
1619
1620
1621
1622
1623
1624
1625
1626
1627
1628
1629
1630
1631
1632
1633
1634
1635
1636
1637
1638
1639
1640
1641
1642
1643</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1613</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_main_loop'>main_loop</span>
  <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span><span class='ivar'>@protocol</span><span class='period'>.</span><span class='id identifier rubyid_accept'>accept</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_client'>client</span><span class='op'>|</span>
    <span class='ivar'>@grp</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span>
    <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>client</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_client'>client</span> <span class='comma'>,</span>
                              <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>server</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='kw'>self</span> <span class='rbrace'>}</span>
    <span class='const'><a href="../DRb.html" title="DRb (module)">DRb</a></span><span class='period'>.</span><span class='id identifier rubyid_mutex'><a href="../DRb.html#mutex-class_method" title="DRb.mutex (method)">mutex</a></span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_client_uri'>client_uri</span> <span class='op'>=</span> <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_uri'>uri</span>
      <span class='ivar'>@exported_uri</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_client_uri'>client_uri</span> <span class='kw'>unless</span> <span class='ivar'>@exported_uri</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_client_uri'>client_uri</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_succ'>succ</span> <span class='op'>=</span> <span class='kw'>false</span>
        <span class='id identifier rubyid_invoke_method'>invoke_method</span> <span class='op'>=</span> <span class='const'><a href="DRbServer/InvokeMethod.html" title="DRb::DRbServer::InvokeMethod (class)">InvokeMethod</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="DRbServer/InvokeMethod.html#new-class_method" title="DRb::DRbServer::InvokeMethod.new (method)">new</a></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_client'>client</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_succ'>succ</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_invoke_method'>invoke_method</span><span class='period'>.</span><span class='id identifier rubyid_perform'>perform</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_succ'>succ</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_verbose'>verbose</span>
          <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_result'>result</span>
          <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
            <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_x'>x</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_send_reply'>send_reply</span><span class='lparen'>(</span><span class='id identifier rubyid_succ'>succ</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='kw'>nil</span>
      <span class='kw'>ensure</span>
        <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span> <span class='kw'>unless</span> <span class='id identifier rubyid_succ'>succ</span>
        <span class='kw'>if</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stop_service</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
          <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_stop_service'>stop_service</span> <span class='rbrace'>}</span>
        <span class='kw'>end</span>
        <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_succ'>succ</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run-instance_method">
  <h3 class='signature priv'>
    #<strong>run</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Starts the <a href="../DRb.html" title="DRb (module)">::DRb</a> main loop in a new thread.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1460-L1470'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1460
1461
1462
1463
1464
1465
1466
1467
1468
1469
1470</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1460</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_run'>run</span>
  <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span> <span class='kw'>do</span>
    <span class='kw'>begin</span>
      <span class='kw'>while</span> <span class='kw'>true</span>
        <span class='id identifier rubyid_main_loop'>main_loop</span>
      <span class='kw'>end</span>
    <span class='kw'>ensure</span>
      <span class='ivar'>@protocol</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span> <span class='kw'>if</span> <span class='ivar'>@protocol</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="stop_service-instance_method">
  <h3 class='signature '>
    #<strong>stop_service</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Stop this server.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1433-L1440'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1433
1434
1435
1436
1437
1438
1439
1440</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1433</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_stop_service'>stop_service</span>
  <span class='const'><a href="../DRb.html" title="DRb (module)">DRb</a></span><span class='period'>.</span><span class='id identifier rubyid_remove_server'><a href="../DRb.html#remove_server-class_method" title="DRb.remove_server (method)">remove_server</a></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='kw'>if</span>  <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>server</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>self</span>
    <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stop_service</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='ivar'>@thread</span><span class='period'>.</span><span class='id identifier rubyid_kill'>kill</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_id-instance_method">
  <h3 class='signature '>
    #<strong>to_id</strong>(obj)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Convert a local object to a dRuby reference.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1450-L1453'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1450
1451
1452
1453</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1450</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_id'>to_id</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid___id__'>__id__</span> <span class='op'>==</span> <span class='id identifier rubyid_front'>front</span><span class='period'>.</span><span class='id identifier rubyid___id__'>__id__</span>
  <span class='ivar'>@idconv</span><span class='period'>.</span><span class='id identifier rubyid_to_id'>to_id</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_obj-instance_method">
  <h3 class='signature '>
    #<strong>to_obj</strong>(ref)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Convert a dRuby reference to the local object it refers to.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/drb/drb.rb#L1443-L1447'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1443
1444
1445
1446
1447</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1443</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_obj'>to_obj</span><span class='lparen'>(</span><span class='id identifier rubyid_ref'>ref</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_front'>front</span> <span class='kw'>if</span> <span class='id identifier rubyid_ref'>ref</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_front'>front</span><span class='lbracket'>[</span><span class='id identifier rubyid_ref'>ref</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='const'><a href="DRbURIOption.html" title="DRb::DRbURIOption (class)">DRbURIOption</a></span> <span class='op'>===</span> <span class='id identifier rubyid_ref'>ref</span>
  <span class='ivar'>@idconv</span><span class='period'>.</span><span class='id identifier rubyid_to_obj'>to_obj</span><span class='lparen'>(</span><span class='id identifier rubyid_ref'>ref</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.8 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.9.0 (ruby-2.5.0p-1)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>