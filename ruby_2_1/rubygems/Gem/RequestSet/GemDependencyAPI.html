<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Gem::RequestSet::GemDependencyAPI &mdash; rubygems  Ruby-2.1.10 p492</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Gem::RequestSet::GemDependencyAPI",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
        <a href='../../../../index.html'>Home</a> &raquo; 
        <a href='../../../index.html'>Ruby-2.1.10</a> &raquo; 
        <a href='../../index.html'>rubygems</a> &raquo; 
        <a href='../../_index.html#alpha_G'>Index (G)</a> &raquo; 
        <a href="../../Gem.html" title="Gem (module)">Gem</a> &raquo; 
        <a href="../RequestSet.html" title="Gem::RequestSet (class)">RequestSet</a> &raquo; 
        <span class='title'><a id='t2_doc_top' href='#'>GemDependencyAPI&nbsp;&#x25B2;</a></span>
      </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Gem::RequestSet::GemDependencyAPI</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/rubygems/request_set/gem_dependency_api.rb#L4'>lib/rubygems/request_set/gem_dependency_api.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>A semi-compatible DSL for the Bundler Gemfile and Isolate formats.</p>

  </div>
</div>
</div>
<h2 class='h2_sum'>Gem Dependencies DSL</h2>
<div>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#gem-instance_method" title="#gem (instance method)">#<strong>gem</strong>(name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Specifies a gem dependency with the given <code>name</code> and <code>requirements</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#gemspec-instance_method" title="#gemspec (instance method)">#<strong>gemspec</strong>(options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Loads dependencies from a gemspec file.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#git-instance_method" title="#git (instance method)">#<strong>git</strong>(repository)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Block form for specifying gems from a git <code>repository</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#group-instance_method" title="#group (instance method)">#<strong>group</strong>(*groups)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Block form for placing a dependency in the given <code>groups</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#pin_gem_source-instance_method" title="#pin_gem_source (instance method)">#<strong>pin_gem_source</strong>(name, type = :default, source = nil)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Pins the gem <code>name</code> to the given <a href="#source-instance_method" title="Gem::RequestSet::GemDependencyAPI#source (method)">#source</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#platform-instance_method" title="#platform (instance method)">#<strong>platform</strong>(what)  </a>
      (also: #platforms)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Block form for restricting gems to a particular platform.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#platforms-instance_method" title="#platforms (instance method)">#<strong>platforms</strong>(what)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#platform-instance_method" title="Gem::RequestSet::GemDependencyAPI#platform (method)">#platform</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ruby-instance_method" title="#ruby (instance method)">#<strong>ruby</strong>(version, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Restricts this gem dependencies file to the given ruby <code>version</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#source-instance_method" title="#source (instance method)">#<strong>source</strong>(url)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets <code>url</code> as a source for gems for this dependency API.</p></div>
    </div>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(set, path)  &#x21d2; GemDependencyAPI </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new <code>GemDependencyAPI</code> that will add dependencies to
the <a href="../RequestSet.html" title="Gem::RequestSet (class)">::Gem::RequestSet</a> <code>set</code> based on the dependency API description in
<a href="../../Gem.html#path-class_method" title="Gem.path (method)">Gem.path</a>.</p></div>
    </div>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='instance_Method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#load-instance_method" title="#load (instance method)">#<strong>load</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Loads the gem dependency file.</p></div>
    </div>
  </li>
</ul>
</div>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(set, path)  &#x21d2; <code>GemDependencyAPI</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new <code>GemDependencyAPI</code> that will add dependencies to
the <a href="../RequestSet.html" title="Gem::RequestSet (class)">::Gem::RequestSet</a> <code>set</code> based on the dependency API description in
<a href="../../Gem.html#path-class_method" title="Gem.path (method)">Gem.path</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/rubygems/request_set/gem_dependency_api.rb#L134-L147'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


134
135
136
137
138
139
140
141
142
143
144
145
146
147</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 134</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span> <span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span>
  <span class='ivar'>@set</span> <span class='op'>=</span> <span class='id identifier rubyid_set'>set</span>
  <span class='ivar'>@path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>

  <span class='ivar'>@current_groups</span>     <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@current_platform</span>   <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@current_repository</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@default_sources</span>    <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@git_set</span>            <span class='op'>=</span> <span class='ivar'>@set</span><span class='period'>.</span><span class='id identifier rubyid_git_set'>git_set</span>
  <span class='ivar'>@requires</span>           <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
  <span class='ivar'>@vendor_set</span>         <span class='op'>=</span> <span class='ivar'>@set</span><span class='period'>.</span><span class='id identifier rubyid_vendor_set'>vendor_set</span>
  <span class='ivar'>@gem_sources</span>        <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@without_groups</span>     <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="gem-instance_method">
  <h3 class='signature  first'>
    <div class='inline-block'>
      <span class='overload'>#<strong>gem</strong>(name)  </span>
      <span class='overload'>#<strong>gem</strong>(name, *requirements)  </span>
      <span class='overload'>#<strong>gem</strong>(name, *requirements, options)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Specifies a gem dependency with the given <code>name</code> and <code>requirements</code>.  You
may also supply <code>options</code> following the <code>requirements</code></p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/rubygems/request_set/gem_dependency_api.rb#L206-L229'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 206</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_gem'>gem</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_requirements'>requirements</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='kw'>if</span> <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_git'>git</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@current_repository</span> <span class='kw'>if</span> <span class='ivar'>@current_repository</span>

  <span class='id identifier rubyid_source_set'>source_set</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_source_set'>source_set</span> <span class='op'>||=</span> <span class='id identifier rubyid_gem_path'>gem_path</span>   <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_source_set'>source_set</span> <span class='op'>||=</span> <span class='id identifier rubyid_gem_git'>gem_git</span>    <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_source_set'>source_set</span> <span class='op'>||=</span> <span class='id identifier rubyid_gem_github'>gem_github</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_gem_platforms'>gem_platforms</span> <span class='id identifier rubyid_options'>options</span>

  <span class='id identifier rubyid_groups'>groups</span> <span class='op'>=</span> <span class='id identifier rubyid_gem_group'>gem_group</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_groups'>groups</span> <span class='op'>&amp;</span> <span class='ivar'>@without_groups</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_pin_gem_source'>pin_gem_source</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span> <span class='kw'>unless</span> <span class='id identifier rubyid_source_set'>source_set</span>

  <span class='id identifier rubyid_gem_requires'>gem_requires</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>

  <span class='ivar'>@set</span><span class='period'>.</span><span class='id identifier rubyid_gem'>gem</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_requirements'>requirements</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gemspec-instance_method">
  <h3 class='signature '>
    #<strong>gemspec</strong>(options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Loads dependencies from a gemspec file.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/rubygems/request_set/gem_dependency_api.rb#L387-L403'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 387</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_gemspec'>gemspec</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_name'>name</span>              <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>{,*}</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_path'>path</span>              <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_development_group'>development_group</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_development_group'>development_group</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='symbeg'>:</span><span class='id identifier rubyid_development'>development</span>

  <span class='id identifier rubyid_spec'>spec</span> <span class='op'>=</span> <span class='id identifier rubyid_find_gemspec'>find_gemspec</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span>

  <span class='id identifier rubyid_groups'>groups</span> <span class='op'>=</span> <span class='id identifier rubyid_gem_group'>gem_group</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='id identifier rubyid_add_dependencies'>add_dependencies</span> <span class='id identifier rubyid_groups'>groups</span><span class='comma'>,</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_runtime_dependencies'>runtime_dependencies</span>

  <span class='id identifier rubyid_groups'>groups</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_development_group'>development_group</span>

  <span class='id identifier rubyid_add_dependencies'>add_dependencies</span> <span class='id identifier rubyid_groups'>groups</span><span class='comma'>,</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_development_dependencies'>development_dependencies</span>

  <span class='id identifier rubyid_gem_requires'>gem_requires</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="git-instance_method">
  <h3 class='signature '>
    #<strong>git</strong>(repository)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Block form for specifying gems from a git <code>repository</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/rubygems/request_set/gem_dependency_api.rb#L366-L373'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


366
367
368
369
370
371
372
373</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 366</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_git'>git</span> <span class='id identifier rubyid_repository'>repository</span>
  <span class='ivar'>@current_repository</span> <span class='op'>=</span> <span class='id identifier rubyid_repository'>repository</span>

  <span class='kw'>yield</span>

<span class='kw'>ensure</span>
  <span class='ivar'>@current_repository</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="group-instance_method">
  <h3 class='signature '>
    #<strong>group</strong>(*groups)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Block form for placing a dependency in the given <code>groups</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/rubygems/request_set/gem_dependency_api.rb#L409-L416'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


409
410
411
412
413
414
415
416</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 409</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_group'>group</span> <span class='op'>*</span><span class='id identifier rubyid_groups'>groups</span>
  <span class='ivar'>@current_groups</span> <span class='op'>=</span> <span class='id identifier rubyid_groups'>groups</span>

  <span class='kw'>yield</span>

<span class='kw'>ensure</span>
  <span class='ivar'>@current_groups</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load-instance_method">
  <h3 class='signature '>
    #<strong>load</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Loads the gem dependency file</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/rubygems/request_set/gem_dependency_api.rb#L192-L194'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


192
193
194</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 192</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load'>load</span>
  <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='ivar'>@path</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_untaint'>untaint</span><span class='comma'>,</span> <span class='ivar'>@path</span><span class='comma'>,</span> <span class='int'>1</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pin_gem_source-instance_method">
  <h3 class='signature priv'>
    #<strong>pin_gem_source</strong>(name, type = :default, source = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Pins the gem <code>name</code> to the given <a href="#source-instance_method" title="Gem::RequestSet::GemDependencyAPI#source (method)">#source</a>.  Adding a gem with the same name
from a different <a href="#source-instance_method" title="Gem::RequestSet::GemDependencyAPI#source (method)">#source</a> will raise an exception.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/rubygems/request_set/gem_dependency_api.rb#L422-L436'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


422
423
424
425
426
427
428
429
430
431
432
433
434
435
436</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 422</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pin_gem_source'>pin_gem_source</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span><span class='comma'>,</span> <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_source_description'>source_description</span> <span class='op'>=</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(default)</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_path'>path</span>    <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_source'>source</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_git'>git</span>     <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_source'>source</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>               <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(unknown)</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>duplicate source </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_source_description'>source_description</span><span class='embexpr_end'>}</span><span class='tstring_content'> for gem </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span>
      <span class='ivar'>@gem_sources</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_source'>source</span><span class='rparen'>)</span> <span class='op'>!=</span> <span class='id identifier rubyid_source'>source</span>

  <span class='ivar'>@gem_sources</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="platform-instance_method">
  <h3 class='signature '>
    #<strong>platform</strong>(what)  
    <span class='aliases'>Also known as: <span class='names'>#platforms</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Block form for restricting gems to a particular platform.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/rubygems/request_set/gem_dependency_api.rb#L445-L452'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


445
446
447
448
449
450
451
452</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 445</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_platform'>platform</span> <span class='id identifier rubyid_what'>what</span>
  <span class='ivar'>@current_platform</span> <span class='op'>=</span> <span class='id identifier rubyid_what'>what</span>

  <span class='kw'>yield</span>

<span class='kw'>ensure</span>
  <span class='ivar'>@current_platform</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="platforms-instance_method">
  <h3 class='signature '>
    #<strong>platforms</strong>(what)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#platform-instance_method" title="Gem::RequestSet::GemDependencyAPI#platform (method)">#platform</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/rubygems/request_set/gem_dependency_api.rb#L459-L459'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


459</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 459</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_platforms'>platforms</span> <span class='symbeg'>:</span><span class='id identifier rubyid_platform'>platform</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ruby-instance_method">
  <h3 class='signature '>
    #<strong>ruby</strong>(version, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Restricts this gem dependencies file to the given ruby <code>version</code>.  The
<code>:engine</code> options from Bundler are currently ignored.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/rubygems/request_set/gem_dependency_api.rb#L466-L501'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 466</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ruby'>ruby</span> <span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_engine'>engine</span>         <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_engine'>engine</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_engine_version'>engine_version</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_engine_version'>engine_version</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>you must specify engine_version along with the ruby engine</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span>
          <span class='id identifier rubyid_engine'>engine</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_engine_version'>engine_version</span>

  <span class='kw'>unless</span> <span class='const'>RUBY_VERSION</span> <span class='op'>==</span> <span class='id identifier rubyid_version'>version</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your Ruby version is </span><span class='embexpr_beg'>#{</span><span class='const'>RUBY_VERSION</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
              <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>but your </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_deps_file'>gem_deps_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> requires </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../RubyVersionMismatch.html" title="Gem::RubyVersionMismatch (class)">RubyVersionMismatch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_engine'>engine</span> <span class='kw'>and</span> <span class='id identifier rubyid_engine'>engine</span> <span class='op'>!=</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_ruby_engine'><a href="../../Gem.html#ruby_engine-class_method" title="Gem.ruby_engine (method)">ruby_engine</a></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your ruby engine is </span><span class='embexpr_beg'>#{</span><span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_ruby_engine'><a href="../../Gem.html#ruby_engine-class_method" title="Gem.ruby_engine (method)">ruby_engine</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
              <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>but your </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_deps_file'>gem_deps_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> requires </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_engine'>engine</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../RubyVersionMismatch.html" title="Gem::RubyVersionMismatch (class)">RubyVersionMismatch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_engine_version'>engine_version</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_my_engine_version'>my_engine_version</span> <span class='op'>=</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_ruby_engine'><a href="../../Gem.html#ruby_engine-class_method" title="Gem.ruby_engine (method)">ruby_engine</a></span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='embexpr_end'>}</span><span class='tstring_content'>_VERSION</span><span class='tstring_end'>&quot;</span></span>

    <span class='kw'>if</span> <span class='id identifier rubyid_engine_version'>engine_version</span> <span class='op'>!=</span> <span class='id identifier rubyid_my_engine_version'>my_engine_version</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your ruby engine version is </span><span class='embexpr_beg'>#{</span><span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_ruby_engine'><a href="../../Gem.html#ruby_engine-class_method" title="Gem.ruby_engine (method)">ruby_engine</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_my_engine_version'>my_engine_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>but your </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_deps_file'>gem_deps_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> requires </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_engine'>engine</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_engine_version'>engine_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../RubyVersionMismatch.html" title="Gem::RubyVersionMismatch (class)">RubyVersionMismatch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="source-instance_method">
  <h3 class='signature '>
    #<strong>source</strong>(url)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets <code>url</code> as a source for gems for this dependency API.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_1_10/lib/rubygems/request_set/gem_dependency_api.rb#L508-L514'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


508
509
510
511
512
513
514</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 508</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_source'>source</span> <span class='id identifier rubyid_url'>url</span>
  <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_sources'><a href="../../Gem.html#sources-class_method" title="Gem.sources (method)">sources</a></span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span> <span class='kw'>if</span> <span class='ivar'>@default_sources</span>

  <span class='ivar'>@default_sources</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_sources'><a href="../../Gem.html#sources-class_method" title="Gem.sources (method)">sources</a></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_url'>url</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.8 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.9.0 (ruby-2.5.0p-1)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>