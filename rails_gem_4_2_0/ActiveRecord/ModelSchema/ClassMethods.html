<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActiveRecord::ModelSchema::ClassMethods &mdash; Rails-4.2.0</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActiveRecord::ModelSchema::ClassMethods",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
        <a href='../../../index.html'>Home</a> &raquo; 
        <a href='../../index.html'>Rails-4.2.0</a> &raquo; 
        <a href='../../_index.html#alpha_C'>Index (C)</a> &raquo; 
        <a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a> &raquo; 
        <a href="../ModelSchema.html" title="ActiveRecord::ModelSchema (module)">ModelSchema</a> &raquo; 
        <span class='title'><a id='t2_doc_top' href='#'>ClassMethods&nbsp;&#x25B2;</a></span>
      </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActiveRecord::ModelSchema::ClassMethods</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Extended In:</div>
      <div class='box_11'>
        <a href="../Base.html" title="ActiveRecord::Base (class)">::ActiveRecord::Base</a>,
          <a href="../SchemaMigration.html" title="ActiveRecord::SchemaMigration (class)">::ActiveRecord::SchemaMigration</a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/v4.2.0/activerecord/lib/active_record/model_schema.rb#L69'>activerecord/lib/active_record/model_schema.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>        

<h2 class='h2_sum' id='instance_Attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#inheritance_column-instance_method" title="#inheritance_column (instance method)">#<strong>inheritance_column</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Defines the name of the table column which will store the class name on
single-table inheritance situations.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#inheritance_column=-instance_method" title="#inheritance_column= (instance method)">#<strong>inheritance_column=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the value of inheritance_column.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#sequence_name-instance_method" title="#sequence_name (instance method)">#<strong>sequence_name</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#sequence_name=-instance_method" title="#sequence_name= (instance method)">#<strong>sequence_name=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the name of the sequence to use when generating ids to the given
value, or (if the value is nil or false) to the value returned by the given
block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#table_name-instance_method" title="#table_name (instance method)">#<strong>table_name</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Guesses the table name (in forced lower-case) based on the name of the
class in the inheritance hierarchy descending directly from
<a href="../Base.html" title="ActiveRecord::Base (class)">::ActiveRecord::Base</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#table_name=-instance_method" title="#table_name= (instance method)">#<strong>table_name=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the table name explicitly.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#table_exists%3F-instance_method" title="#table_exists? (instance method)">#<strong>table_exists?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Indicates whether the table associated with this class exists.</p></div>
    </div>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='instance_Method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#column_defaults-instance_method" title="#column_defaults (instance method)">#<strong>column_defaults</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a hash where the keys are column names and the values are default
values when instantiating the AR object for this table.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#column_names-instance_method" title="#column_names (instance method)">#<strong>column_names</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of column names as strings.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#content_columns-instance_method" title="#content_columns (instance method)">#<strong>content_columns</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of column objects where the primary id, all columns ending
in "_id" or "_count", and columns used for single table inheritance have
been removed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#quoted_table_name-instance_method" title="#quoted_table_name (instance method)">#<strong>quoted_table_name</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a quoted version of the table name, used to construct SQL
statements.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reset_column_information-instance_method" title="#reset_column_information (instance method)">#<strong>reset_column_information</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Resets all the cached information about columns, which will cause them to
be reloaded on the next request.</p></div>
    </div>
  </li>
</ul>
</div>
<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="inheritance_column-instance_method">
  <h3 class='signature rw first'>
    #<strong>inheritance_column</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Defines the name of the table column which will store the class name on
single-table inheritance situations.</p>

<p>The default inheritance column name is <code>type</code>, which means it&#39;s a
reserved word inside Active Record. To be able to use single-table
inheritance with another column name, or to use the column <code>type</code> in your
own model for something else, you can set <code>inheritance_column</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inheritance_column'>inheritance_column</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zoink</span><span class='tstring_end'>&#39;</span></span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.0/activerecord/lib/active_record/model_schema.rb#L186-L188'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


186
187
188</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/model_schema.rb', line 186</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inheritance_column'>inheritance_column</span>
  <span class='lparen'>(</span><span class='ivar'>@inheritance_column</span> <span class='op'>||=</span> <span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_inheritance_column'>inheritance_column</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inheritance_column=-instance_method">
  <h3 class='signature rw'>
    #<strong>inheritance_column=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the value of inheritance_column</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.0/activerecord/lib/active_record/model_schema.rb#L191-L194'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


191
192
193
194</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/model_schema.rb', line 191</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inheritance_column='>inheritance_column=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='ivar'>@inheritance_column</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='ivar'>@explicit_inheritance_column</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sequence_name-instance_method">
  <h3 class='signature rw'>
    #<strong>sequence_name</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.0/activerecord/lib/active_record/model_schema.rb#L196-L202'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


196
197
198
199
200
201
202</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/model_schema.rb', line 196</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sequence_name'>sequence_name</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_base_class'>base_class</span> <span class='op'>==</span> <span class='kw'>self</span>
    <span class='ivar'>@sequence_name</span> <span class='op'>||=</span> <span class='id identifier rubyid_reset_sequence_name'>reset_sequence_name</span>
  <span class='kw'>else</span>
    <span class='lparen'>(</span><span class='ivar'>@sequence_name</span> <span class='op'>||=</span> <span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_base_class'>base_class</span><span class='period'>.</span><span class='id identifier rubyid_sequence_name'>sequence_name</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sequence_name=-instance_method">
  <h3 class='signature rw'>
    #<strong>sequence_name=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the name of the sequence to use when generating ids to the given
value, or (if the value is nil or false) to the value returned by the given
block. This is required for Oracle and is useful for any database which
relies on sequences for primary key generation.</p>

<p>If a sequence name is not explicitly set when using Oracle, it will default
to the commonly used pattern of: #<a href="#table_name-instance_method" title="ActiveRecord::ModelSchema::ClassMethods#table_name (method)">#table_name</a>_seq</p>

<p>If a sequence name is not explicitly set when using PostgreSQL, it will
discover the sequence corresponding to your primary key for you.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Project</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sequence_name'>sequence_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>projectseq</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'># default would have been &quot;project_seq&quot;
</span><span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.0/activerecord/lib/active_record/model_schema.rb#L223-L226'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


223
224
225
226</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/model_schema.rb', line 223</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sequence_name='>sequence_name=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='ivar'>@sequence_name</span>          <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='ivar'>@explicit_sequence_name</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="table_exists?-instance_method">
  <h3 class='signature ro'>
    #<strong>table_exists?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Indicates whether the table associated with this class exists</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.0/activerecord/lib/active_record/model_schema.rb#L229-L231'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


229
230
231</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/model_schema.rb', line 229</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_table_exists?'>table_exists?</span>
  <span class='id identifier rubyid_connection'>connection</span><span class='period'>.</span><span class='id identifier rubyid_schema_cache'>schema_cache</span><span class='period'>.</span><span class='id identifier rubyid_table_exists?'>table_exists?</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="table_name-instance_method">
  <h3 class='signature rw'>
    #<strong>table_name</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Guesses the table name (in forced lower-case) based on the name of the
class in the inheritance hierarchy descending directly from
<a href="../Base.html" title="ActiveRecord::Base (class)">::ActiveRecord::Base</a>. So if the hierarchy looks like: Reply &lt; Message
&lt; <a href="../Base.html" title="ActiveRecord::Base (class)">::ActiveRecord::Base</a>, then Message is used to guess the table name
even when called on Reply. The rules used to do the guess are handled by
the Inflector class in Active Support, which knows almost all common
English inflections. You can add new inflections in
config/initializers/inflections.rb.</p>

<p>Nested classes are given table names prefixed by the singular form of the
parent&#39;s table name. Enclosing modules are not considered.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby">class Invoice &lt; ActiveRecord::Base
end

file                  class               table_name
invoice.rb            Invoice             invoices

class Invoice &lt; ActiveRecord::Base
  class Lineitem &lt; ActiveRecord::Base
  end
end

file                  class               table_name
invoice.rb            Invoice::Lineitem   invoice_lineitems

module Invoice
  class Lineitem &lt; ActiveRecord::Base
  end
end

file                  class               table_name
invoice/lineitem.rb   Invoice::Lineitem   lineitems</code></pre>

<p>Additionally, the class-level <code>table_name_prefix</code> is prepended and the
<code>table_name_suffix</code> is appended. So if you have "myapp_" as a prefix, the
table name guess for an Invoice class becomes "myapp_invoices".
<code>Invoice::Lineitem</code> becomes "myapp_invoice_lineitems".</p>

<p>You can also set your own table name explicitly:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Mouse</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_table_name'>table_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mice</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>

<p>Alternatively, you can override the table_name method to define your own
computation. (Possibly using <code>super</code> to manipulate the default table name.)
Example:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Post</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_table_name'>table_name</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>special_</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='kw'>super</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
<span class='const'>Post</span><span class='period'>.</span><span class='id identifier rubyid_table_name'>table_name</span> <span class='comment'># =&gt; &quot;special_posts&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.0/activerecord/lib/active_record/model_schema.rb#L125-L128'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


125
126
127
128</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/model_schema.rb', line 125</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_table_name'>table_name</span>
  <span class='id identifier rubyid_reset_table_name'>reset_table_name</span> <span class='kw'>unless</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='ivar'>@table_name</span><span class='rparen'>)</span>
  <span class='ivar'>@table_name</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="table_name=-instance_method">
  <h3 class='signature rw'>
    #<strong>table_name=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the table name explicitly. Example:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Project</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_table_name'>table_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>project</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>

<p>You can also just define your own <code>self.table_name</code> method; see
the documentation for <code>ActiveRecord::Base#table_name</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.0/activerecord/lib/active_record/model_schema.rb#L138-L151'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


138
139
140
141
142
143
144
145
146
147
148
149
150
151</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/model_schema.rb', line 138</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_table_name='>table_name=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>

  <span class='kw'>if</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='ivar'>@table_name</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>==</span> <span class='ivar'>@table_name</span>
    <span class='id identifier rubyid_reset_column_information'>reset_column_information</span> <span class='kw'>if</span> <span class='id identifier rubyid_connected?'>connected?</span>
  <span class='kw'>end</span>

  <span class='ivar'>@table_name</span>        <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@quoted_table_name</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@arel_table</span>        <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@sequence_name</span>     <span class='op'>=</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='ivar'>@explicit_sequence_name</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@explicit_sequence_name</span>
  <span class='ivar'>@relation</span>          <span class='op'>=</span> <span class='const'><a href="../Relation.html" title="ActiveRecord::Relation (class)">Relation</a></span><span class='period'>.</span><span class='id identifier rubyid_create'><a href="../Relation.html#create-instance_method" title="ActiveRecord::Relation#create (method)">create</a></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_arel_table'>arel_table</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="column_defaults-instance_method">
  <h3 class='signature  first'>
    #<strong>column_defaults</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a hash where the keys are column names and the values are default
values when instantiating the AR object for this table.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.0/activerecord/lib/active_record/model_schema.rb#L249-L251'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


249
250
251</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/model_schema.rb', line 249</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_column_defaults'>column_defaults</span>
  <span class='id identifier rubyid__default_attributes'>_default_attributes</span><span class='period'>.</span><span class='id identifier rubyid_to_hash'>to_hash</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="column_names-instance_method">
  <h3 class='signature '>
    #<strong>column_names</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of column names as strings.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.0/activerecord/lib/active_record/model_schema.rb#L259-L261'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


259
260
261</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/model_schema.rb', line 259</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_column_names'>column_names</span>
  <span class='ivar'>@column_names</span> <span class='op'>||=</span> <span class='id identifier rubyid_columns'>columns</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_column'>column</span><span class='op'>|</span> <span class='id identifier rubyid_column'>column</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="content_columns-instance_method">
  <h3 class='signature '>
    #<strong>content_columns</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of column objects where the primary id, all columns ending
in "_id" or "_count", and columns used for single table inheritance have
been removed.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.0/activerecord/lib/active_record/model_schema.rb#L265-L267'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


265
266
267</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/model_schema.rb', line 265</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_content_columns'>content_columns</span>
  <span class='ivar'>@content_columns</span> <span class='op'>||=</span> <span class='id identifier rubyid_columns'>columns</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='id identifier rubyid_primary_key'>primary_key</span> <span class='op'>||</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(_id|_count)$</span><span class='regexp_end'>/</span></span> <span class='op'>||</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='id identifier rubyid_inheritance_column'>inheritance_column</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quoted_table_name-instance_method">
  <h3 class='signature '>
    #<strong>quoted_table_name</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a quoted version of the table name, used to construct SQL
statements.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.0/activerecord/lib/active_record/model_schema.rb#L154-L156'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


154
155
156</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/model_schema.rb', line 154</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quoted_table_name'>quoted_table_name</span>
  <span class='ivar'>@quoted_table_name</span> <span class='op'>||=</span> <span class='id identifier rubyid_connection'>connection</span><span class='period'>.</span><span class='id identifier rubyid_quote_table_name'>quote_table_name</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reset_column_information-instance_method">
  <h3 class='signature '>
    #<strong>reset_column_information</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Resets all the cached information about columns, which will cause them to
be reloaded on the next request.</p>

<p>The most common usage pattern for this method is probably in a migration,
when just after creating a table you want to populate it with some default
values, eg:</p>

<pre class="code ruby"><code class="ruby">class CreateJobLevels &lt; {ActiveRecord::Migration}
  def up
    create_table :job_levels do |t|
      t.integer :id
      t.string :name

      t.timestamps
    end

    JobLevel.reset_column_information
    %w{assistant executive manager director}.each do |type|
      JobLevel.create(name: type)
    end
  end

  def down
    drop_table :job_levels
  end
end</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.0/activerecord/lib/active_record/model_schema.rb#L295-L307'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


295
296
297
298
299
300
301
302
303
304
305
306
307</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/model_schema.rb', line 295</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reset_column_information'>reset_column_information</span>
  <span class='id identifier rubyid_connection'>connection</span><span class='period'>.</span><span class='id identifier rubyid_clear_cache!'>clear_cache!</span>
  <span class='id identifier rubyid_undefine_attribute_methods'>undefine_attribute_methods</span>
  <span class='id identifier rubyid_connection'>connection</span><span class='period'>.</span><span class='id identifier rubyid_schema_cache'>schema_cache</span><span class='period'>.</span><span class='id identifier rubyid_clear_table_cache!'>clear_table_cache!</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_table_exists?'>table_exists?</span>

  <span class='ivar'>@arel_engine</span>        <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@column_names</span>       <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@column_types</span>       <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@content_columns</span>    <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@default_attributes</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@inheritance_column</span> <span class='op'>=</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='ivar'>@explicit_inheritance_column</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@explicit_inheritance_column</span>
  <span class='ivar'>@relation</span>           <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.8 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.9.0 (ruby-2.5.0p-1)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>