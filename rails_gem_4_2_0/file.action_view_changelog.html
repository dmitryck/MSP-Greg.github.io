<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: Action View Changelog &mdash; Rails-4.2.0</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../css/common.css' />

<script type='text/javascript'>
  var pathId = "action_view_changelog",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
        <a href='../index.html'>Home</a> &raquo; 
        <a href='index.html'>Rails-4.2.0</a> &raquo; 
        <a href='_index.html'>Index</a> &raquo; 
        <span class='title'><a id='t2_doc_top' href='#'>File: Action View Changelog&nbsp;&#x25B2;</a></span>
            </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<ul>
<li><p>Local variable in a partial is now available even if a falsy value is
passed to <code>:object</code> when rendering a partial.</p>

<p>Fixes #17373.</p>

<p><em>Agis Anastasopoulos</em></p></li>
<li><p>Add support for <code>:enforce_utf8</code> option in <code>form_for</code>.</p>

<p>This is the same option that was added in 06388b0 to <code>form_tag</code> and allows
users to skip the insertion of the UTF8 enforcer tag in a form.</p>

<ul>
<li>claudiob *</li>
</ul></li>
<li><p>Fix a bug that &lt;%= foo(){ %&gt; and &lt;%= foo()do %&gt; in view templates were not regarded
as Ruby block calls.</p>

<ul>
<li>Akira Matsuda *</li>
</ul></li>
<li><p>Update <code>select_tag</code> to work correctly with <code>:include_blank</code> option passing a string.</p>

<p>Fixes #16483.</p>

<p><em>Frank Groeneveld</em></p></li>
<li><p>Changed the meaning of <code>render &quot;foo/bar&quot;</code>.</p>

<p>Previously, calling <code>render &quot;foo/bar&quot;</code> in a controller action is equivalent
to <code>render file: &quot;foo/bar&quot;</code>. In Rails 4.2, this has been changed to mean
<code>render template: &quot;foo/bar&quot;</code> instead. If you need to render a file, please
change your code to use the explicit form (<code>render file: &quot;foo/bar&quot;</code>) instead.</p>

<p><em>Jeremy Jackson</em></p></li>
<li><p>Add support for ARIA attributes in tags.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby">&lt;%= f.text_field :name, aria: { required: &quot;true&quot;, hidden: &quot;false&quot; } %&gt;</code></pre>

<p>now generates:</p>

<pre class="code ruby"><code class="ruby">&lt;input aria-hidden=&quot;false&quot; aria-required=&quot;true&quot; id=&quot;user_name&quot; name=&quot;user[name]&quot; type=&quot;text&quot;&gt;</code></pre>

<p><em>Paola Garcia Casadiego</em></p></li>
<li><p>Provide a <code>builder</code> object when using the <code>label</code> form helper in block form.</p>

<p>The new <code>builder</code> object responds to <code>translation</code>, allowing I18n fallback support
when you want to customize how a particular label is presented.</p>

<p><em>Alex Robbin</em></p></li>
<li><p>Add I18n support for input/textarea placeholder text.</p>

<p>Placeholder I18n follows the same convention as <code>label</code> I18n.</p>

<p><em>Alex Robbin</em></p></li>
<li><p>Fix that render layout: &#39;messages/layout&#39; should also be added to the dependency tracker tree.</p>

<p><em>DHH</em></p></li>
<li><p>Add <code>PartialIteration</code> object used when rendering collections.</p>

<p>The iteration object is available as the local variable
<code>#{template_name}_iteration</code> when rendering partials with collections.</p>

<p>It gives access to the <code>size</code> of the collection being iterated over,
the current <code>index</code> and two convenience methods <code>first?</code> and <code>last?</code>.</p>

<p><em>Joel Junström</em>, <em>Lucas Uyezu</em></p></li>
<li><p>Return an absolute instead of relative path from an asset url in the case
of the <code>asset_host</code> proc returning nil.</p>

<p><em>Jolyon Pawlyn</em></p></li>
<li><p>Fix <code>html_escape_once</code> to properly handle hex escape sequences (e.g. &#x1a2b;).</p>

<p><em>John F. Douthat</em></p></li>
<li><p>Added String support for min and max properties for date field helpers.</p>

<p><em>Todd Bealmear</em></p></li>
<li><p>The <code>highlight</code> helper now accepts a block to be used instead of the <code>highlighter</code>
option.</p>

<p><em>Lucas Mazza</em></p></li>
<li><p>The <code>except</code> and <code>highlight</code> helpers now accept regular expressions.</p>

<p><em>Jan Szumiec</em></p></li>
<li><p>Flatten the array parameter in <code>safe_join</code>, so it behaves consistently with
<code>Array#join</code>.</p>

<p><em>Paul Grayson</em></p></li>
<li><p>Honor <code>html_safe</code> on array elements in tag values, as we do for plain string
values.</p>

<p><em>Paul Grayson</em></p></li>
<li><p>Add <code>ActionView::Template::Handler.unregister_template_handler</code>.</p>

<p>It performs the opposite of <code>ActionView::Template::Handler.register_template_handler</code>.</p>

<p><em>Zuhao Wan</em></p></li>
<li><p>Bring <code>cache_digest</code> rake tasks up-to-date with the latest API changes.</p>

<p><em>Jiri Pospisil</em></p></li>
<li><p>Allow custom <code>:host</code> option to be passed to <code>asset_url</code> helper that
overwrites <code>config.action_controller.asset_host</code> for particular asset.</p>

<p><em>Hubert Łępicki</em></p></li>
<li><p>Deprecate <code>AbstractController::Base.parent_prefixes</code>.
Override <code>AbstractController::Base.local_prefixes</code> when you want to change
where to find views.</p>

<p><em>Nick Sutterer</em></p></li>
<li><p>Take label values into account when doing I18n lookups for model attributes.</p>

<p>The following:</p>

<pre class="code ruby"><code class="ruby"># form.html.erb
&lt;%= form_for @post do |f| %&gt;
  &lt;%= f.label :type, value: &quot;long&quot; %&gt;
&lt;% end %&gt;

# en.yml
en:
  activerecord:
    attributes:
      post/long: &quot;Long-form Post&quot;</code></pre>

<p>Used to simply return &quot;long&quot;, but now it will return &quot;Long-form
Post&quot;.</p>

<p><em>Joshua Cody</em></p></li>
<li><p>Change <code>asset_path</code> to use File.join to create proper paths:</p>

<p>Before:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_https'>https</span><span class='symbeg'>:</span><span class='op'>/</span><span class='op'>/</span><span class='id identifier rubyid_some'>some</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span><span class='period'>.</span><span class='id identifier rubyid_com'>com</span><span class='op'>/</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>assets</span><span class='regexp_end'>/some</span></span><span class='period'>.</span><span class='id identifier rubyid_js'>js</span></code></pre>

<p>After:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_https'>https</span><span class='symbeg'>:</span><span class='op'>/</span><span class='op'>/</span><span class='id identifier rubyid_some'>some</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span><span class='period'>.</span><span class='id identifier rubyid_com'>com</span><span class='op'>/</span><span class='id identifier rubyid_assets'>assets</span><span class='op'>/</span><span class='id identifier rubyid_some'>some</span><span class='period'>.</span><span class='id identifier rubyid_js'>js</span></code></pre>

<p><em>Peter Schröder</em></p></li>
<li><p>Change <code>favicon_link_tag</code> default mimetype from <code>image/vnd.microsoft.icon</code> to
<code>image/x-icon</code>.</p>

<p>Before:</p>

<pre class="code ruby"><code class="ruby"># =&gt; favicon_link_tag &#39;myicon.ico&#39;
&lt;link href=&quot;/assets/myicon.ico&quot; rel=&quot;shortcut icon&quot; type=&quot;image/vnd.microsoft.icon&quot; /&gt;</code></pre>

<p>After:</p>

<pre class="code ruby"><code class="ruby"># =&gt; favicon_link_tag &#39;myicon.ico&#39;
&lt;link href=&quot;/assets/myicon.ico&quot; rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; /&gt;</code></pre>

<p><em>Geoffroy Lorieux</em></p></li>
<li><p>Remove wrapping div with inline styles for hidden form fields.</p>

<p>We are dropping HTML 4.01 and XHTML strict compliance since input tags directly
inside a form are valid HTML5, and the absence of inline styles help in validating
for Content Security Policy.</p>

<p><em>Joost Baaij</em></p></li>
<li><p><code>collection_check_boxes</code> respects <code>:index</code> option for the hidden field name.</p>

<p>Fixes #14147.</p>

<p><em>Vasiliy Ermolovich</em></p></li>
<li><p><code>date_select</code> helper with option <code>with_css_classes: true</code> does not overwrite other classes.</p>

<p><em>Izumi Wong-Horiuchi</em></p></li>
<li><p><code>number_to_percentage</code> does not crash with <code>Float::NAN</code> or <code>Float::INFINITY</code>
as input.</p>

<p>Fixes #14405.</p>

<p><em>Yves Senn</em></p></li>
<li><p>Add <code>include_hidden</code> option to <code>collection_check_boxes</code> helper.</p>

<p><em>Vasiliy Ermolovich</em></p></li>
<li><p>Fixed a problem where the default options for the <code>button_tag</code> helper are not
applied correctly.</p>

<p>Fixes #14254.</p>

<p><em>Sergey Prikhodko</em></p></li>
<li><p>Take variants into account when calculating template digests in ActionView::Digestor.</p>

<p>The arguments to ActionView::Digestor#digest are now being passed as a hash
to support variants and allow more flexibility in the future. The support for
regular (required) arguments is deprecated and will be removed in Rails 5.0 or later.</p>

<p><em>Piotr Chmolowski, Łukasz Strzałkowski</em></p></li>
</ul>

<p>Please check <a href="https://github.com/rails/rails/blob/4-1-stable/actionview/CHANGELOG.md">4-1-stable</a> for previous changes.</p>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.8 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.9.0 (ruby-2.5.0p-1)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>