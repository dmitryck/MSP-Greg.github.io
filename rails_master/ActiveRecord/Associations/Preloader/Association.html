<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: ActiveRecord::Associations::Preloader::Association &mdash; Rails-master</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActiveRecord::Associations::Preloader::Association",
    relpath = '../../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
        <a href='../../../../index.html'>Home</a> &raquo; 
        <a href='../../../index.html'>Rails-master</a> &raquo; 
        <a href='../../../_index.html#alpha_A'>Index (A)</a> &raquo; 
        <a href="../../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a> &raquo; 
        <a class='nodoc' href="../../Associations.html" title="ActiveRecord::Associations (module)">Associations</a> &raquo; 
        <a class='nodoc' href="../Preloader.html" title="ActiveRecord::Associations::Preloader (class)">Preloader</a> &raquo; 
        <span class='title'><a class='nodoc' id='t2_doc_top' href='#'>Association&nbsp;&#x25B2;</a></span>
      </div>

    <a id='list_href' href="../../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: ActiveRecord::Associations::Preloader::Association</h1>
  <div class='note nodoc inline-block'>
    <strong>Do not use.  This class is for internal use only.</strong>
  </div>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a class='nodoc' href="BelongsTo.html" title="ActiveRecord::Associations::Preloader::BelongsTo (class)">BelongsTo</a>, <a class='nodoc' href="CollectionAssociation.html" title="ActiveRecord::Associations::Preloader::CollectionAssociation (class)">CollectionAssociation</a>, <a class='nodoc' href="HasMany.html" title="ActiveRecord::Associations::Preloader::HasMany (class)">HasMany</a>, <a class='nodoc' href="HasOne.html" title="ActiveRecord::Associations::Preloader::HasOne (class)">HasOne</a>, <a class='nodoc' href="SingularAssociation.html" title="ActiveRecord::Associations::Preloader::SingularAssociation (class)">SingularAssociation</a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../../../Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L4'>activerecord/lib/active_record/associations/preloader/association.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>        

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full nodoc'>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(klass, owners, reflection, preload_scope)  &#x21d2; Association </a>
    </span>
    <span class='note title constructor'>constructor</span>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='instance_Attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full nodoc'>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#klass-instance_method" title="#klass (instance method)">#<strong>klass</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#model-instance_method" title="#model (instance method)">#<strong>model</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#owners-instance_method" title="#owners (instance method)">#<strong>owners</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#preload_scope-instance_method" title="#preload_scope (instance method)">#<strong>preload_scope</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#preloaded_records-instance_method" title="#preloaded_records (instance method)">#<strong>preloaded_records</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#reflection-instance_method" title="#reflection (instance method)">#<strong>reflection</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro priv nodoc'>
      <a href="#key_conversion_required%3F-instance_method" title="#key_conversion_required? (instance method)">#<strong>key_conversion_required?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='instance_Method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full nodoc'>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#association_key-instance_method" title="#association_key (instance method)">#<strong>association_key</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This is overridden by HABTM as the condition should be on the foreign_key
column in the join table.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#association_key_name-instance_method" title="#association_key_name (instance method)">#<strong>association_key_name</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The name of the key on the associated records.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#options-instance_method" title="#options (instance method)">#<strong>options</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#owner_key_name-instance_method" title="#owner_key_name (instance method)">#<strong>owner_key_name</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The name of the key on the model which declares the association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#preload-instance_method" title="#preload (instance method)">#<strong>preload</strong>(preloader)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#records_for-instance_method" title="#records_for (instance method)">#<strong>records_for</strong>(ids)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#run-instance_method" title="#run (instance method)">#<strong>run</strong>(preloader)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#scope-instance_method" title="#scope (instance method)">#<strong>scope</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#table-instance_method" title="#table (instance method)">#<strong>table</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#associated_records_by_owner-instance_method" title="#associated_records_by_owner (instance method)">#<strong>associated_records_by_owner</strong>(preloader)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#association_key_type-instance_method" title="#association_key_type (instance method)">#<strong>association_key_type</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#build_scope-instance_method" title="#build_scope (instance method)">#<strong>build_scope</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#convert_key-instance_method" title="#convert_key (instance method)">#<strong>convert_key</strong>(key)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#load_records-instance_method" title="#load_records (instance method)">#<strong>load_records</strong>(&amp;block)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#owner_key_type-instance_method" title="#owner_key_type (instance method)">#<strong>owner_key_type</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#owner_keys-instance_method" title="#owner_keys (instance method)">#<strong>owner_keys</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#owners_by_key-instance_method" title="#owners_by_key (instance method)">#<strong>owners_by_key</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#reflection_scope-instance_method" title="#reflection_scope (instance method)">#<strong>reflection_scope</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature nodoc first'>
    .<strong>new</strong>(klass, owners, reflection, preload_scope)  &#x21d2; <code>Association</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L8-L16'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8
9
10
11
12
13
14
15
16</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 8</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_owners'>owners</span><span class='comma'>,</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='comma'>,</span> <span class='id identifier rubyid_preload_scope'>preload_scope</span><span class='rparen'>)</span>
  <span class='ivar'>@klass</span>         <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>
  <span class='ivar'>@owners</span>        <span class='op'>=</span> <span class='id identifier rubyid_owners'>owners</span>
  <span class='ivar'>@reflection</span>    <span class='op'>=</span> <span class='id identifier rubyid_reflection'>reflection</span>
  <span class='ivar'>@preload_scope</span> <span class='op'>=</span> <span class='id identifier rubyid_preload_scope'>preload_scope</span>
  <span class='ivar'>@model</span>         <span class='op'>=</span> <span class='id identifier rubyid_owners'>owners</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_owners'>owners</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span>
  <span class='ivar'>@scope</span>         <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@preloaded_records</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="key_conversion_required?-instance_method">
  <h3 class='signature ro priv  nodoc first'>
    #<strong>key_conversion_required?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>, <span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L92-L94'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


92
93
94</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 92</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_key_conversion_required?'>key_conversion_required?</span>
  <span class='ivar'>@key_conversion_required</span> <span class='op'>||=</span> <span class='id identifier rubyid_association_key_type'>association_key_type</span> <span class='op'>!=</span> <span class='id identifier rubyid_owner_key_type'>owner_key_type</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="klass-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>klass</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L5-L5'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 5</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_owners'>owners</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_reflection'>reflection</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_preload_scope'>preload_scope</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_klass'>klass</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="model-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>model</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L5-L5'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 5</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_owners'>owners</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_reflection'>reflection</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_preload_scope'>preload_scope</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_klass'>klass</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="owners-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>owners</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L5-L5'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 5</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_owners'>owners</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_reflection'>reflection</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_preload_scope'>preload_scope</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_klass'>klass</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="preload_scope-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>preload_scope</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L5-L5'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 5</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_owners'>owners</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_reflection'>reflection</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_preload_scope'>preload_scope</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_klass'>klass</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="preloaded_records-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>preloaded_records</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L6-L6'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 6</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_preloaded_records'>preloaded_records</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reflection-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>reflection</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L5-L5'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 5</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_owners'>owners</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_reflection'>reflection</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_preload_scope'>preload_scope</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_klass'>klass</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="associated_records_by_owner-instance_method">
  <h3 class='signature priv  nodoc first'>
    #<strong>associated_records_by_owner</strong>(preloader)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L60-L70'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


60
61
62
63
64
65
66
67
68
69
70</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 60</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_associated_records_by_owner'>associated_records_by_owner</span><span class='lparen'>(</span><span class='id identifier rubyid_preloader'>preloader</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_records'>records</span> <span class='op'>=</span> <span class='id identifier rubyid_load_records'>load_records</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_record'>record</span><span class='op'>|</span>
    <span class='id identifier rubyid_owner'>owner</span> <span class='op'>=</span> <span class='id identifier rubyid_owners_by_key'>owners_by_key</span><span class='lbracket'>[</span><span class='id identifier rubyid_convert_key'>convert_key</span><span class='lparen'>(</span><span class='id identifier rubyid_record'>record</span><span class='lbracket'>[</span><span class='id identifier rubyid_association_key_name'>association_key_name</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_association'>association</span> <span class='op'>=</span> <span class='id identifier rubyid_owner'>owner</span><span class='period'>.</span><span class='id identifier rubyid_association'>association</span><span class='lparen'>(</span><span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_association'>association</span><span class='period'>.</span><span class='id identifier rubyid_set_inverse_instance'>set_inverse_instance</span><span class='lparen'>(</span><span class='id identifier rubyid_record'>record</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_owners'>owners</span><span class='period'>.</span><span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='op'>|</span>
    <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='id identifier rubyid_owner'>owner</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_records'>records</span><span class='lbracket'>[</span><span class='id identifier rubyid_convert_key'>convert_key</span><span class='lparen'>(</span><span class='id identifier rubyid_owner'>owner</span><span class='lbracket'>[</span><span class='id identifier rubyid_owner_key_name'>owner_key_name</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="association_key-instance_method">
  <h3 class='signature nodoc'>
    #<strong>association_key</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This is overridden by HABTM as the condition should be on the foreign_key
column in the join table</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L45-L47'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


45
46
47</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 45</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_association_key'>association_key</span>
  <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_arel_attribute'>arel_attribute</span><span class='lparen'>(</span><span class='id identifier rubyid_association_key_name'>association_key_name</span><span class='comma'>,</span> <span class='id identifier rubyid_table'>table</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="association_key_name-instance_method">
  <h3 class='signature nodoc'>
    #<strong>association_key_name</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The name of the key on the associated records</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>NotImplementedError</code>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L39-L41'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


39
40
41</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 39</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_association_key_name'>association_key_name</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="association_key_type-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>association_key_type</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L104-L106'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


104
105
106</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 104</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_association_key_type'>association_key_type</span>
  <span class='ivar'>@klass</span><span class='period'>.</span><span class='id identifier rubyid_type_for_attribute'>type_for_attribute</span><span class='lparen'>(</span><span class='id identifier rubyid_association_key_name'>association_key_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="build_scope-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>build_scope</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L129-L166'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 129</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_build_scope'>build_scope</span>
  <span class='id identifier rubyid_scope'>scope</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_unscoped'>unscoped</span>

  <span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_reflection_scope'>reflection_scope</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span>
  <span class='id identifier rubyid_preload_values'>preload_values</span> <span class='op'>=</span> <span class='id identifier rubyid_preload_scope'>preload_scope</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span>

  <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_where_clause'>where_clause</span> <span class='op'>=</span> <span class='id identifier rubyid_reflection_scope'>reflection_scope</span><span class='period'>.</span><span class='id identifier rubyid_where_clause'>where_clause</span> <span class='op'>+</span> <span class='id identifier rubyid_preload_scope'>preload_scope</span><span class='period'>.</span><span class='id identifier rubyid_where_clause'>where_clause</span>
  <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_references_values'>references_values</span> <span class='op'>=</span> <span class='const'><a href="../../../Array.html" title="Array (class)">Array</a></span><span class='lparen'>(</span><span class='id identifier rubyid_values'>values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_references'>references</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='const'><a href="../../../Array.html" title="Array (class)">Array</a></span><span class='lparen'>(</span><span class='id identifier rubyid_preload_values'>preload_values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_references'>references</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_preload_values'>preload_values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_select'>select</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_values'>values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_select'>select</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid__select!'>_select!</span><span class='lparen'>(</span><span class='id identifier rubyid_preload_values'>preload_values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_select'>select</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_values'>values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_select'>select</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_includes!'>includes!</span> <span class='id identifier rubyid_preload_values'>preload_values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_includes'>includes</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_values'>values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_includes'>includes</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_preload_scope'>preload_scope</span><span class='period'>.</span><span class='id identifier rubyid_joins_values'>joins_values</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
    <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_joins!'>joins!</span><span class='lparen'>(</span><span class='id identifier rubyid_preload_scope'>preload_scope</span><span class='period'>.</span><span class='id identifier rubyid_joins_values'>joins_values</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_joins!'>joins!</span><span class='lparen'>(</span><span class='id identifier rubyid_reflection_scope'>reflection_scope</span><span class='period'>.</span><span class='id identifier rubyid_joins_values'>joins_values</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_order_values'>order_values</span> <span class='op'>=</span> <span class='id identifier rubyid_preload_values'>preload_values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_order'>order</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_values'>values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_order'>order</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_order!'>order!</span><span class='lparen'>(</span><span class='id identifier rubyid_order_values'>order_values</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_preload_values'>preload_values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_reordering'>reordering</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_values'>values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_reordering'>reordering</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_reordering_value'>reordering_value</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_preload_values'>preload_values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_readonly'>readonly</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_values'>values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_readonly'>readonly</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_readonly!'>readonly!</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_as'>as</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_where!'>where!</span><span class='lparen'>(</span><span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_table_name'>table_name</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_base_class'>base_class</span><span class='period'>.</span><span class='id identifier rubyid_sti_name'>sti_name</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_unscope_values'>unscope_values</span> <span class='op'>=</span> <span class='const'><a href="../../../Array.html" title="Array (class)">Array</a></span><span class='lparen'>(</span><span class='id identifier rubyid_values'>values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_unscope'>unscope</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='const'><a href="../../../Array.html" title="Array (class)">Array</a></span><span class='lparen'>(</span><span class='id identifier rubyid_preload_values'>preload_values</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_unscope'>unscope</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_default_scoped'>default_scoped</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_scope'>scope</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="convert_key-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>convert_key</strong>(key)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L96-L102'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


96
97
98
99
100
101
102</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 96</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_convert_key'>convert_key</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_key_conversion_required?'>key_conversion_required?</span>
    <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_key'>key</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load_records-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>load_records</strong>(&amp;block)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L112-L123'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


112
113
114
115
116
117
118
119
120
121
122
123</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 112</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load_records'>load_records</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lbrace'>{</span><span class='rbrace'>}</span> <span class='kw'>if</span> <span class='id identifier rubyid_owner_keys'>owner_keys</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='comment'># Some databases impose a limit on the number of ids in a list (in Oracle it&#39;s 1000)
</span>  <span class='comment'># Make several smaller queries if necessary or make one query if the adapter supports it
</span>  <span class='id identifier rubyid_slices'>slices</span> <span class='op'>=</span> <span class='id identifier rubyid_owner_keys'>owner_keys</span><span class='period'>.</span><span class='id identifier rubyid_each_slice'>each_slice</span><span class='lparen'>(</span><span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_connection'>connection</span><span class='period'>.</span><span class='id identifier rubyid_in_clause_length'>in_clause_length</span> <span class='op'>||</span> <span class='id identifier rubyid_owner_keys'>owner_keys</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span>
  <span class='ivar'>@preloaded_records</span> <span class='op'>=</span> <span class='id identifier rubyid_slices'>slices</span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_slice'>slice</span><span class='op'>|</span>
    <span class='id identifier rubyid_records_for'>records_for</span><span class='lparen'>(</span><span class='id identifier rubyid_slice'>slice</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@preloaded_records</span><span class='period'>.</span><span class='id identifier rubyid_group_by'>group_by</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_record'>record</span><span class='op'>|</span>
    <span class='id identifier rubyid_convert_key'>convert_key</span><span class='lparen'>(</span><span class='id identifier rubyid_record'>record</span><span class='lbracket'>[</span><span class='id identifier rubyid_association_key_name'>association_key_name</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="options-instance_method">
  <h3 class='signature nodoc'>
    #<strong>options</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L54-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


54
55
56</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 54</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="owner_key_name-instance_method">
  <h3 class='signature nodoc'>
    #<strong>owner_key_name</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The name of the key on the model which declares the association</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>NotImplementedError</code>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L50-L52'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


50
51
52</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 50</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_owner_key_name'>owner_key_name</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="owner_key_type-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>owner_key_type</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L108-L110'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


108
109
110</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 108</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_owner_key_type'>owner_key_type</span>
  <span class='ivar'>@model</span><span class='period'>.</span><span class='id identifier rubyid_type_for_attribute'>type_for_attribute</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_key_name'>owner_key_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="owner_keys-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>owner_keys</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L72-L81'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


72
73
74
75
76
77
78
79
80
81</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 72</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_owner_keys'>owner_keys</span>
  <span class='kw'>unless</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='ivar'>@owner_keys</span><span class='rparen'>)</span>
    <span class='ivar'>@owner_keys</span> <span class='op'>=</span> <span class='id identifier rubyid_owners'>owners</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_owner'>owner</span><span class='op'>|</span>
      <span class='id identifier rubyid_owner'>owner</span><span class='lbracket'>[</span><span class='id identifier rubyid_owner_key_name'>owner_key_name</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='ivar'>@owner_keys</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span>
    <span class='ivar'>@owner_keys</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span>
  <span class='kw'>end</span>
  <span class='ivar'>@owner_keys</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="owners_by_key-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>owners_by_key</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L83-L90'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


83
84
85
86
87
88
89
90</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 83</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_owners_by_key'>owners_by_key</span>
  <span class='kw'>unless</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='ivar'>@owners_by_key</span><span class='rparen'>)</span>
    <span class='ivar'>@owners_by_key</span> <span class='op'>=</span> <span class='id identifier rubyid_owners'>owners</span><span class='period'>.</span><span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='id identifier rubyid_h'>h</span><span class='op'>|</span>
      <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_convert_key'>convert_key</span><span class='lparen'>(</span><span class='id identifier rubyid_owner'>owner</span><span class='lbracket'>[</span><span class='id identifier rubyid_owner_key_name'>owner_key_name</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_owner'>owner</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@owners_by_key</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="preload-instance_method">
  <h3 class='signature nodoc'>
    #<strong>preload</strong>(preloader)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>NotImplementedError</code>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L22-L24'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


22
23
24</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 22</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_preload'>preload</span><span class='lparen'>(</span><span class='id identifier rubyid_preloader'>preloader</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="records_for-instance_method">
  <h3 class='signature nodoc'>
    #<strong>records_for</strong>(ids)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L30-L32'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


30
31
32</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 30</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_records_for'>records_for</span><span class='lparen'>(</span><span class='id identifier rubyid_ids'>ids</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='id identifier rubyid_association_key_name'>association_key_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ids'>ids</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reflection_scope-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>reflection_scope</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L125-L127'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


125
126
127</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 125</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reflection_scope'>reflection_scope</span>
  <span class='ivar'>@reflection_scope</span> <span class='op'>||=</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='id identifier rubyid_klass'>klass</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run-instance_method">
  <h3 class='signature nodoc'>
    #<strong>run</strong>(preloader)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L18-L20'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


18
19
20</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 18</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='id identifier rubyid_preloader'>preloader</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_preload'>preload</span><span class='lparen'>(</span><span class='id identifier rubyid_preloader'>preloader</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scope-instance_method">
  <h3 class='signature nodoc'>
    #<strong>scope</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L26-L28'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


26
27
28</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 26</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_scope'>scope</span>
  <span class='ivar'>@scope</span> <span class='op'>||=</span> <span class='id identifier rubyid_build_scope'>build_scope</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="table-instance_method">
  <h3 class='signature nodoc'>
    #<strong>table</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/preloader/association.rb#L34-L36'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


34
35
36</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/preloader/association.rb', line 34</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_table'>table</span>
  <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_arel_table'>arel_table</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.8 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.9.0 (ruby-2.5.0p-1)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>