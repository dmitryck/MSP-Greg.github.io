<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActionController::ForceSSL &mdash; Rails-master</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActionController::ForceSSL",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
        <a href='../../index.html'>Home</a> &raquo; 
        <a href='../index.html'>Rails-master</a> &raquo; 
        <a href='../_index.html#alpha_F'>Index (F)</a> &raquo; 
        <a href="../ActionController.html" title="ActionController (module)">ActionController</a> &raquo; 
        <span class='title'><a id='t2_doc_top' href='#'>ForceSSL&nbsp;&#x25B2;</a></span>
      </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActionController::ForceSSL</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="ForceSSL/ClassMethods.html" title="ActionController::ForceSSL::ClassMethods (module)">ClassMethods</a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="API.html" title="ActionController::API (class)">API</a>,
          <a href="Base.html" title="ActionController::Base (class)">Base</a>,
          <a href="../ActionView/TestCase/TestController.html" title="ActionView::TestCase::TestController (class)">::ActionView::TestCase::TestController</a>,
          <a class='nodoc' href="../Rails/ApplicationController.html" title="Rails::ApplicationController (class)">::Rails::ApplicationController</a>,
          <a class='nodoc' href="../Rails/InfoController.html" title="Rails::InfoController (class)">::Rails::InfoController</a>,
          <a class='nodoc' href="../Rails/MailersController.html" title="Rails::MailersController (class)">::Rails::MailersController</a>,
          <a class='nodoc' href="../Rails/WelcomeController.html" title="Rails::WelcomeController (class)">::Rails::WelcomeController</a>
      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../AbstractController/Callbacks/ClassMethods.html" title="AbstractController::Callbacks::ClassMethods (module)">::AbstractController::Callbacks::ClassMethods</a>,
          <a href="../ActiveSupport/DescendantsTracker.html" title="ActiveSupport::DescendantsTracker (module)">::ActiveSupport::DescendantsTracker</a>,
          <a href="../ActiveSupport/Callbacks/ClassMethods.html" title="ActiveSupport::Callbacks::ClassMethods (module)">::ActiveSupport::Callbacks::ClassMethods</a>,
          <a href="../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">::ActiveSupport::Concern</a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="../AbstractController/Callbacks.html" title="AbstractController::Callbacks (module)">::AbstractController::Callbacks</a>,
          <a href="../ActiveSupport/Callbacks.html" title="ActiveSupport::Callbacks (module)">::ActiveSupport::Callbacks</a>
        </div>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_controller/metal/force_ssl.rb#L16'>actionpack/lib/action_controller/metal/force_ssl.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>This module provides a method which will redirect the browser to use the
secured HTTPS protocol. This will ensure that users&#39; sensitive
information will be transferred safely over the internet. You
<em>should</em> always force the browser to use HTTPS when you&#39;re
transferring sensitive information such as user authentication, account
information, or credit card information.</p>

<p>Note that if you are really concerned about your application security, you
might consider using <code>config.force_ssl</code> in your config file
instead. That will ensure all the data is transferred via HTTPS, and will
prevent the user from getting their session hijacked when accessing the
site over unsecured HTTP protocol.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='ACTION_OPTIONS-constant' class='summary_signature'>ACTION_OPTIONS =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_controller/metal/force_ssl.rb#L20-L20'># File 'actionpack/lib/action_controller/metal/force_ssl.rb', line 20</a>    <pre class='code ruby'><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_only'>only</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_except'>except</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='kw'>if</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='kw'>unless</span><span class='rbracket'>]</span></pre>
  </li>
  <li>
    <span id='REDIRECT_OPTIONS-constant' class='summary_signature'>REDIRECT_OPTIONS =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_controller/metal/force_ssl.rb#L22-L22'># File 'actionpack/lib/action_controller/metal/force_ssl.rb', line 22</a>    <pre class='code ruby'><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_flash'>flash</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_alert'>alert</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_notice'>notice</span><span class='rbracket'>]</span></pre>
  </li>
  <li>
    <span id='URL_OPTIONS-constant' class='summary_signature'>URL_OPTIONS =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_controller/metal/force_ssl.rb#L21-L21'># File 'actionpack/lib/action_controller/metal/force_ssl.rb', line 21</a>    <pre class='code ruby'><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_protocol'>protocol</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_domain'>domain</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_subdomain'>subdomain</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_port'>port</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_path'>path</span><span class='rbracket'>]</span></pre>
  </li>
</ul>
  <h3 class='inherited'><a href="../ActiveSupport/Callbacks.html" title="ActiveSupport::Callbacks (module)">::ActiveSupport::Callbacks</a> - Included</h3>
  <p  class='inherited'>
    <a href="../ActiveSupport/Callbacks.html#CALLBACK_FILTER_TYPES-constant" title="ActiveSupport::Callbacks::CALLBACK_FILTER_TYPES (constant)">CALLBACK_FILTER_TYPES</a>
  </p>
</div>

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../AbstractController/Callbacks/ClassMethods.html" title="AbstractController::Callbacks::ClassMethods (module)">::AbstractController::Callbacks::ClassMethods</a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks/ClassMethods.html#_insert_callbacks-instance_method" title="AbstractController::Callbacks::ClassMethods#_insert_callbacks (method)">_insert_callbacks</a></td>
      <td><div class='inline'><p>Take callback names and an optional callback proc, normalize them, then
call the block with each callback.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks/ClassMethods.html#_normalize_callback_options-instance_method" title="AbstractController::Callbacks::ClassMethods#_normalize_callback_options (method)">_normalize_callback_options</a></td>
      <td><div class='inline'><p>If <code>:only</code> or <code>:except</code> are used, convert the options
into the <code>:if</code> and <code>:unless</code> options of
<a href="../ActiveSupport/Callbacks.html" title="ActiveSupport::Callbacks (module)">::ActiveSupport::Callbacks</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks/ClassMethods.html#after_action-instance_method" title="AbstractController::Callbacks::ClassMethods#after_action (method)">after_action</a></td>
      <td><div class='inline'><p>Append a callback after actions.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks/ClassMethods.html#append_after_action-instance_method" title="AbstractController::Callbacks::ClassMethods#append_after_action (method)">append_after_action</a></td>
      <td><div class='inline'><p>Append a callback after actions.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks/ClassMethods.html#append_around_action-instance_method" title="AbstractController::Callbacks::ClassMethods#append_around_action (method)">append_around_action</a></td>
      <td><div class='inline'><p>Append a callback around actions.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks/ClassMethods.html#append_before_action-instance_method" title="AbstractController::Callbacks::ClassMethods#append_before_action (method)">append_before_action</a></td>
      <td><div class='inline'><p>Append a callback before actions.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks/ClassMethods.html#around_action-instance_method" title="AbstractController::Callbacks::ClassMethods#around_action (method)">around_action</a></td>
      <td><div class='inline'><p>Append a callback around actions.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks/ClassMethods.html#before_action-instance_method" title="AbstractController::Callbacks::ClassMethods#before_action (method)">before_action</a></td>
      <td><div class='inline'><p>Append a callback before actions.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks/ClassMethods.html#prepend_after_action-instance_method" title="AbstractController::Callbacks::ClassMethods#prepend_after_action (method)">prepend_after_action</a></td>
      <td><div class='inline'><p>Prepend a callback after actions.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks/ClassMethods.html#prepend_around_action-instance_method" title="AbstractController::Callbacks::ClassMethods#prepend_around_action (method)">prepend_around_action</a></td>
      <td><div class='inline'><p>Prepend a callback around actions.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks/ClassMethods.html#prepend_before_action-instance_method" title="AbstractController::Callbacks::ClassMethods#prepend_before_action (method)">prepend_before_action</a></td>
      <td><div class='inline'><p>Prepend a callback before actions.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks/ClassMethods.html#skip_after_action-instance_method" title="AbstractController::Callbacks::ClassMethods#skip_after_action (method)">skip_after_action</a></td>
      <td><div class='inline'><p>Skip a callback after actions.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks/ClassMethods.html#skip_around_action-instance_method" title="AbstractController::Callbacks::ClassMethods#skip_around_action (method)">skip_around_action</a></td>
      <td><div class='inline'><p>Skip a callback around actions.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks/ClassMethods.html#skip_before_action-instance_method" title="AbstractController::Callbacks::ClassMethods#skip_before_action (method)">skip_before_action</a></td>
      <td><div class='inline'><p>Skip a callback before actions.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m nodoc' href="../AbstractController/Callbacks/ClassMethods.html#_normalize_callback_option-instance_method" title="AbstractController::Callbacks::ClassMethods#_normalize_callback_option (method)">_normalize_callback_option</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../ActiveSupport/DescendantsTracker.html" title="ActiveSupport::DescendantsTracker (module)">::ActiveSupport::DescendantsTracker</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../ActiveSupport/DescendantsTracker.html#descendants-instance_method" title="ActiveSupport::DescendantsTracker#descendants (method)">descendants</a>,
        <a class='i_m ' href="../ActiveSupport/DescendantsTracker.html#direct_descendants-instance_method" title="ActiveSupport::DescendantsTracker#direct_descendants (method)">direct_descendants</a>,
        <a class='i_m ' href="../ActiveSupport/DescendantsTracker.html#inherited-instance_method" title="ActiveSupport::DescendantsTracker#inherited (method)">inherited</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../ActiveSupport/Callbacks/ClassMethods.html" title="ActiveSupport::Callbacks::ClassMethods (module)">::ActiveSupport::Callbacks::ClassMethods</a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../ActiveSupport/Callbacks/ClassMethods.html#define_callbacks-instance_method" title="ActiveSupport::Callbacks::ClassMethods#define_callbacks (method)">define_callbacks</a></td>
      <td><div class='inline'><p>Define sets of events in the object life cycle that support callbacks.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../ActiveSupport/Callbacks/ClassMethods.html#reset_callbacks-instance_method" title="ActiveSupport::Callbacks::ClassMethods#reset_callbacks (method)">reset_callbacks</a></td>
      <td><div class='inline'><p>Remove all set callbacks for the given event.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../ActiveSupport/Callbacks/ClassMethods.html#set_callback-instance_method" title="ActiveSupport::Callbacks::ClassMethods#set_callback (method)">set_callback</a></td>
      <td><div class='inline'><p>Install a callback for the given event.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../ActiveSupport/Callbacks/ClassMethods.html#skip_callback-instance_method" title="ActiveSupport::Callbacks::ClassMethods#skip_callback (method)">skip_callback</a></td>
      <td><div class='inline'><p>Skip a previously set callback.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m nodoc' href="../ActiveSupport/Callbacks/ClassMethods.html#__update_callbacks-instance_method" title="ActiveSupport::Callbacks::ClassMethods#__update_callbacks (method)">__update_callbacks</a></td>
      <td><div class='inline'><p>This is used internally to append, prepend and skip callbacks to the
CallbackChain.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m nodoc' href="../ActiveSupport/Callbacks/ClassMethods.html#normalize_callback_params-instance_method" title="ActiveSupport::Callbacks::ClassMethods#normalize_callback_params (method)">normalize_callback_params</a>,
        <a class='i_m prot nodoc' href="../ActiveSupport/Callbacks/ClassMethods.html#get_callbacks-instance_method" title="ActiveSupport::Callbacks::ClassMethods#get_callbacks (method)">get_callbacks</a>,
        <a class='i_m prot nodoc' href="../ActiveSupport/Callbacks/ClassMethods.html#set_callbacks-instance_method" title="ActiveSupport::Callbacks::ClassMethods#set_callbacks (method)">set_callbacks</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">::ActiveSupport::Concern</a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../ActiveSupport/Concern.html#append_features-instance_method" title="ActiveSupport::Concern#append_features (method)">append_features</a>,
        <a class='i_m ' href="../ActiveSupport/Concern.html#class_methods-instance_method" title="ActiveSupport::Concern#class_methods (method)">class_methods</a>,
        <a class='i_m ' href="../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">included</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>

<h2 class='h2_sum' id='instance_Attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../AbstractController/Callbacks.html" title="AbstractController::Callbacks (module)">::AbstractController::Callbacks</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ro' href="../AbstractController/Callbacks.html#__callbacks-instance_method" title="AbstractController::Callbacks#__callbacks (method)">#__callbacks</a>,
        <a class='i_m ro' href="../AbstractController/Callbacks.html#__callbacks%3F-instance_method" title="AbstractController::Callbacks#__callbacks? (method)">#__callbacks?</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>
        

<h2 class='h2_sum' id='instance_Method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#force_ssl_redirect-instance_method" title="#force_ssl_redirect (instance method)">#<strong>force_ssl_redirect</strong>(host_or_options = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Redirect the existing request to use the HTTPS protocol.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="../AbstractController/Callbacks.html" title="AbstractController::Callbacks (module)">::AbstractController::Callbacks</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../AbstractController/Callbacks.html#process_action-instance_method" title="AbstractController::Callbacks#process_action (method)">#process_action</a></td>
      <td><div class='inline'><p>Override AbstractController::Base&#39;s process_action to run the
process_action callbacks around the normal behavior.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../ActiveSupport/Callbacks.html" title="ActiveSupport::Callbacks (module)">::ActiveSupport::Callbacks</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../ActiveSupport/Callbacks.html#run_callbacks-instance_method" title="ActiveSupport::Callbacks#run_callbacks (method)">#run_callbacks</a></td>
      <td><div class='inline'><p>Runs the callbacks for the given event.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../ActiveSupport/Callbacks.html#halted_callback_hook-instance_method" title="ActiveSupport::Callbacks#halted_callback_hook (method)">#halted_callback_hook</a></td>
      <td><div class='inline'><p>A hook invoked every time a before callback is halted.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="force_ssl_redirect-instance_method">
  <h3 class='signature  first'>
    #<strong>force_ssl_redirect</strong>(host_or_options = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Redirect the existing request to use the HTTPS protocol.</p>

<h4 id="label-7BActionController-3A-3AParameters-7D"><a href="Parameters.html" title="ActionController::Parameters (class)">Parameters</a></h4>
<ul><li>
<p><code>host_or_options</code> - Either a host name or any of the url and redirect
options available to the <code>force_ssl</code> method.</p>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_controller/metal/force_ssl.rb#L76-L95'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_controller/metal/force_ssl.rb', line 76</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_force_ssl_redirect'>force_ssl_redirect</span><span class='lparen'>(</span><span class='id identifier rubyid_host_or_options'>host_or_options</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_ssl?'>ssl?</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
      <span class='label'>protocol:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='label'>host:</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span>
      <span class='label'>path:</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_fullpath'>fullpath</span><span class='comma'>,</span>
      <span class='label'>status:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_moved_permanently'>moved_permanently</span>
    <span class='rbrace'>}</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_host_or_options'>host_or_options</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><a href="../Hash.html" title="Hash (class)">Hash</a></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_host_or_options'>host_or_options</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_host_or_options'>host_or_options</span>
      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_host'>host</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_host_or_options'>host_or_options</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_secure_url'>secure_url</span> <span class='op'>=</span> <span class='const'><a href="../ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a></span><span class='op'>::</span><span class='const'><a href="../ActionDispatch/Http.html" title="ActionDispatch::Http (module)">Http</a></span><span class='op'>::</span><span class='const'><a href="../ActionDispatch/Http/URL.html" title="ActionDispatch::Http::URL (module)">URL</a></span><span class='period'>.</span><span class='id identifier rubyid_url_for'><a href="../ActionDispatch/Http/URL.html#url_for-class_method" title="ActionDispatch::Http::URL.url_for (method)">url_for</a></span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='op'>*</span><span class='const'><a href="#URL_OPTIONS-constant" title="ActionController::ForceSSL::URL_OPTIONS (constant)">URL_OPTIONS</a></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_flash'>flash</span><span class='period'>.</span><span class='id identifier rubyid_keep'>keep</span> <span class='kw'>if</span> <span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_flash'>flash</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_flash'>flash</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='id identifier rubyid_secure_url'>secure_url</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='op'>*</span><span class='const'><a href="#REDIRECT_OPTIONS-constant" title="ActionController::ForceSSL::REDIRECT_OPTIONS (constant)">REDIRECT_OPTIONS</a></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.8 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.9.0 (ruby-2.5.0p-1)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>