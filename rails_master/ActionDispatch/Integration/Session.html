<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: ActionDispatch::Integration::Session &mdash; Rails-master</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActionDispatch::Integration::Session",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
        <a href='../../../index.html'>Home</a> &raquo; 
        <a href='../../index.html'>Rails-master</a> &raquo; 
        <a href='../../_index.html#alpha_S'>Index (S)</a> &raquo; 
        <a href="../../ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a> &raquo; 
        <a class='nodoc' href="../Integration.html" title="ActionDispatch::Integration (module)">Integration</a> &raquo; 
        <span class='title'><a id='t2_doc_top' href='#'>Session&nbsp;&#x25B2;</a></span>
      </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: ActionDispatch::Integration::Session</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="../Routing/UrlFor.html" title="ActionDispatch::Routing::UrlFor (module)">::ActionDispatch::Routing::UrlFor</a>,
          <a href="../Routing/PolymorphicRoutes.html" title="ActionDispatch::Routing::PolymorphicRoutes (module)">::ActionDispatch::Routing::PolymorphicRoutes</a>,
          <a href="../TestProcess.html" title="ActionDispatch::TestProcess (module)">::ActionDispatch::TestProcess</a>,
          <a href="../TestProcess/FixtureFile.html" title="ActionDispatch::TestProcess::FixtureFile (module)">::ActionDispatch::TestProcess::FixtureFile</a>,
          <a href="RequestHelpers.html" title="ActionDispatch::Integration::RequestHelpers (module)">RequestHelpers</a>,
          <a href="../Assertions.html" title="ActionDispatch::Assertions (module)">::ActionDispatch::Assertions</a>,
          Rails::Dom::Testing::Assertions,
          <a href="../Assertions/RoutingAssertions.html" title="ActionDispatch::Assertions::RoutingAssertions (module)">::ActionDispatch::Assertions::RoutingAssertions</a>,
          <a href="../Assertions/ResponseAssertions.html" title="ActionDispatch::Assertions::ResponseAssertions (module)">::ActionDispatch::Assertions::ResponseAssertions</a>,
          Minitest::Assertions
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../../Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L67'>actionpack/lib/action_dispatch/testing/integration.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>An instance of this class represents a set of requests and responses
performed sequentially by a test process. Because you can instantiate
multiple sessions and run them side-by-side, you can also mimic (to some
limited extent) multiple simultaneous users interacting with your system.</p>

<p>Typically, you will instantiate a new session using
<code>IntegrationTest#open_session</code>, rather than instantiating
<code>Session</code> directly.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='DEFAULT_HOST-constant' class='summary_signature'>DEFAULT_HOST =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L68-L68'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 68</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>www.example.com</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
</ul>
  <h3 class='inherited'><a href="../Assertions/ResponseAssertions.html" title="ActionDispatch::Assertions::ResponseAssertions (module)">::ActionDispatch::Assertions::ResponseAssertions</a> - Included</h3>
  <p  class='inherited'>
    <a class='nodoc' href="../Assertions/ResponseAssertions.html#RESPONSE_PREDICATES-constant" title="ActionDispatch::Assertions::ResponseAssertions::RESPONSE_PREDICATES (constant)">RESPONSE_PREDICATES</a>
  </p>
</div>

<h2 class='h2_sum'><a href="../Routing/UrlFor.html" title="ActionDispatch::Routing::UrlFor (module)">::ActionDispatch::Routing::UrlFor</a> - Attributes &amp; Methods</h2>
<div>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#default_url_options-class_method" title=".default_url_options (class method)">.<strong>default_url_options</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#default_url_options-instance_method" title="#default_url_options (instance method)">#<strong>default_url_options</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#default_url_options%3F-class_method" title=".default_url_options? (class method)">.<strong>default_url_options?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#default_url_options%3F-instance_method" title="#default_url_options? (instance method)">#<strong>default_url_options?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(app)  &#x21d2; Session </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Create and initialize a new <code>Session</code> instance.</p></div>
    </div>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='instance_Attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#accept-instance_method" title="#accept (instance method)">#<strong>accept</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The Accept header to send.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#host-instance_method" title="#host (instance method)">#<strong>host</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The hostname used in the last request.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#host=-instance_method" title="#host= (instance method)">#<strong>host=</strong>(value)  </a>
      (also: #host!)
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#remote_addr-instance_method" title="#remote_addr (instance method)">#<strong>remote_addr</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The remote_addr used in the last request.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#request_count-instance_method" title="#request_count (instance method)">#<strong>request_count</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>A running counter of the number of requests processed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#controller-instance_method" title="#controller (instance method)">#<strong>controller</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>A reference to the controller instance used by the last request.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#https%3F-instance_method" title="#https? (instance method)">#<strong>https?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if the session is mimicking a secure HTTPS request.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#request-instance_method" title="#request (instance method)">#<strong>request</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>A reference to the request instance used by the last request.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#response-instance_method" title="#response (instance method)">#<strong>response</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>A reference to the response instance used by the last request.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="../Routing/UrlFor.html" title="ActionDispatch::Routing::UrlFor (module)">::ActionDispatch::Routing::UrlFor</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ro prot' href="../Routing/UrlFor.html#optimize_routes_generation%3F-instance_method" title="ActionDispatch::Routing::UrlFor#optimize_routes_generation? (method)">#optimize_routes_generation?</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>
        

<h2 class='h2_sum' id='instance_Method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#cookies-instance_method" title="#cookies (instance method)">#<strong>cookies</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>A map of the cookies returned by the last response, and which will be sent
with the next request.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#https!-instance_method" title="#https! (instance method)">#<strong>https!</strong>(flag = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Specify whether or not the session should mimic a secure HTTPS request.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#process-instance_method" title="#process (instance method)">#<strong>process</strong>(method, path, params: nil, headers: nil, env: nil, xhr: false, as: nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Performs the actual request.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reset!-instance_method" title="#reset! (instance method)">#<strong>reset!</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Resets the instance.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#url_options-instance_method" title="#url_options (instance method)">#<strong>url_options</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#_mock_session-instance_method" title="#_mock_session (instance method)">#<strong>_mock_session</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#build_expanded_path-instance_method" title="#build_expanded_path (instance method)">#<strong>build_expanded_path</strong>(path) {|location| ... } </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#build_full_uri-instance_method" title="#build_full_uri (instance method)">#<strong>build_full_uri</strong>(path, env)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>

<h3 class='inherited'><a href="../Routing/UrlFor.html" title="ActionDispatch::Routing::UrlFor (module)">::ActionDispatch::Routing::UrlFor</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Routing/UrlFor.html#initialize-instance_method" title="ActionDispatch::Routing::UrlFor#initialize (method)">#initialize</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Routing/UrlFor.html#url_for-instance_method" title="ActionDispatch::Routing::UrlFor#url_for (method)">#url_for</a></td>
      <td><div class='inline'><p>Generate a url based on the options provided, default_url_options and the
routes defined in routes.rb.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Routing/UrlFor.html#url_options-instance_method" title="ActionDispatch::Routing::UrlFor#url_options (method)">#url_options</a></td>
      <td><div class='inline'><p>Hook overridden in controller to add request information with
`default_url_options`.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../Routing/UrlFor.html#_routes_context-instance_method" title="ActionDispatch::Routing::UrlFor#_routes_context (method)">#_routes_context</a>,
        <a class='i_m priv' href="../Routing/UrlFor.html#_with_routes-instance_method" title="ActionDispatch::Routing::UrlFor#_with_routes (method)">#_with_routes</a>,
        <a class='i_m nodoc' href="../Routing/UrlFor.html#full_url_for-instance_method" title="ActionDispatch::Routing::UrlFor#full_url_for (method)">#full_url_for</a>,
        <a class='i_m nodoc' href="../Routing/UrlFor.html#route_for-instance_method" title="ActionDispatch::Routing::UrlFor#route_for (method)">#route_for</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../Routing/PolymorphicRoutes.html" title="ActionDispatch::Routing::PolymorphicRoutes (module)">::ActionDispatch::Routing::PolymorphicRoutes</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Routing/PolymorphicRoutes.html#polymorphic_path-instance_method" title="ActionDispatch::Routing::PolymorphicRoutes#polymorphic_path (method)">#polymorphic_path</a></td>
      <td><div class='inline'><p>Returns the path component of a URL for the given record.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Routing/PolymorphicRoutes.html#polymorphic_url-instance_method" title="ActionDispatch::Routing::PolymorphicRoutes#polymorphic_url (method)">#polymorphic_url</a></td>
      <td><div class='inline'><p>Constructs a call to a named RESTful route for the given record and returns
the resulting URL string.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../Routing/PolymorphicRoutes.html#polymorphic_mapping-instance_method" title="ActionDispatch::Routing::PolymorphicRoutes#polymorphic_mapping (method)">#polymorphic_mapping</a>,
        <a class='i_m priv' href="../Routing/PolymorphicRoutes.html#polymorphic_path_for_action-instance_method" title="ActionDispatch::Routing::PolymorphicRoutes#polymorphic_path_for_action (method)">#polymorphic_path_for_action</a>,
        <a class='i_m priv' href="../Routing/PolymorphicRoutes.html#polymorphic_url_for_action-instance_method" title="ActionDispatch::Routing::PolymorphicRoutes#polymorphic_url_for_action (method)">#polymorphic_url_for_action</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../TestProcess.html" title="ActionDispatch::TestProcess (module)">::ActionDispatch::TestProcess</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../TestProcess.html#assigns-instance_method" title="ActionDispatch::TestProcess#assigns (method)">#assigns</a>,
        <a class='i_m ' href="../TestProcess.html#cookies-instance_method" title="ActionDispatch::TestProcess#cookies (method)">#cookies</a>,
        <a class='i_m ' href="../TestProcess.html#flash-instance_method" title="ActionDispatch::TestProcess#flash (method)">#flash</a>,
        <a class='i_m ' href="../TestProcess.html#redirect_to_url-instance_method" title="ActionDispatch::TestProcess#redirect_to_url (method)">#redirect_to_url</a>,
        <a class='i_m ' href="../TestProcess.html#session-instance_method" title="ActionDispatch::TestProcess#session (method)">#session</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../TestProcess/FixtureFile.html" title="ActionDispatch::TestProcess::FixtureFile (module)">::ActionDispatch::TestProcess::FixtureFile</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TestProcess/FixtureFile.html#fixture_file_upload-instance_method" title="ActionDispatch::TestProcess::FixtureFile#fixture_file_upload (method)">#fixture_file_upload</a></td>
      <td><div class='inline'><p>Shortcut for
<code>Rack::Test::UploadedFile.new(File.join(ActionDispatch::IntegrationTest.fixture_path,
path), type)</code>:</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="RequestHelpers.html" title="ActionDispatch::Integration::RequestHelpers (module)">RequestHelpers</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RequestHelpers.html#delete-instance_method" title="ActionDispatch::Integration::RequestHelpers#delete (method)">#delete</a></td>
      <td><div class='inline'><p>Performs a DELETE request with the given parameters.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RequestHelpers.html#follow_redirect!-instance_method" title="ActionDispatch::Integration::RequestHelpers#follow_redirect! (method)">#follow_redirect!</a></td>
      <td><div class='inline'><p>Follow a single redirect response.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RequestHelpers.html#get-instance_method" title="ActionDispatch::Integration::RequestHelpers#get (method)">#get</a></td>
      <td><div class='inline'><p>Performs a GET request with the given parameters.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RequestHelpers.html#head-instance_method" title="ActionDispatch::Integration::RequestHelpers#head (method)">#head</a></td>
      <td><div class='inline'><p>Performs a HEAD request with the given parameters.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RequestHelpers.html#patch-instance_method" title="ActionDispatch::Integration::RequestHelpers#patch (method)">#patch</a></td>
      <td><div class='inline'><p>Performs a PATCH request with the given parameters.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RequestHelpers.html#post-instance_method" title="ActionDispatch::Integration::RequestHelpers#post (method)">#post</a></td>
      <td><div class='inline'><p>Performs a POST request with the given parameters.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RequestHelpers.html#put-instance_method" title="ActionDispatch::Integration::RequestHelpers#put (method)">#put</a></td>
      <td><div class='inline'><p>Performs a PUT request with the given parameters.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../Assertions.html" title="ActionDispatch::Assertions (module)">::ActionDispatch::Assertions</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Assertions.html#html_document-instance_method" title="ActionDispatch::Assertions#html_document (method)">#html_document</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../Assertions/RoutingAssertions.html" title="ActionDispatch::Assertions::RoutingAssertions (module)">::ActionDispatch::Assertions::RoutingAssertions</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Assertions/RoutingAssertions.html#assert_generates-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#assert_generates (method)">#assert_generates</a></td>
      <td><div class='inline'><p>Asserts that the provided options can be used to generate the provided
path.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Assertions/RoutingAssertions.html#assert_recognizes-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#assert_recognizes (method)">#assert_recognizes</a></td>
      <td><div class='inline'><p>Asserts that the routing of the given <code>path</code> was handled correctly and that
the parsed options (given in the <code>expected_options</code> hash) match <code>path</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Assertions/RoutingAssertions.html#assert_routing-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#assert_routing (method)">#assert_routing</a></td>
      <td><div class='inline'><p>Asserts that path and options match both ways; in other words, it verifies
that <code>path</code> generates <code>options</code> and then that <code>options</code> generates <code>path</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Assertions/RoutingAssertions.html#method_missing-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#method_missing (method)">#method_missing</a></td>
      <td><div class='inline'><p>ROUTES TODO: These assertions should really work in an integration context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Assertions/RoutingAssertions.html#with_routing-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#with_routing (method)">#with_routing</a></td>
      <td><div class='inline'><p>A helper to make it easier to test different route configurations.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../Assertions/RoutingAssertions.html#fail_on-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#fail_on (method)">#fail_on</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../Assertions/RoutingAssertions.html#recognized_request_for-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#recognized_request_for (method)">#recognized_request_for</a></td>
      <td><div class='inline'><p>Recognizes the route for a given path.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../Assertions/ResponseAssertions.html" title="ActionDispatch::Assertions::ResponseAssertions (module)">::ActionDispatch::Assertions::ResponseAssertions</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Assertions/ResponseAssertions.html#assert_redirected_to-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#assert_redirected_to (method)">#assert_redirected_to</a></td>
      <td><div class='inline'><p>Asserts that the redirection options passed in match those of the redirect
called in the latest action.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Assertions/ResponseAssertions.html#assert_response-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#assert_response (method)">#assert_response</a></td>
      <td><div class='inline'><p>Asserts that the response is one of the following types:</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../Assertions/ResponseAssertions.html#code_with_name-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#code_with_name (method)">#code_with_name</a>,
        <a class='i_m priv' href="../Assertions/ResponseAssertions.html#generate_response_message-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#generate_response_message (method)">#generate_response_message</a>,
        <a class='i_m priv' href="../Assertions/ResponseAssertions.html#location_if_redirected-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#location_if_redirected (method)">#location_if_redirected</a>,
        <a class='i_m priv' href="../Assertions/ResponseAssertions.html#normalize_argument_to_redirection-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#normalize_argument_to_redirection (method)">#normalize_argument_to_redirection</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../Assertions/ResponseAssertions.html#parameterize-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#parameterize (method)">#parameterize</a></td>
      <td><div class='inline'><p>Proxy to to_param if the object will respond to it.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../Assertions/ResponseAssertions.html#response_body_if_short-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#response_body_if_short (method)">#response_body_if_short</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(app)  &#x21d2; <code>Session</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Create and initialize a new <code>Session</code> instance.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L114-L119'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


114
115
116
117
118
119</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 114</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='ivar'>@app</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span>

  <span class='id identifier rubyid_reset!'>reset!</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 id='method_missing_details' class='y_details'>Dynamic Method Handling</h2>
  <p class='notice super'>
    This class handles dynamic methods through the <tt>method_missing</tt> method
      in the class <a href="../Assertions/RoutingAssertions.html#method_missing-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#method_missing (method)">ActionDispatch::Assertions::RoutingAssertions</a></p>
<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="default_url_options-class_method">
  <h3 class='signature rw first'>
    .<strong>default_url_options</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/routing/url_for.rb#L93-L93'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


93</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/url_for.rb', line 93</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_class_attribute'>class_attribute</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default_url_options'>default_url_options</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_url_options?-class_method">
  <h3 class='signature rw'>
    .<strong>default_url_options?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/routing/url_for.rb#L93-L93'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


93</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/url_for.rb', line 93</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_class_attribute'>class_attribute</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default_url_options'>default_url_options</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="accept-instance_method">
  <h3 class='signature rw first'>
    #<strong>accept</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The Accept header to send.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L91-L91'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


91</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 91</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_accept'>accept</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="controller-instance_method">
  <h3 class='signature ro'>
    #<strong>controller</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A reference to the controller instance used by the last request.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L100-L100'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


100</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 100</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_controller'>controller</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_url_options-instance_method">
  <h3 class='signature rw'>
    #<strong>default_url_options</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/routing/url_for.rb#L93-L93'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


93</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/url_for.rb', line 93</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_class_attribute'>class_attribute</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default_url_options'>default_url_options</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_url_options?-instance_method">
  <h3 class='signature rw'>
    #<strong>default_url_options?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/routing/url_for.rb#L93-L93'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


93</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/url_for.rb', line 93</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_class_attribute'>class_attribute</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default_url_options'>default_url_options</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="host-instance_method">
  <h3 class='signature rw'>
    #<strong>host</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The hostname used in the last request.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L82-L84'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


82
83
84</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 82</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_host'>host</span>
  <span class='ivar'>@host</span> <span class='op'>||</span> <span class='const'><a href="#DEFAULT_HOST-constant" title="ActionDispatch::Integration::Session::DEFAULT_HOST (constant)">DEFAULT_HOST</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="host=-instance_method">
  <h3 class='signature rw'>
    #<strong>host=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#host!</span></span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L85-L85'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


85</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 85</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_host'>host</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="https?-instance_method">
  <h3 class='signature ro'>
    #<strong>https?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if the session is mimicking a secure HTTPS request.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>if</span> <span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_https?'>https?</span>
  <span class='comment'>#...
</span><span class='kw'>end</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L171-L173'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


171
172
173</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 171</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_https?'>https?</span>
  <span class='ivar'>@https</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="remote_addr-instance_method">
  <h3 class='signature rw'>
    #<strong>remote_addr</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The remote_addr used in the last request.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L88-L88'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


88</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 88</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_remote_addr'>remote_addr</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="request-instance_method">
  <h3 class='signature ro'>
    #<strong>request</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A reference to the request instance used by the last request.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L103-L103'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


103</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 103</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_request'>request</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="request_count-instance_method">
  <h3 class='signature rw'>
    #<strong>request_count</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A running counter of the number of requests processed.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L109-L109'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


109</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 109</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_request_count'>request_count</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="response-instance_method">
  <h3 class='signature ro'>
    #<strong>response</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A reference to the response instance used by the last request.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L106-L106'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


106</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 106</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_response'>response</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="_mock_session-instance_method">
  <h3 class='signature priv first'>
    #<strong>_mock_session</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L282-L284'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


282
283
284</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 282</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__mock_session'>_mock_session</span>
  <span class='ivar'>@_mock_session</span> <span class='op'>||=</span> <span class='const'><a href="../../Rack.html" title="Rack (module)">Rack</a></span><span class='op'>::</span><span class='const'>MockSession</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@app</span><span class='comma'>,</span> <span class='id identifier rubyid_host'>host</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="build_expanded_path-instance_method">
  <h3 class='signature priv'>
    #<strong>build_expanded_path</strong>(path) {|location| ... }  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<code>location</code>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L290-L295'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


290
291
292
293
294
295</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 290</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_build_expanded_path'>build_expanded_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='const'><a href="../../URI.html" title="URI (module)">URI</a></span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_location'>location</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>?</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="build_full_uri-instance_method">
  <h3 class='signature priv'>
    #<strong>build_full_uri</strong>(path, env)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L286-L288'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


286
287
288</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 286</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_build_full_uri'>build_full_uri</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_env'>env</span><span class='rparen'>)</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_env'>env</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rack.url_scheme</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_env'>env</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SERVER_NAME</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_env'>env</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SERVER_PORT</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cookies-instance_method">
  <h3 class='signature '>
    #<strong>cookies</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A map of the cookies returned by the last response, and which will be sent
with the next request.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L95-L97'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


95
96
97</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 95</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cookies'>cookies</span>
  <span class='id identifier rubyid__mock_session'>_mock_session</span><span class='period'>.</span><span class='id identifier rubyid_cookie_jar'>cookie_jar</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="https!-instance_method">
  <h3 class='signature '>
    #<strong>https!</strong>(flag = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Specify whether or not the session should mimic a secure HTTPS request.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_https!'>https!</span>
<span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_https!'>https!</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L162-L164'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


162
163
164</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 162</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_https!'>https!</span><span class='lparen'>(</span><span class='id identifier rubyid_flag'>flag</span> <span class='op'>=</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='ivar'>@https</span> <span class='op'>=</span> <span class='id identifier rubyid_flag'>flag</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="process-instance_method">
  <h3 class='signature '>
    #<strong>process</strong>(method, path, params: nil, headers: nil, env: nil, xhr: false, as: nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Performs the actual request.</p>
<ul><li>
<p><code>method</code>: The HTTP method (GET, POST, PATCH, PUT, DELETE, HEAD, OPTIONS) as
a symbol.</p>
</li><li>
<p><code>path</code>: The URI (as a <a href="../../String.html" title="String (class)">::String</a>) on which you want to perform the request.</p>
</li><li>
<p><code>params</code>: The HTTP parameters that you want to pass. This may be
<code>nil</code>, a Hash, or a String that is appropriately encoded
(<code>application/x-www-form-urlencoded</code> or
<code>multipart/form-data</code>).</p>
</li><li>
<p><code>headers</code>: Additional headers to pass, as a <a href="../../Hash.html" title="Hash (class)">::Hash</a>. The headers will be
merged into the Rack env hash.</p>
</li><li>
<p><code>env</code>: Additional env to pass, as a <a href="../../Hash.html" title="Hash (class)">::Hash</a>. The headers will be merged into
the Rack env hash.</p>
</li></ul>

<p>This method is rarely used directly. Use <code>#get</code>, <code>#post</code>, or other standard
HTTP methods in integration tests. <code>#process</code> is only required when using a
request method that doesn&#39;t have a method defined in the integration
tests.</p>

<p>This method returns the response status, after performing the request.
Furthermore, if this method was called from an
<a href="../IntegrationTest.html" title="ActionDispatch::IntegrationTest (class)">::ActionDispatch::IntegrationTest</a> object, then that object&#39;s
<code>@response</code> instance variable will point to a
<a href="../Response.html" title="ActionDispatch::Response (class)">::ActionDispatch::Response</a> object which one can use to inspect the details
of the response.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_process'>process</span> <span class='symbeg'>:</span><span class='id identifier rubyid_get'>get</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/author</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>params:</span> <span class='lbrace'>{</span> <span class='label'>since:</span> <span class='int'>201501011400</span> <span class='rbrace'>}</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L202-L274'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 202</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_process'>process</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='label'>params:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>env:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>xhr:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>as:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_request_encoder'>request_encoder</span> <span class='op'>=</span> <span class='const'><a href="../RequestEncoder.html" title="ActionDispatch::RequestEncoder (class)">RequestEncoder</a></span><span class='period'>.</span><span class='id identifier rubyid_encoder'><a href="../RequestEncoder.html#encoder-class_method" title="ActionDispatch::RequestEncoder.encoder (method)">encoder</a></span><span class='lparen'>(</span><span class='id identifier rubyid_as'>as</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_headers'>headers</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_method'>method</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_get'>get</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_as'>as</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_json'>json</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_params'>params</span>
    <span class='id identifier rubyid_headers'>headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X-Http-Method-Override</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_method'>method</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>://</span><span class='regexp_end'>}</span></span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_build_expanded_path'>build_expanded_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_location'>location</span><span class='op'>|</span>
      <span class='id identifier rubyid_https!'>https!</span> <span class='const'><a href="../../URI.html" title="URI (module)">URI</a></span><span class='op'>::</span><span class='const'>HTTPS</span> <span class='op'>===</span> <span class='id identifier rubyid_location'>location</span> <span class='kw'>if</span> <span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_url_host'>url_host</span> <span class='op'>=</span> <span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span>
        <span class='id identifier rubyid_default'>default</span> <span class='op'>=</span> <span class='const'><a href="../../Rack.html" title="Rack (module)">Rack</a></span><span class='op'>::</span><span class='const'>Request</span><span class='op'>::</span><span class='const'>DEFAULT_PORTS</span><span class='lbracket'>[</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_url_host'>url_host</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_default'>default</span> <span class='op'>!=</span> <span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span>
        <span class='id identifier rubyid_host!'>host!</span> <span class='id identifier rubyid_url_host'>url_host</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_hostname'>hostname</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='id identifier rubyid_host'>host</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_request_env'>request_env</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_params'>params</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_request_encoder'>request_encoder</span><span class='period'>.</span><span class='id identifier rubyid_encode_params'>encode_params</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span><span class='comma'>,</span>

    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SERVER_NAME</span><span class='tstring_end'>&quot;</span></span>     <span class='op'>=&gt;</span> <span class='id identifier rubyid_hostname'>hostname</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SERVER_PORT</span><span class='tstring_end'>&quot;</span></span>     <span class='op'>=&gt;</span> <span class='id identifier rubyid_port'>port</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='id identifier rubyid_https?'>https?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>443</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>80</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTPS</span><span class='tstring_end'>&quot;</span></span>           <span class='op'>=&gt;</span> <span class='id identifier rubyid_https?'>https?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>on</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>off</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rack.url_scheme</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_https?'>https?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>

    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>REQUEST_URI</span><span class='tstring_end'>&quot;</span></span>    <span class='op'>=&gt;</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP_HOST</span><span class='tstring_end'>&quot;</span></span>      <span class='op'>=&gt;</span> <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>REMOTE_ADDR</span><span class='tstring_end'>&quot;</span></span>    <span class='op'>=&gt;</span> <span class='id identifier rubyid_remote_addr'>remote_addr</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CONTENT_TYPE</span><span class='tstring_end'>&quot;</span></span>   <span class='op'>=&gt;</span> <span class='id identifier rubyid_request_encoder'>request_encoder</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP_ACCEPT</span><span class='tstring_end'>&quot;</span></span>    <span class='op'>=&gt;</span> <span class='id identifier rubyid_request_encoder'>request_encoder</span><span class='period'>.</span><span class='id identifier rubyid_accept_header'>accept_header</span> <span class='op'>||</span> <span class='id identifier rubyid_accept'>accept</span>
  <span class='rbrace'>}</span>

  <span class='id identifier rubyid_wrapped_headers'>wrapped_headers</span> <span class='op'>=</span> <span class='const'><a href="../Http.html" title="ActionDispatch::Http (module)">Http</a></span><span class='op'>::</span><span class='const'><a href="../Http/Headers.html" title="ActionDispatch::Http::Headers (class)">Headers</a></span><span class='period'>.</span><span class='id identifier rubyid_from_hash'><a href="../Http/Headers.html#from_hash-class_method" title="ActionDispatch::Http::Headers.from_hash (method)">from_hash</a></span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_wrapped_headers'>wrapped_headers</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_headers'>headers</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_headers'>headers</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_xhr'>xhr</span>
    <span class='id identifier rubyid_wrapped_headers'>wrapped_headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP_X_REQUESTED_WITH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>XMLHttpRequest</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_wrapped_headers'>wrapped_headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP_ACCEPT</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='const'><a href="../../Mime.html" title="Mime (module)">Mime</a></span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_js'>js</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='const'><a href="../../Mime.html" title="Mime (module)">Mime</a></span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_html'>html</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='const'><a href="../../Mime.html" title="Mime (module)">Mime</a></span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_xml'>xml</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text/xml</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*/*</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># this modifies the passed request_env directly
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_wrapped_headers'>wrapped_headers</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='const'><a href="../Http.html" title="ActionDispatch::Http (module)">Http</a></span><span class='op'>::</span><span class='const'><a href="../Http/Headers.html" title="ActionDispatch::Http::Headers (class)">Headers</a></span><span class='period'>.</span><span class='id identifier rubyid_from_hash'><a href="../Http/Headers.html#from_hash-class_method" title="ActionDispatch::Http::Headers.from_hash (method)">from_hash</a></span><span class='lparen'>(</span><span class='id identifier rubyid_request_env'>request_env</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_wrapped_headers'>wrapped_headers</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_env'>env</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='const'><a href="../Http.html" title="ActionDispatch::Http (module)">Http</a></span><span class='op'>::</span><span class='const'><a href="../Http/Headers.html" title="ActionDispatch::Http::Headers (class)">Headers</a></span><span class='period'>.</span><span class='id identifier rubyid_from_hash'><a href="../Http/Headers.html#from_hash-class_method" title="ActionDispatch::Http::Headers.from_hash (method)">from_hash</a></span><span class='lparen'>(</span><span class='id identifier rubyid_request_env'>request_env</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_env'>env</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_session'>session</span> <span class='op'>=</span> <span class='const'><a href="../../Rack.html" title="Rack (module)">Rack</a></span><span class='op'>::</span><span class='const'>Test</span><span class='op'>::</span><span class='const'>Session</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid__mock_session'>_mock_session</span><span class='rparen'>)</span>

  <span class='comment'># NOTE: rack-test v0.5 doesn&#39;t build a default uri correctly
</span>  <span class='comment'># Make sure requested path is always a full uri
</span>  <span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_request'>request</span><span class='lparen'>(</span><span class='id identifier rubyid_build_full_uri'>build_full_uri</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_request_env'>request_env</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_request_env'>request_env</span><span class='rparen'>)</span>

  <span class='ivar'>@request_count</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='ivar'>@request</span> <span class='op'>=</span> <span class='const'><a href="../../ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a></span><span class='op'>::</span><span class='const'><a href="../Request.html" title="ActionDispatch::Request (class)">Request</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="../Request.html#new-class_method" title="ActionDispatch::Request.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_last_request'>last_request</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid__mock_session'>_mock_session</span><span class='period'>.</span><span class='id identifier rubyid_last_response'>last_response</span>
  <span class='ivar'>@response</span> <span class='op'>=</span> <span class='const'><a href="../../ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a></span><span class='op'>::</span><span class='const'><a href="../TestResponse.html" title="ActionDispatch::TestResponse (class)">TestResponse</a></span><span class='period'>.</span><span class='id identifier rubyid_from_response'><a href="../TestResponse.html#from_response-class_method" title="ActionDispatch::TestResponse.from_response (method)">from_response</a></span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
  <span class='ivar'>@response</span><span class='period'>.</span><span class='id identifier rubyid_request'>request</span> <span class='op'>=</span> <span class='ivar'>@request</span>
  <span class='ivar'>@html_document</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@url_options</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@controller</span> <span class='op'>=</span> <span class='ivar'>@request</span><span class='period'>.</span><span class='id identifier rubyid_controller_instance'>controller_instance</span>

  <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reset!-instance_method">
  <h3 class='signature '>
    #<strong>reset!</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Resets the instance. This can be used to reset the state information in an
existing session instance, so it can be used from a clean-slate condition.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_reset!'>reset!</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L138-L156'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 138</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reset!'>reset!</span>
  <span class='ivar'>@https</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@controller</span> <span class='op'>=</span> <span class='ivar'>@request</span> <span class='op'>=</span> <span class='ivar'>@response</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@_mock_session</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@request_count</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@url_options</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span>        <span class='op'>=</span> <span class='const'><a href="#DEFAULT_HOST-constant" title="ActionDispatch::Integration::Session::DEFAULT_HOST (constant)">DEFAULT_HOST</a></span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_remote_addr'>remote_addr</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_accept'>accept</span>      <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text/xml,application/xml,application/xhtml+xml,</span><span class='tstring_end'>&quot;</span></span> \
                     <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text/html;q=0.9,text/plain;q=0.8,image/png,</span><span class='tstring_end'>&quot;</span></span> \
                     <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*/*;q=0.5</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>unless</span> <span class='kw'>defined?</span> <span class='ivar'>@named_routes_configured</span>
    <span class='comment'># the helpers are made protected by default--we make them public for
</span>    <span class='comment'># easier access during testing and troubleshooting.
</span>    <span class='ivar'>@named_routes_configured</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="url_options-instance_method">
  <h3 class='signature '>
    #<strong>url_options</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L121-L131'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


121
122
123
124
125
126
127
128
129
130
131</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 121</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_url_options'>url_options</span>
  <span class='ivar'>@url_options</span> <span class='op'>||=</span> <span class='id identifier rubyid_default_url_options'>default_url_options</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_url_options'>url_options</span><span class='op'>|</span>
    <span class='id identifier rubyid_url_options'>url_options</span><span class='period'>.</span><span class='id identifier rubyid_reverse_merge!'>reverse_merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_controller'>controller</span><span class='period'>.</span><span class='id identifier rubyid_url_options'>url_options</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_controller'>controller</span>

    <span class='kw'>if</span> <span class='ivar'>@app</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_routes'>routes</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_url_options'>url_options</span><span class='period'>.</span><span class='id identifier rubyid_reverse_merge!'>reverse_merge!</span><span class='lparen'>(</span><span class='ivar'>@app</span><span class='period'>.</span><span class='id identifier rubyid_routes'>routes</span><span class='period'>.</span><span class='id identifier rubyid_default_url_options'>default_url_options</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_url_options'>url_options</span><span class='period'>.</span><span class='id identifier rubyid_reverse_merge!'>reverse_merge!</span><span class='lparen'>(</span><span class='label'>host:</span> <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='label'>protocol:</span> <span class='id identifier rubyid_https?'>https?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.8 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.9.0 (ruby-2.5.0p-1)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>