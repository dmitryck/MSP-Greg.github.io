<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActionDispatch::Routing::Mapper::Resources &mdash; Rails-5-1-stable</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActionDispatch::Routing::Mapper::Resources",
    relpath = '../../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
        <a href='../../../../index.html'>Home</a> &raquo; 
        <a href='../../../index.html'>Rails-5-1-stable</a> &raquo; 
        <a href='../../../_index.html#alpha_R'>Index (R)</a> &raquo; 
        <a href="../../../ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a> &raquo; 
        <a href="../../Routing.html" title="ActionDispatch::Routing (module)">Routing</a> &raquo; 
        <a href="../Mapper.html" title="ActionDispatch::Routing::Mapper (class)">Mapper</a> &raquo; 
        <span class='title'><a id='t2_doc_top' href='#'>Resources&nbsp;&#x25B2;</a></span>
      </div>

    <a id='list_href' href="../../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActionDispatch::Routing::Mapper::Resources</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="../Mapper.html" title="ActionDispatch::Routing::Mapper (class)">::ActionDispatch::Routing::Mapper</a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1104'>actionpack/lib/action_dispatch/routing/mapper.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p><a href="Resources/Resource.html" title="ActionDispatch::Routing::Mapper::Resources::Resource (class)">Resource</a> routing allows you
to quickly declare all of the common routes for a given resourceful
controller. Instead of declaring separate routes for your <code>index</code>, <code>show</code>,
<a href="#new-instance_method" title="ActionDispatch::Routing::Mapper::Resources#new (method)">#new</a>, <code>edit</code>, <code>create</code>, <code>update</code> and <code>destroy</code> actions, a resourceful
route declares them in a single line of code:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_photos'>photos</span></code></pre>

<p>Sometimes, you have a resource that clients always look up without
referencing an ID. A common example, /profile always shows the profile of
the currently logged in user. In this case, you can use a singular resource
to map /profile (rather than /profile/:id) to the show action.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resource'>resource</span> <span class='symbeg'>:</span><span class='id identifier rubyid_profile'>profile</span></code></pre>

<p>It&#39;s common to have resources that are logically children of other
resources:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_magazines'>magazines</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ads'>ads</span>
<span class='kw'>end</span></code></pre>

<p>You may wish to organize groups of controllers under a namespace. Most
commonly, you might group a number of administrative controllers under an
<code>admin</code> namespace. You would place these controllers under the
<code>app/controllers/admin</code> directory, and you can group them
together in your router:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_namespace'>namespace</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>admin</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_posts'>posts</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_comments'>comments</span>
<span class='kw'>end</span></code></pre>

<p>By default the <code>:id</code> parameter doesn&#39;t accept dots. If you
need to use dots as part of the <code>:id</code> parameter add a constraint
which overrides this restriction, e.g:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_articles'>articles</span><span class='comma'>,</span> <span class='label'>id:</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[^\/]+</span><span class='regexp_end'>/</span></span></code></pre>

<p>This allows any character other than a slash as part of your
<code>:id</code>.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='CANONICAL_ACTIONS-constant' class='summary_signature'>CANONICAL_ACTIONS =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1109-L1109'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1109</a>    <pre class='code ruby'><span class='qwords'><span class='qwords_beg'>%w(</span><span class='tstring_content'>index</span><span class='words_sep'> </span><span class='tstring_content'>create</span><span class='words_sep'> </span><span class='tstring_content'>new</span><span class='words_sep'> </span><span class='tstring_content'>show</span><span class='words_sep'> </span><span class='tstring_content'>update</span><span class='words_sep'> </span><span class='tstring_content'>destroy</span><span class='words_sep'>)</span></span></pre>
  </li>
  <li>
    <span id='RESOURCE_OPTIONS-constant' class='summary_signature'>RESOURCE_OPTIONS =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1108-L1108'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1108</a>    <pre class='code ruby'><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_as'>as</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_controller'>controller</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_only'>only</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_except'>except</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_param'>param</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_concerns'>concerns</span><span class='rbracket'>]</span></pre>
  </li>
  <li>
    <span id='VALID_ON_OPTIONS-constant' class='summary_signature'>VALID_ON_OPTIONS =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="#CANONICAL_ACTIONS-constant" title="ActionDispatch::Routing::Mapper::Resources::CANONICAL_ACTIONS (constant)">CANONICAL_ACTIONS</a> holds all
actions that does not need a prefix or a path appended since they fit
properly in their scope level.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1107-L1107'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1107</a>    <pre class='code ruby'><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_member'>member</span><span class='rbracket'>]</span></pre>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='instance_Attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#shallow-instance_method" title="#shallow (instance method)">#<strong>shallow</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#shallow%3F-instance_method" title="#shallow? (instance method)">#<strong>shallow?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro priv'>
      <a href="#api_only%3F-instance_method" title="#api_only? (instance method)">#<strong>api_only?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='instance_Method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#collection-instance_method" title="#collection (instance method)">#<strong>collection</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>To add a route to the collection:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#match-instance_method" title="#match (instance method)">#<strong>match</strong>(path, *rest, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Matches a url pattern to one or more routes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#member-instance_method" title="#member (instance method)">#<strong>member</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>To add a member route, add a member block into the resource block:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#namespace-instance_method" title="#namespace (instance method)">#<strong>namespace</strong>(path, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>See <a href="Scoping.html#namespace-instance_method" title="ActionDispatch::Routing::Mapper::Scoping#namespace (method)">Scoping#namespace</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#nested-instance_method" title="#nested (instance method)">#<strong>nested</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-instance_method" title="#new (instance method)">#<strong>new</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#resource-instance_method" title="#resource (instance method)">#<strong>resource</strong>(*resources, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sometimes, you have a resource that clients always look up without
referencing an ID.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#resources-instance_method" title="#resources (instance method)">#<strong>resources</strong>(*resources, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>In Rails, a resourceful route provides a mapping between HTTP verbs and
URLs and controller actions.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#resources_path_names-instance_method" title="#resources_path_names (instance method)">#<strong>resources_path_names</strong>(options)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#root-instance_method" title="#root (instance method)">#<strong>root</strong>(path, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>You can specify what <a href="../../../Rails.html" title="Rails (module)">::Rails</a> should route "/" to with the root method:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#set_member_mappings_for_resource-instance_method" title="#set_member_mappings_for_resource (instance method)">#<strong>set_member_mappings_for_resource</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#with_scope_level-instance_method" title="#with_scope_level (instance method)">#<strong>with_scope_level</strong>(kind)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>
<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="api_only?-instance_method">
  <h3 class='signature ro priv first'>
    #<strong>api_only?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>, <span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1801-L1803'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1801
1802
1803</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1801</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_api_only?'>api_only?</span> <span class='comment'># :doc:
</span>  <span class='ivar'>@set</span><span class='period'>.</span><span class='id identifier rubyid_api_only?'>api_only?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shallow-instance_method">
  <h3 class='signature ro'>
    #<strong>shallow</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1537-L1542'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1537
1538
1539
1540
1541
1542</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1537</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_shallow'>shallow</span>
  <span class='ivar'>@scope</span> <span class='op'>=</span> <span class='ivar'>@scope</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>shallow:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='kw'>yield</span>
<span class='kw'>ensure</span>
  <span class='ivar'>@scope</span> <span class='op'>=</span> <span class='ivar'>@scope</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shallow?-instance_method">
  <h3 class='signature ro'>
    #<strong>shallow?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1544-L1546'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1544
1545
1546</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1544</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_shallow?'>shallow?</span>
  <span class='op'>!</span><span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_singleton?'>singleton?</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_shallow'>shallow</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="collection-instance_method">
  <h3 class='signature  first'>
    #<strong>collection</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>To add a route to the collection:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_photos'>photos</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_collection'>collection</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_get'>get</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>search</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>This will enable <a href="../../../Rails.html" title="Rails (module)">::Rails</a> to recognize paths such as
<code>/photos/search</code> with GET, and route to the search action of
<code>PhotosController</code>. It will also create the <code>search_photos_url</code> and
<code>search_photos_path</code> route helpers.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1457-L1467'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1457
1458
1459
1460
1461
1462
1463
1464
1465
1466
1467</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1457</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_collection'>collection</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_resource_scope?'>resource_scope?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t use collection outside resource(s) scope</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_with_scope_level'>with_scope_level</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_collection'>collection</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_path_scope'>path_scope</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_collection_scope'>collection_scope</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='kw'>yield</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="match-instance_method">
  <h3 class='signature '>
    #<strong>match</strong>(path, *rest, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Matches a url pattern to one or more routes. For more information, see <a
href="rdoc-ref:Base#match">match</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_match'>match</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>controller#action</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>via:</span> <span class='id identifier rubyid_patch'>patch</span>
<span class='id identifier rubyid_match'>match</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>to:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>controller#action</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>via:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span>
<span class='id identifier rubyid_match'>match</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>otherpath</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>on:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_member'>member</span><span class='comma'>,</span> <span class='label'>via:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_get'>get</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1554-L1586'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1554
1555
1556
1557
1558
1559
1560
1561
1562
1563
1564
1565
1566
1567
1568
1569
1570
1571
1572
1573
1574
1575
1576
1577
1578
1579
1580
1581
1582
1583
1584
1585
1586</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1554</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_rest'>rest</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_rest'>rest</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='const'><a href="../../../Hash.html" title="Hash (class)">Hash</a></span> <span class='op'>===</span> <span class='id identifier rubyid_path'>path</span>
    <span class='id identifier rubyid_options'>options</span>  <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>
    <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_to'>to</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid__value'>_value</span><span class='op'>|</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><a href="../../../String.html" title="String (class)">String</a></span><span class='rparen'>)</span> <span class='rbrace'>}</span>

    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Route path not specified</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

    <span class='kw'>case</span> <span class='id identifier rubyid_to'>to</span>
    <span class='kw'>when</span> <span class='const'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span>
      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_action'>action</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_to'>to</span>
    <span class='kw'>when</span> <span class='const'><a href="../../../String.html" title="String (class)">String</a></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_to'>to</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>#</span><span class='regexp_end'>/</span></span>
        <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_to'>to</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_to'>to</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_controller'>controller</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_to'>to</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_to'>to</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_to'>to</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_paths'>paths</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_path'>path</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_rest'>rest</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='id identifier rubyid_paths'>paths</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_path'>path</span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='id identifier rubyid_rest'>rest</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_defaults'>defaults</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_defaults'>defaults</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_defaults'>defaults</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_map_match'>map_match</span><span class='lparen'>(</span><span class='id identifier rubyid_paths'>paths</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_map_match'>map_match</span><span class='lparen'>(</span><span class='id identifier rubyid_paths'>paths</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="member-instance_method">
  <h3 class='signature '>
    #<strong>member</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>To add a member route, add a member block into the resource block:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_photos'>photos</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_member'>member</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_get'>get</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>preview</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>This will recognize <code>/photos/1/preview</code> with GET, and route to
the preview action of <code>PhotosController</code>. It will also create the
<code>preview_photo_url</code> and <code>preview_photo_path</code> helpers.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1480-L1494'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1480
1481
1482
1483
1484
1485
1486
1487
1488
1489
1490
1491
1492
1493
1494</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1480</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_member'>member</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_resource_scope?'>resource_scope?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t use member outside resource(s) scope</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_with_scope_level'>with_scope_level</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_member'>member</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_shallow?'>shallow?</span>
      <span class='id identifier rubyid_shallow_scope'>shallow_scope</span> <span class='lbrace'>{</span>
        <span class='id identifier rubyid_path_scope'>path_scope</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_member_scope'>member_scope</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='kw'>yield</span> <span class='rbrace'>}</span>
      <span class='rbrace'>}</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_path_scope'>path_scope</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_member_scope'>member_scope</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='kw'>yield</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="namespace-instance_method">
  <h3 class='signature '>
    #<strong>namespace</strong>(path, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See <a href="Scoping.html#namespace-instance_method" title="ActionDispatch::Routing::Mapper::Scoping#namespace (method)">Scoping#namespace</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1529-L1535'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1529
1530
1531
1532
1533
1534
1535</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1529</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_namespace'>namespace</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_resource_scope?'>resource_scope?</span>
    <span class='id identifier rubyid_nested'>nested</span> <span class='lbrace'>{</span> <span class='kw'>super</span> <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='kw'>super</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="nested-instance_method">
  <h3 class='signature '>
    #<strong>nested</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1508-L1526'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1508
1509
1510
1511
1512
1513
1514
1515
1516
1517
1518
1519
1520
1521
1522
1523
1524
1525
1526</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1508</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_nested'>nested</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_resource_scope?'>resource_scope?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t use nested outside resource(s) scope</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_with_scope_level'>with_scope_level</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_nested'>nested</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_shallow?'>shallow?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_shallow_nesting_depth'>shallow_nesting_depth</span> <span class='op'>&gt;=</span> <span class='int'>1</span>
      <span class='id identifier rubyid_shallow_scope'>shallow_scope</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_path_scope'>path_scope</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_nested_scope'>nested_scope</span><span class='rparen'>)</span> <span class='kw'>do</span>
          <span class='id identifier rubyid_scope'>scope</span><span class='lparen'>(</span><span class='id identifier rubyid_nested_options'>nested_options</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='kw'>yield</span> <span class='rbrace'>}</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_path_scope'>path_scope</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_nested_scope'>nested_scope</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_scope'>scope</span><span class='lparen'>(</span><span class='id identifier rubyid_nested_options'>nested_options</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='kw'>yield</span> <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="new-instance_method">
  <h3 class='signature '>
    #<strong>new</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1496-L1506'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1496
1497
1498
1499
1500
1501
1502
1503
1504
1505
1506</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1496</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_new'>new</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_resource_scope?'>resource_scope?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t use new outside resource(s) scope</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_with_scope_level'>with_scope_level</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_path_scope'>path_scope</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_new_scope'>new_scope</span><span class='lparen'>(</span><span class='id identifier rubyid_action_path'>action_path</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='kw'>yield</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="resource-instance_method">
  <h3 class='signature '>
    #<strong>resource</strong>(*resources, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sometimes, you have a resource that clients always look up without
referencing an ID. A common example, /profile always shows the profile of
the currently logged in user. In this case, you can use a singular resource
to map /profile (rather than /profile/:id) to the show action:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resource'>resource</span> <span class='symbeg'>:</span><span class='id identifier rubyid_profile'>profile</span></code></pre>

<p>creates six different routes in your application, all mapping to the
<code>Profiles</code> controller (note that the controller is named after the plural):</p>

<pre class="code ruby"><code class="ruby">GET       /profile/new
GET       /profile
GET       /profile/edit
PATCH/PUT /profile
DELETE    /profile
POST      /profile</code></pre>

<h3 id="label-Options">Options</h3>

<p>Takes same options as <a href="#resources-instance_method" title="ActionDispatch::Routing::Mapper::Resources#resources (method)">#resources</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1254-L1281'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1254
1255
1256
1257
1258
1259
1260
1261
1262
1263
1264
1265
1266
1267
1268
1269
1270
1271
1272
1273
1274
1275
1276
1277
1278
1279
1280
1281</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1254</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_resource'>resource</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_resources'>resources</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_resources'>resources</span><span class='period'>.</span><span class='id identifier rubyid_extract_options!'>extract_options!</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_apply_common_behavior_for'>apply_common_behavior_for</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_resource'>resource</span><span class='comma'>,</span> <span class='id identifier rubyid_resources'>resources</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>self</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_with_scope_level'>with_scope_level</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_resource'>resource</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_apply_action_options'>apply_action_options</span> <span class='id identifier rubyid_options'>options</span>
    <span class='id identifier rubyid_resource_scope'>resource_scope</span><span class='lparen'>(</span><span class='const'><a href="Resources/SingletonResource.html" title="ActionDispatch::Routing::Mapper::Resources::SingletonResource (class)">SingletonResource</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Resources/SingletonResource.html#new-class_method" title="ActionDispatch::Routing::Mapper::Resources::SingletonResource.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_resources'>resources</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span><span class='comma'>,</span> <span class='id identifier rubyid_api_only?'>api_only?</span><span class='comma'>,</span> <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_shallow'>shallow</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='kw'>yield</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

      <span class='id identifier rubyid_concerns'>concerns</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_concerns'>concerns</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_concerns'>concerns</span><span class='rbracket'>]</span>

      <span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_get'>get</span> <span class='symbeg'>:</span><span class='id identifier rubyid_new'>new</span>
      <span class='kw'>end</span> <span class='kw'>if</span> <span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_actions'>actions</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>

      <span class='id identifier rubyid_set_member_mappings_for_resource'>set_member_mappings_for_resource</span>

      <span class='id identifier rubyid_collection'>collection</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_post'>post</span> <span class='symbeg'>:</span><span class='id identifier rubyid_create'>create</span>
      <span class='kw'>end</span> <span class='kw'>if</span> <span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_actions'>actions</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_create'>create</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="resources-instance_method">
  <h3 class='signature '>
    #<strong>resources</strong>(*resources, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>In Rails, a resourceful route provides a mapping between HTTP verbs and
URLs and controller actions. By convention, each action also maps to
particular CRUD operations in a database. A single entry in the routing
file, such as</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_photos'>photos</span></code></pre>

<p>creates seven different routes in your application, all mapping to the
<code>Photos</code> controller:</p>

<pre class="code ruby"><code class="ruby">GET       /photos
GET       /photos/new
POST      /photos
GET       /photos/:id
GET       /photos/:id/edit
PATCH/PUT /photos/:id
DELETE    /photos/:id</code></pre>

<p><code>Resources</code> can also be nested infinitely by using this block
syntax:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_photos'>photos</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_comments'>comments</span>
<span class='kw'>end</span></code></pre>

<p>This generates the following comments routes:</p>

<pre class="code ruby"><code class="ruby">GET       /photos/:photo_id/comments
GET       /photos/:photo_id/comments/new
POST      /photos/:photo_id/comments
GET       /photos/:photo_id/comments/:id
GET       /photos/:photo_id/comments/:id/edit
PATCH/PUT /photos/:photo_id/comments/:id
DELETE    /photos/:photo_id/comments/:id</code></pre>

<h3 id="label-Options">Options</h3>

<p>Takes same options as <a href="Base.html#match-instance_method" title="ActionDispatch::Routing::Mapper::Base#match (method)">Base#match</a> as well as:</p>
<dl class="rdoc-list label-list"><dt>:path_names
<dd>
<p>Allows you to change the segment component of the <code>edit</code> and
<code>new</code> actions. Actions not specified are not changed.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_posts'>posts</span><span class='comma'>,</span> <span class='label'>path_names:</span> <span class='lbrace'>{</span> <span class='label'>new:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brand_new</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span></code></pre>

<p>The above example will now change /posts/new to /posts/brand_new</p>
</dd><dt>:path
<dd>
<p>Allows you to change the path prefix for the resource.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_posts'>posts</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>postings</span><span class='tstring_end'>&#39;</span></span></code></pre>

<p>The resource and all segments will now route to /postings instead of /posts</p>
</dd><dt>:only
<dd>
<p>Only generate routes for the given actions.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_cows'>cows</span><span class='comma'>,</span> <span class='label'>only:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_show'>show</span>
<span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_cows'>cows</span><span class='comma'>,</span> <span class='label'>only:</span> <span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_show'>show</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_index'>index</span><span class='rbracket'>]</span></code></pre>
</dd><dt>:except
<dd>
<p>Generate all routes except for the given actions.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_cows'>cows</span><span class='comma'>,</span> <span class='label'>except:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_show'>show</span>
<span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_cows'>cows</span><span class='comma'>,</span> <span class='label'>except:</span> <span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_show'>show</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_index'>index</span><span class='rbracket'>]</span></code></pre>
</dd><dt>:shallow
<dd>
<p>Generates shallow routes for nested resource(s). When placed on a parent
resource, generates shallow routes for all nested resources.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_posts'>posts</span><span class='comma'>,</span> <span class='label'>shallow:</span> <span class='kw'>true</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_comments'>comments</span>
<span class='kw'>end</span></code></pre>

<p>Is the same as:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_posts'>posts</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_comments'>comments</span><span class='comma'>,</span> <span class='label'>except:</span> <span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_show'>show</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_edit'>edit</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_update'>update</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_destroy'>destroy</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_comments'>comments</span><span class='comma'>,</span> <span class='label'>only:</span> <span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_show'>show</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_edit'>edit</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_update'>update</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_destroy'>destroy</span><span class='rbracket'>]</span></code></pre>

<p>This allows URLs for resources that otherwise would be deeply nested such
as a comment on a blog post like
<code>/posts/a-long-permalink/comments/1234</code> to be shortened to just
<code>/comments/1234</code>.</p>
</dd><dt>:shallow_path
<dd>
<p>Prefixes nested shallow routes with the specified path.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_scope'>scope</span> <span class='label'>shallow_path:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sekret</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_posts'>posts</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_comments'>comments</span><span class='comma'>,</span> <span class='label'>shallow:</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>The <code>comments</code> resource here will have the following routes
generated for it:</p>

<pre class="code ruby"><code class="ruby">post_comments    GET       /posts/:post_id/comments(.:format)
post_comments    POST      /posts/:post_id/comments(.:format)
new_post_comment GET       /posts/:post_id/comments/new(.:format)
edit_comment     GET       /sekret/comments/:id/edit(.:format)
comment          GET       /sekret/comments/:id(.:format)
comment          PATCH/PUT /sekret/comments/:id(.:format)
comment          DELETE    /sekret/comments/:id(.:format)</code></pre>
</dd><dt>:shallow_prefix
<dd>
<p>Prefixes nested shallow route names with specified prefix.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_scope'>scope</span> <span class='label'>shallow_prefix:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sekret</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_posts'>posts</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_comments'>comments</span><span class='comma'>,</span> <span class='label'>shallow:</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>The <code>comments</code> resource here will have the following routes
generated for it:</p>

<pre class="code ruby"><code class="ruby">post_comments           GET       /posts/:post_id/comments(.:format)
post_comments           POST      /posts/:post_id/comments(.:format)
new_post_comment        GET       /posts/:post_id/comments/new(.:format)
edit_sekret_comment     GET       /comments/:id/edit(.:format)
sekret_comment          GET       /comments/:id(.:format)
sekret_comment          PATCH/PUT /comments/:id(.:format)
sekret_comment          DELETE    /comments/:id(.:format)</code></pre>
</dd><dt>:format
<dd>
<p>Allows you to specify the default value for optional <code>format</code>
segment or disable it by supplying <code>false</code>.</p>
</dd></dl>

<h3 id="label-Examples">Examples</h3>

<pre class="code ruby"><code class="ruby"><span class='comment'># routes call {Admin::PostsController}
</span><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_posts'>posts</span><span class='comma'>,</span> <span class='label'>module:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>admin</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># resource actions are at /admin/posts.
</span><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_posts'>posts</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>admin/posts</span><span class='tstring_end'>&quot;</span></span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1415-L1443'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1415
1416
1417
1418
1419
1420
1421
1422
1423
1424
1425
1426
1427
1428
1429
1430
1431
1432
1433
1434
1435
1436
1437
1438
1439
1440
1441
1442
1443</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1415</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_resources'>resources</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_resources'>resources</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_resources'>resources</span><span class='period'>.</span><span class='id identifier rubyid_extract_options!'>extract_options!</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_apply_common_behavior_for'>apply_common_behavior_for</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_resources'>resources</span><span class='comma'>,</span> <span class='id identifier rubyid_resources'>resources</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>self</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_with_scope_level'>with_scope_level</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_resources'>resources</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_apply_action_options'>apply_action_options</span> <span class='id identifier rubyid_options'>options</span>
    <span class='id identifier rubyid_resource_scope'>resource_scope</span><span class='lparen'>(</span><span class='const'><a href="Resources/Resource.html" title="ActionDispatch::Routing::Mapper::Resources::Resource (class)">Resource</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Resources/Resource.html#new-class_method" title="ActionDispatch::Routing::Mapper::Resources::Resource.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_resources'>resources</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span><span class='comma'>,</span> <span class='id identifier rubyid_api_only?'>api_only?</span><span class='comma'>,</span> <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_shallow'>shallow</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='kw'>yield</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

      <span class='id identifier rubyid_concerns'>concerns</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_concerns'>concerns</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_concerns'>concerns</span><span class='rbracket'>]</span>

      <span class='id identifier rubyid_collection'>collection</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_get'>get</span>  <span class='symbeg'>:</span><span class='id identifier rubyid_index'>index</span> <span class='kw'>if</span> <span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_actions'>actions</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_index'>index</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_post'>post</span> <span class='symbeg'>:</span><span class='id identifier rubyid_create'>create</span> <span class='kw'>if</span> <span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_actions'>actions</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_create'>create</span><span class='rparen'>)</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_get'>get</span> <span class='symbeg'>:</span><span class='id identifier rubyid_new'>new</span>
      <span class='kw'>end</span> <span class='kw'>if</span> <span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_actions'>actions</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>

      <span class='id identifier rubyid_set_member_mappings_for_resource'>set_member_mappings_for_resource</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="resources_path_names-instance_method">
  <h3 class='signature '>
    #<strong>resources_path_names</strong>(options)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1229-L1231'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1229
1230
1231</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1229</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_resources_path_names'>resources_path_names</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_path_names'>path_names</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="root-instance_method">
  <h3 class='signature '>
    #<strong>root</strong>(path, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>You can specify what <a href="../../../Rails.html" title="Rails (module)">::Rails</a> should route "/" to with the root method:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_root'><a href="../../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span> <span class='label'>to:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pages#main</span><span class='tstring_end'>&#39;</span></span></code></pre>

<p>For options, see <a href="#match-instance_method" title="ActionDispatch::Routing::Mapper::Resources#match (method)">#match</a>, as <code>root</code> uses it internally.</p>

<p>You can also pass a string which will expand</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_root'><a href="../../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pages#main</span><span class='tstring_end'>&#39;</span></span></code></pre>

<p>You should put the root route at the top of <code>config/routes.rb</code>,
because this means it will be matched first. As this is the most popular
route of most <a href="../../../Rails.html" title="Rails (module)">::Rails</a> applications, this is beneficial.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1601-L1619'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1601
1602
1603
1604
1605
1606
1607
1608
1609
1610
1611
1612
1613
1614
1615
1616
1617
1618
1619</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1601</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_root'><a href="../../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><a href="../../../String.html" title="String (class)">String</a></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_to'>to</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><a href="../../../Hash.html" title="Hash (class)">Hash</a></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>must be called with a path and/or options</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='ivar'>@scope</span><span class='period'>.</span><span class='id identifier rubyid_resources?'>resources?</span>
    <span class='id identifier rubyid_with_scope_level'>with_scope_level</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_root'><a href="../../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_path_scope'>path_scope</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_match_root_route'>match_root_route</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_match_root_route'>match_root_route</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_member_mappings_for_resource-instance_method">
  <h3 class='signature priv'>
    #<strong>set_member_mappings_for_resource</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1789-L1799'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1789
1790
1791
1792
1793
1794
1795
1796
1797
1798
1799</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1789</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_member_mappings_for_resource'>set_member_mappings_for_resource</span> <span class='comment'># :doc:
</span>  <span class='id identifier rubyid_member'>member</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_get'>get</span> <span class='symbeg'>:</span><span class='id identifier rubyid_edit'>edit</span> <span class='kw'>if</span> <span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_actions'>actions</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_edit'>edit</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_get'>get</span> <span class='symbeg'>:</span><span class='id identifier rubyid_show'>show</span> <span class='kw'>if</span> <span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_actions'>actions</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_show'>show</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_actions'>actions</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_update'>update</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_patch'>patch</span> <span class='symbeg'>:</span><span class='id identifier rubyid_update'>update</span>
      <span class='id identifier rubyid_put'>put</span>   <span class='symbeg'>:</span><span class='id identifier rubyid_update'>update</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_delete'>delete</span> <span class='symbeg'>:</span><span class='id identifier rubyid_destroy'>destroy</span> <span class='kw'>if</span> <span class='id identifier rubyid_parent_resource'>parent_resource</span><span class='period'>.</span><span class='id identifier rubyid_actions'>actions</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_destroy'>destroy</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="with_scope_level-instance_method">
  <h3 class='signature priv'>
    #<strong>with_scope_level</strong>(kind)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/5-1-stable/actionpack/lib/action_dispatch/routing/mapper.rb#L1685-L1690'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1685
1686
1687
1688
1689
1690</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 1685</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_with_scope_level'>with_scope_level</span><span class='lparen'>(</span><span class='id identifier rubyid_kind'>kind</span><span class='rparen'>)</span> <span class='comment'># :doc:
</span>  <span class='ivar'>@scope</span> <span class='op'>=</span> <span class='ivar'>@scope</span><span class='period'>.</span><span class='id identifier rubyid_new_level'>new_level</span><span class='lparen'>(</span><span class='id identifier rubyid_kind'>kind</span><span class='rparen'>)</span>
  <span class='kw'>yield</span>
<span class='kw'>ensure</span>
  <span class='ivar'>@scope</span> <span class='op'>=</span> <span class='ivar'>@scope</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.8 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.9.0 (ruby-2.5.0p-1)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>