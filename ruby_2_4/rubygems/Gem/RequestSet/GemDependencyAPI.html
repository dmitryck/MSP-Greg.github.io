<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Gem::RequestSet::GemDependencyAPI &mdash; rubygems  Ruby-2.4.1 p111</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Gem::RequestSet::GemDependencyAPI",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
        <a href='../../../../index.html'>Home</a> &raquo; 
        <a href='../../../index.html'>Ruby-2.4.1</a> &raquo; 
        <a href='../../index.html'>rubygems</a> &raquo; 
        <a href='../../_index.html#alpha_G'>Index (G)</a> &raquo; 
        <a href="../../Gem.html" title="Gem (module)">Gem</a> &raquo; 
        <a href="../RequestSet.html" title="Gem::RequestSet (class)">RequestSet</a> &raquo; 
        <span class='title'><a id='t2_doc_top' href='#'>GemDependencyAPI&nbsp;&#x25B2;</a></span>
      </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Gem::RequestSet::GemDependencyAPI</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L33'>lib/rubygems/request_set/gem_dependency_api.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>A semi-compatible DSL for the Bundler Gemfile and Isolate gem dependencies
files.</p>

<p>To work with both the Bundler Gemfile and Isolate formats this
implementation takes some liberties to allow compatibility with each, most
notably in <a href="#source-instance_method" title="Gem::RequestSet::GemDependencyAPI#source (method)">#source</a>.</p>

<p>A basic gem dependencies file will look like the following:</p>

<pre class="code ruby"><code class="ruby">source &#39;https://rubygems.org&#39;

gem &#39;rails&#39;, &#39;3.2.14a
gem &#39;devise&#39;, &#39;~&gt; 2.1&#39;, &#39;&gt;= 2.1.3&#39;
gem &#39;cancan&#39;
gem &#39;airbrake&#39;
gem &#39;pg&#39;</code></pre>

<p>RubyGems recommends saving this as gem.deps.rb over Gemfile or Isolate.</p>

<p>To install the gems in this Gemfile use `gem install -g` to install it and
create a lockfile.  The lockfile will ensure that when you make changes to
your gem dependencies file a minimum amount of change is made to the
dependencies of your gems.</p>

<p>RubyGems can activate all the gems in your dependencies file at startup
using the RUBYGEMS_GEMDEPS environment variable or through
<a href="../../Gem.html#use_gemdeps-class_method" title="Gem.use_gemdeps (method)">Gem.use_gemdeps</a>. See <a href="../../Gem.html#use_gemdeps-class_method" title="Gem.use_gemdeps (method)">Gem.use_gemdeps</a> for details and warnings.</p>

<p>See `gem help install` and `gem help gem_dependencies` for further details.</p>

  </div>
</div>
</div>
<h2 class='h2_sum'>Gem Dependencies DSL</h2>
<div>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#gem-instance_method" title="#gem (instance method)">#<strong>gem</strong>(name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Specifies a gem dependency with the given <code>name</code> and <code>requirements</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#gemspec-instance_method" title="#gemspec (instance method)">#<strong>gemspec</strong>(options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Loads dependencies from a gemspec file.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#git-instance_method" title="#git (instance method)">#<strong>git</strong>(repository)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Block form for specifying gems from a git <code>repository</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#git_source-instance_method" title="#git_source (instance method)">#<strong>git_source</strong>(name, &amp;callback)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Defines a custom git source that uses <code>name</code> to expand git repositories for
use in gems built from git repositories.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#group-instance_method" title="#group (instance method)">#<strong>group</strong>(*groups)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Block form for placing a dependency in the given <code>groups</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#pin_gem_source-instance_method" title="#pin_gem_source (instance method)">#<strong>pin_gem_source</strong>(name, type = :default, source = nil)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Pins the gem <code>name</code> to the given <a href="#source-instance_method" title="Gem::RequestSet::GemDependencyAPI#source (method)">#source</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#platform-instance_method" title="#platform (instance method)">#<strong>platform</strong>(*platforms)  </a>
      (also: #platforms)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Block form for restricting gems to a set of platforms.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#platforms-instance_method" title="#platforms (instance method)">#<strong>platforms</strong>(*platforms)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#platform-instance_method" title="Gem::RequestSet::GemDependencyAPI#platform (method)">#platform</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ruby-instance_method" title="#ruby (instance method)">#<strong>ruby</strong>(version, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Restricts this gem dependencies file to the given ruby <code>version</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#source-instance_method" title="#source (instance method)">#<strong>source</strong>(url)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets <code>url</code> as a source for gems for this dependency API.</p></div>
    </div>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(set, path)  &#x21d2; GemDependencyAPI </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new <code>GemDependencyAPI</code> that will add dependencies to
the <a href="../RequestSet.html" title="Gem::RequestSet (class)">::Gem::RequestSet</a> <code>set</code> based on the dependency API description in
<a href="../../Gem.html#path-class_method" title="Gem.path (method)">Gem.path</a>.</p></div>
    </div>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='instance_Attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#dependencies-instance_method" title="#dependencies (instance method)">#<strong>dependencies</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The gems required by <a href="#gem-instance_method" title="Gem::RequestSet::GemDependencyAPI#gem (method)">#gem</a> statements in the gem.deps.rb file.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#requires-instance_method" title="#requires (instance method)">#<strong>requires</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>A Hash containing gem names and files to require from those gems.</p></div>
    </div>
  </li>
</ul>
</div>
        

<h2 class='h2_sum' id='instance_Method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#load-instance_method" title="#load (instance method)">#<strong>load</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Loads the gem dependency file and returns self.</p></div>
    </div>
  </li>
</ul>
</div>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(set, path)  &#x21d2; <code>GemDependencyAPI</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new <code>GemDependencyAPI</code> that will add dependencies to
the <a href="../RequestSet.html" title="Gem::RequestSet (class)">::Gem::RequestSet</a> <code>set</code> based on the dependency API description in
<a href="../../Gem.html#path-class_method" title="Gem.path (method)">Gem.path</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L194-L225'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 194</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span> <span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span>
  <span class='ivar'>@set</span> <span class='op'>=</span> <span class='id identifier rubyid_set'>set</span>
  <span class='ivar'>@path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>

  <span class='ivar'>@current_groups</span>     <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@current_platforms</span>  <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@current_repository</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@dependencies</span>       <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@default_sources</span>    <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@git_set</span>            <span class='op'>=</span> <span class='ivar'>@set</span><span class='period'>.</span><span class='id identifier rubyid_git_set'>git_set</span>
  <span class='ivar'>@git_sources</span>        <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@installing</span>         <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@requires</span>           <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
  <span class='ivar'>@vendor_set</span>         <span class='op'>=</span> <span class='ivar'>@set</span><span class='period'>.</span><span class='id identifier rubyid_vendor_set'>vendor_set</span>
  <span class='ivar'>@source_set</span>         <span class='op'>=</span> <span class='ivar'>@set</span><span class='period'>.</span><span class='id identifier rubyid_source_set'>source_set</span>
  <span class='ivar'>@gem_sources</span>        <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@without_groups</span>     <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_git_source'>git_source</span> <span class='symbeg'>:</span><span class='id identifier rubyid_github'>github</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_repo_name'>repo_name</span><span class='op'>|</span>
    <span class='id identifier rubyid_repo_name'>repo_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repo_name'>repo_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repo_name'>repo_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_repo_name'>repo_name</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span>

    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git://github.com/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repo_name'>repo_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.git</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_git_source'>git_source</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bitbucket'>bitbucket</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_repo_name'>repo_name</span><span class='op'>|</span>
    <span class='id identifier rubyid_repo_name'>repo_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repo_name'>repo_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repo_name'>repo_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_repo_name'>repo_name</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_repo_name'>repo_name</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span>

    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user'>user</span><span class='embexpr_end'>}</span><span class='tstring_content'>@bitbucket.org/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repo_name'>repo_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.git</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="dependencies-instance_method">
  <h3 class='signature ro first'>
    #<strong>dependencies</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The gems required by <a href="#gem-instance_method" title="Gem::RequestSet::GemDependencyAPI#gem (method)">#gem</a> statements in the gem.deps.rb file</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L168-L168'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


168</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 168</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_dependencies'>dependencies</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="requires-instance_method">
  <h3 class='signature ro'>
    #<strong>requires</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A Hash containing gem names and files to require from those gems.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L178-L178'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


178</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 178</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_requires'>requires</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="gem-instance_method">
  <h3 class='signature  first'>
    <div class='inline-block'>
      <span class='overload'>#<strong>gem</strong>(name)  </span>
      <span class='overload'>#<strong>gem</strong>(name, *requirements)  </span>
      <span class='overload'>#<strong>gem</strong>(name, *requirements, options)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Specifies a gem dependency with the given <code>name</code> and <code>requirements</code>.  You
may also supply <code>options</code> following the <code>requirements</code></p>

<p><code>options</code> include:</p>
<dl class="rdoc-list note-list"><dt>require: 
<dd>
<p>RubyGems does not provide any autorequire features so requires in a gem
dependencies file are recorded but ignored.</p>

<p>In bundler the require: option overrides the file to require during
Bundler.require.  By default the name of the dependency is required in
Bundler.  A single file or an Array of files may be given.</p>

<p>To disable requiring any file give <code>false</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rake</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>require:</span> <span class='kw'>false</span></code></pre>
</dd><dt>group: 
<dd>
<p>Place the dependencies in the given dependency group.  A single group or an
Array of groups may be given.</p>

<p>See also #group</p>
</dd><dt>platform: 
<dd>
<p>Only install the dependency on the given platform.  A single platform or an
Array of platforms may be given.</p>

<p>See #platform for a list of platforms available.</p>
</dd><dt>path: 
<dd>
<p>Install this dependency from an unpacked gem in the given directory.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>modified_gem</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>path:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>vendor/modified_gem</span><span class='tstring_end'>&#39;</span></span></code></pre>
</dd><dt>git: 
<dd>
<p>Install this dependency from a git repository:</p>

<pre class="code ruby"><code class="ruby">gem &#39;private_gem&#39;, git: git@my.company.example:private_gem.git&#39;</code></pre>
</dd><dt>gist: 
<dd>
<p>Install this dependency from the gist ID:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bang</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>gist:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1232884</span><span class='tstring_end'>&#39;</span></span></code></pre>
</dd><dt>github: 
<dd>
<p>Install this dependency from a github git repository:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>private_gem</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>github:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>my_company/private_gem</span><span class='tstring_end'>&#39;</span></span></code></pre>
</dd><dt>submodules: 
<dd>
<p>Set to <code>true</code> to include submodules when fetching the git
repository for git:, gist: and github: dependencies.</p>
</dd><dt>ref: 
<dd>
<p>Use the given commit name or SHA for git:, gist: and github: dependencies.</p>
</dd><dt>branch: 
<dd>
<p>Use the given branch for git:, gist: and github: dependencies.</p>
</dd><dt>tag: 
<dd>
<p>Use the given tag for git:, gist: and github: dependencies.</p>
</dd></dl>

  </div>
</div>
<div class='tags'>
  
</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L356-L397'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 356</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_gem'>gem</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_requirements'>requirements</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='kw'>if</span> <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_git'>git</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@current_repository</span> <span class='kw'>if</span> <span class='ivar'>@current_repository</span>

  <span class='id identifier rubyid_source_set'>source_set</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_source_set'>source_set</span> <span class='op'>||=</span> <span class='id identifier rubyid_gem_path'>gem_path</span>       <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_source_set'>source_set</span> <span class='op'>||=</span> <span class='id identifier rubyid_gem_git'>gem_git</span>        <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_source_set'>source_set</span> <span class='op'>||=</span> <span class='id identifier rubyid_gem_git_source'>gem_git_source</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_source_set'>source_set</span> <span class='op'>||=</span> <span class='id identifier rubyid_gem_source'>gem_source</span>     <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>

  <span class='id identifier rubyid_duplicate'>duplicate</span> <span class='op'>=</span> <span class='ivar'>@dependencies</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_name'>name</span>

  <span class='ivar'>@dependencies</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_source_set'>source_set</span> <span class='kw'>then</span>
      <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../Requirement.html" title="Gem::Requirement (class)">Requirement</a></span><span class='period'>.</span><span class='id identifier rubyid_default'><a href="../Requirement.html#default-class_method" title="Gem::Requirement.default (method)">default</a></span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_source_set'>source_set</span> <span class='kw'>then</span>
      <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../Requirement.html" title="Gem::Requirement (class)">Requirement</a></span><span class='period'>.</span><span class='id identifier rubyid_source_set'><a href="../Requirement.html#source_set-class_method" title="Gem::Requirement.source_set (method)">source_set</a></span>
    <span class='kw'>else</span>
      <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../Requirement.html" title="Gem::Requirement (class)">Requirement</a></span><span class='period'>.</span><span class='id identifier rubyid_create'><a href="../Requirement.html#create-class_method" title="Gem::Requirement.create (method)">create</a></span> <span class='id identifier rubyid_requirements'>requirements</span>
    <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_gem_platforms'>gem_platforms</span> <span class='id identifier rubyid_options'>options</span>

  <span class='id identifier rubyid_groups'>groups</span> <span class='op'>=</span> <span class='id identifier rubyid_gem_group'>gem_group</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_groups'>groups</span> <span class='op'>&amp;</span> <span class='ivar'>@without_groups</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_pin_gem_source'>pin_gem_source</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span> <span class='kw'>unless</span> <span class='id identifier rubyid_source_set'>source_set</span>

  <span class='id identifier rubyid_gem_requires'>gem_requires</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_duplicate'>duplicate</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_warn'>warn</span> <span class='heredoc_beg'>&lt;&lt;-WARNING</span>
<span class='tstring_content'>Gem dependencies file </span><span class='embexpr_beg'>#{</span><span class='ivar'>@path</span><span class='embexpr_end'>}</span><span class='tstring_content'> requires </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> more than once.
</span><span class='heredoc_end'>    WARNING
</span>  <span class='kw'>end</span>

  <span class='ivar'>@set</span><span class='period'>.</span><span class='id identifier rubyid_gem'>gem</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_requirements'>requirements</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gemspec-instance_method">
  <h3 class='signature '>
    #<strong>gemspec</strong>(options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Loads dependencies from a gemspec file.</p>

<p><code>options</code> include:</p>
<dl class="rdoc-list note-list"><dt>name: 
<dd>
<p>The name portion of the gemspec file.  Defaults to searching for any
gemspec file in the current directory.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gemspec'>gemspec</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>my_gem</span><span class='tstring_end'>&#39;</span></span></code></pre>
</dd><dt>path: 
<dd>
<p>The path the gemspec lives in.  Defaults to the current directory:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gemspec'>gemspec</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>my_gem</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>path:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>gemspecs</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>my_gem</span><span class='tstring_end'>&#39;</span></span></code></pre>
</dd><dt>development_group: 
<dd>
<p>The group to add development dependencies to.  By default this is
:development.  Only one group may be specified.</p>
</dd></dl>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L637-L663'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 637</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_gemspec'>gemspec</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_name'>name</span>              <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>{,*}</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_path'>path</span>              <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_development_group'>development_group</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_development_group'>development_group</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='symbeg'>:</span><span class='id identifier rubyid_development'>development</span>

  <span class='id identifier rubyid_spec'>spec</span> <span class='op'>=</span> <span class='id identifier rubyid_find_gemspec'>find_gemspec</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span>

  <span class='id identifier rubyid_groups'>groups</span> <span class='op'>=</span> <span class='id identifier rubyid_gem_group'>gem_group</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='id identifier rubyid_self_dep'>self_dep</span> <span class='op'>=</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../Dependency.html" title="Gem::Dependency (class)">Dependency</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="../Dependency.html#new-class_method" title="Gem::Dependency.new (method)">new</a></span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>

  <span class='id identifier rubyid_add_dependencies'>add_dependencies</span> <span class='id identifier rubyid_groups'>groups</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_self_dep'>self_dep</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_add_dependencies'>add_dependencies</span> <span class='id identifier rubyid_groups'>groups</span><span class='comma'>,</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_runtime_dependencies'>runtime_dependencies</span>

  <span class='ivar'>@dependencies</span><span class='lbracket'>[</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../Requirement.html" title="Gem::Requirement (class)">Requirement</a></span><span class='period'>.</span><span class='id identifier rubyid_source_set'><a href="../Requirement.html#source_set-class_method" title="Gem::Requirement.source_set (method)">source_set</a></span>

  <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_dependencies'>dependencies</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dep'>dep</span><span class='op'>|</span>
    <span class='ivar'>@dependencies</span><span class='lbracket'>[</span><span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_requirement'>requirement</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_groups'>groups</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_development_group'>development_group</span>

  <span class='id identifier rubyid_add_dependencies'>add_dependencies</span> <span class='id identifier rubyid_groups'>groups</span><span class='comma'>,</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_development_dependencies'>development_dependencies</span>

  <span class='ivar'>@vendor_set</span><span class='period'>.</span><span class='id identifier rubyid_add_vendor_gem'>add_vendor_gem</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_gem_requires'>gem_requires</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="git-instance_method">
  <h3 class='signature '>
    #<strong>git</strong>(repository)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Block form for specifying gems from a git <code>repository</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_git'>git</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https://github.com/rails/rails.git</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>activesupport</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>activerecord</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L590-L597'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


590
591
592
593
594
595
596
597</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 590</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_git'>git</span> <span class='id identifier rubyid_repository'>repository</span>
  <span class='ivar'>@current_repository</span> <span class='op'>=</span> <span class='id identifier rubyid_repository'>repository</span>

  <span class='kw'>yield</span>

<span class='kw'>ensure</span>
  <span class='ivar'>@current_repository</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="git_source-instance_method">
  <h3 class='signature '>
    #<strong>git_source</strong>(name, &amp;callback)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Defines a custom git source that uses <code>name</code> to expand git repositories for
use in gems built from git repositories.  You must provide a block that
accepts a git repository name for expansion.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L604-L606'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


604
605
606</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 604</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_git_source'>git_source</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_callback'>callback</span>
  <span class='ivar'>@git_sources</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_callback'>callback</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="group-instance_method">
  <h3 class='signature '>
    #<strong>group</strong>(*groups)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Block form for placing a dependency in the given <code>groups</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_group'>group</span> <span class='symbeg'>:</span><span class='id identifier rubyid_development'>development</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>debugger</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>

<span class='id identifier rubyid_group'>group</span> <span class='symbeg'>:</span><span class='id identifier rubyid_development'>development</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_test'>test</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>minitest</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>

<p>Groups can be excluded at install time using `gem install -g --without
development`.  See `gem help install` and `gem help gem_dependencies` for
further details.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L682-L689'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


682
683
684
685
686
687
688
689</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 682</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_group'>group</span> <span class='op'>*</span><span class='id identifier rubyid_groups'>groups</span>
  <span class='ivar'>@current_groups</span> <span class='op'>=</span> <span class='id identifier rubyid_groups'>groups</span>

  <span class='kw'>yield</span>

<span class='kw'>ensure</span>
  <span class='ivar'>@current_groups</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load-instance_method">
  <h3 class='signature '>
    #<strong>load</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Loads the gem dependency file and returns self.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L279-L283'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


279
280
281
282
283</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 279</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load'>load</span>
  <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='ivar'>@path</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_untaint'>untaint</span><span class='comma'>,</span> <span class='ivar'>@path</span><span class='comma'>,</span> <span class='int'>1</span>

  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pin_gem_source-instance_method">
  <h3 class='signature priv'>
    #<strong>pin_gem_source</strong>(name, type = :default, source = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Pins the gem <code>name</code> to the given <a href="#source-instance_method" title="Gem::RequestSet::GemDependencyAPI#source (method)">#source</a>.  Adding a gem with the same name
from a different <a href="#source-instance_method" title="Gem::RequestSet::GemDependencyAPI#source (method)">#source</a> will raise an exception.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L695-L710'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 695</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pin_gem_source'>pin_gem_source</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span><span class='comma'>,</span> <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_source_description'>source_description</span> <span class='op'>=</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(default)</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_path'>path</span>    <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_source'>source</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_git'>git</span>     <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_source'>source</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_source'>source</span>  <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>source: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_source'>source</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>               <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(unknown)</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>duplicate source </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_source_description'>source_description</span><span class='embexpr_end'>}</span><span class='tstring_content'> for gem </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span>
      <span class='ivar'>@gem_sources</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_source'>source</span><span class='rparen'>)</span> <span class='op'>!=</span> <span class='id identifier rubyid_source'>source</span>

  <span class='ivar'>@gem_sources</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="platform-instance_method">
  <h3 class='signature '>
    #<strong>platform</strong>(*platforms)  
    <span class='aliases'>Also known as: <span class='names'>#platforms</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Block form for restricting gems to a set of platforms.</p>

<p>The gem dependencies platform is different from <a href="../Platform.html" title="Gem::Platform (class)">::Gem::Platform</a>.  A
platform gem.deps.rb platform matches on the ruby engine, the ruby version
and whether or not windows is allowed.</p>
<dl class="rdoc-list note-list"><dt>:ruby, :ruby_XY 
<dd>
<p>Matches non-windows, non-jruby implementations where X and Y can be used to
match releases in the 1.8, 1.9, 2.0 or 2.1 series.</p>
</dd><dt>:mri, :mri_XY 
<dd>
<p>Matches non-windows C Ruby (Matz Ruby) or only the 1.8, 1.9, 2.0 or 2.1
series.</p>
</dd><dt>:mingw, :mingw_XY 
<dd>
<p>Matches 32 bit C Ruby on MinGW or only the 1.8, 1.9, 2.0 or 2.1 series.</p>
</dd><dt>:x64_mingw, :x64_mingw_XY 
<dd>
<p>Matches 64 bit C Ruby on MinGW or only the 1.8, 1.9, 2.0 or 2.1 series.</p>
</dd><dt>:mswin, :mswin_XY 
<dd>
<p>Matches 32 bit C Ruby on Microsoft Windows or only the 1.8, 1.9, 2.0 or 2.1
series.</p>
</dd><dt>:mswin64, :mswin64_XY 
<dd>
<p>Matches 64 bit C Ruby on Microsoft Windows or only the 1.8, 1.9, 2.0 or 2.1
series.</p>
</dd><dt>:jruby, :jruby_XY 
<dd>
<p>Matches JRuby or JRuby in 1.8 or 1.9 mode.</p>
</dd><dt>:maglev 
<dd>
<p>Matches Maglev</p>
</dd><dt>:rbx 
<dd>
<p>Matches non-windows Rubinius</p>
</dd></dl>

<p>NOTE:  There is inconsistency in what environment a platform matches.  You
may need to read the source to know the exact details.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L757-L764'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


757
758
759
760
761
762
763
764</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 757</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_platform'>platform</span> <span class='op'>*</span><span class='id identifier rubyid_platforms'>platforms</span>
  <span class='ivar'>@current_platforms</span> <span class='op'>=</span> <span class='id identifier rubyid_platforms'>platforms</span>

  <span class='kw'>yield</span>

<span class='kw'>ensure</span>
  <span class='ivar'>@current_platforms</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="platforms-instance_method">
  <h3 class='signature '>
    #<strong>platforms</strong>(*platforms)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#platform-instance_method" title="Gem::RequestSet::GemDependencyAPI#platform (method)">#platform</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L772-L772'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


772</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 772</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_platforms'>platforms</span> <span class='symbeg'>:</span><span class='id identifier rubyid_platform'>platform</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ruby-instance_method">
  <h3 class='signature '>
    #<strong>ruby</strong>(version, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Restricts this gem dependencies file to the given ruby <code>version</code>.</p>

<p>You may also provide <code>engine:</code> and <code>engine_version:</code>
options to restrict this gem dependencies file to a particular ruby engine
and its engine version.  This matching is performed by using the
RUBY_ENGINE and engine_specific <a href="../../Gem.html#VERSION-constant" title="Gem::VERSION (constant)">VERSION</a> constants.  (For JRuby,
JRUBY_VERSION).</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L784-L821'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 784</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ruby'>ruby</span> <span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_engine'>engine</span>         <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_engine'>engine</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_engine_version'>engine_version</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_engine_version'>engine_version</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>you must specify engine_version along with the ruby engine</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span>
          <span class='id identifier rubyid_engine'>engine</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_engine_version'>engine_version</span>

  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='ivar'>@installing</span>

  <span class='kw'>unless</span> <span class='const'>RUBY_VERSION</span> <span class='op'>==</span> <span class='id identifier rubyid_version'>version</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your Ruby version is </span><span class='embexpr_beg'>#{</span><span class='const'>RUBY_VERSION</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
              <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>but your </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_deps_file'>gem_deps_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> requires </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../RubyVersionMismatch.html" title="Gem::RubyVersionMismatch (class)">RubyVersionMismatch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_engine'>engine</span> <span class='kw'>and</span> <span class='id identifier rubyid_engine'>engine</span> <span class='op'>!=</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_ruby_engine'><a href="../../Gem.html#ruby_engine-class_method" title="Gem.ruby_engine (method)">ruby_engine</a></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your ruby engine is </span><span class='embexpr_beg'>#{</span><span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_ruby_engine'><a href="../../Gem.html#ruby_engine-class_method" title="Gem.ruby_engine (method)">ruby_engine</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
              <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>but your </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_deps_file'>gem_deps_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> requires </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_engine'>engine</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../RubyVersionMismatch.html" title="Gem::RubyVersionMismatch (class)">RubyVersionMismatch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_engine_version'>engine_version</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_my_engine_version'>my_engine_version</span> <span class='op'>=</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_ruby_engine'><a href="../../Gem.html#ruby_engine-class_method" title="Gem.ruby_engine (method)">ruby_engine</a></span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='embexpr_end'>}</span><span class='tstring_content'>_VERSION</span><span class='tstring_end'>&quot;</span></span>

    <span class='kw'>if</span> <span class='id identifier rubyid_engine_version'>engine_version</span> <span class='op'>!=</span> <span class='id identifier rubyid_my_engine_version'>my_engine_version</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your ruby engine version is </span><span class='embexpr_beg'>#{</span><span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_ruby_engine'><a href="../../Gem.html#ruby_engine-class_method" title="Gem.ruby_engine (method)">ruby_engine</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_my_engine_version'>my_engine_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>but your </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_deps_file'>gem_deps_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> requires </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_engine'>engine</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_engine_version'>engine_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../RubyVersionMismatch.html" title="Gem::RubyVersionMismatch (class)">RubyVersionMismatch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="source-instance_method">
  <h3 class='signature '>
    #<strong>source</strong>(url)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets <code>url</code> as a source for gems for this dependency API.  RubyGems uses the
default configured sources if no source was given.  If a source is set only
that source is used.</p>

<p>This method differs in behavior from Bundler:</p>
<ul><li>
<p>The <code>:gemcutter</code>, # <code>:rubygems</code> and
<code>:rubyforge</code> sources are not supported as they are deprecated in
bundler.</p>
</li><li>
<p>The <code>prepend:</code> option is not supported.  If you wish to order
sources then list them in your preferred order.</p>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_1/lib/rubygems/request_set/gem_dependency_api.rb#L837-L843'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


837
838
839
840
841
842
843</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/request_set/gem_dependency_api.rb', line 837</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_source'>source</span> <span class='id identifier rubyid_url'>url</span>
  <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_sources'><a href="../../Gem.html#sources-class_method" title="Gem.sources (method)">sources</a></span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span> <span class='kw'>if</span> <span class='ivar'>@default_sources</span>

  <span class='ivar'>@default_sources</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_sources'><a href="../../Gem.html#sources-class_method" title="Gem.sources (method)">sources</a></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_url'>url</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.8 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.9.0 (ruby-2.5.0p-1)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>